(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"01f9":function(t,e,n){"use strict";var r=n("2d00"),o=n("5ca1"),i=n("2aba"),s=n("32e9"),a=n("84f2"),u=n("41a0"),c=n("7f20"),d=n("38fd"),l=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",_="values",g=function(){return this};t.exports=function(t,e,n,m,v,C,y){u(n,e,m);var E,S,A,T=function(t){if(!f&&t in N)return N[t];switch(t){case p:return function(){return new n(this,t)};case _:return function(){return new n(this,t)}}return function(){return new n(this,t)}},b=e+" Iterator",O=v==_,I=!1,N=t.prototype,R=N[l]||N[h]||v&&N[v],M=R||T(v),w=v?O?T("entries"):M:void 0,L="Array"==e&&N.entries||R;if(L&&(A=d(L.call(new t)),A!==Object.prototype&&A.next&&(c(A,b,!0),r||"function"==typeof A[l]||s(A,l,g))),O&&R&&R.name!==_&&(I=!0,M=function(){return R.call(this)}),r&&!y||!f&&!I&&N[l]||s(N,l,M),a[e]=M,a[b]=g,v)if(E={values:O?M:T(_),keys:C?M:T(p),entries:w},y)for(S in E)S in N||i(N,S,E[S]);else o(o.P+o.F*(f||I),e,E);return E}},"097d":function(t,e,n){"use strict";var r=n("5ca1"),o=n("8378"),i=n("7726"),s=n("ebd6"),a=n("bcaa");r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},"0d58":function(t,e,n){var r=n("ce10"),o=n("e11e");t.exports=Object.keys||function(t){return r(t,o)}},1495:function(t,e,n){var r=n("86cc"),o=n("cb7c"),i=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){o(t);var n,s=i(e),a=s.length,u=0;while(a>u)r.f(t,n=s[u++],e[n]);return t}},1991:function(t,e,n){var r,o,i,s=n("9b43"),a=n("31f4"),u=n("fab2"),c=n("230e"),d=n("7726"),l=d.process,f=d.setImmediate,h=d.clearImmediate,p=d.MessageChannel,_=d.Dispatch,g=0,m={},v="onreadystatechange",C=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){C.call(t.data)};f&&h||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete m[t]},"process"==n("2d95")(l)?r=function(t){l.nextTick(s(C,t,1))}:_&&_.now?r=function(t){_.now(s(C,t,1))}:p?(o=new p,i=o.port2,o.port1.onmessage=y,r=s(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(t){d.postMessage(t+"","*")},d.addEventListener("message",y,!1)):r=v in c("script")?function(t){u.appendChild(c("script"))[v]=function(){u.removeChild(this),C.call(t)}}:function(t){setTimeout(s(C,t,1),0)}),t.exports={set:f,clear:h}},"1fa8":function(t,e,n){var r=n("cb7c");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(s){var i=t["return"];throw void 0!==i&&r(i.call(t)),s}}},"230e":function(t,e,n){var r=n("d3f4"),o=n("7726").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),o=n("2b4c")("toStringTag"),i="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"27ee":function(t,e,n){var r=n("23c6"),o=n("2b4c")("iterator"),i=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},2877:function(t,e,n){"use strict";function r(t,e,n,r,o,i,s,a){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):o&&(u=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var d=c.render;c.render=function(t,e){return u.call(e),d(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:c}}n.d(e,"a",function(){return r})},"2aba":function(t,e,n){var r=n("7726"),o=n("32e9"),i=n("69a8"),s=n("ca5a")("src"),a=n("fa5b"),u="toString",c=(""+a).split(u);n("8378").inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(i(n,s)||o(n,s,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[s]||a.call(this)})},"2aeb":function(t,e,n){var r=n("cb7c"),o=n("1495"),i=n("e11e"),s=n("613b")("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n("230e")("iframe"),r=i.length,o="<",s=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),c=t.F;while(r--)delete c[u][i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=r(t),n=new a,a[u]=null,n[s]=t):n=c(),void 0===e?n:o(n,e)}},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.6
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function i(t){return!0===t}function s(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function d(t){return"[object Object]"===c.call(t)}function l(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||d(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function _(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}g("slot,component",!0);var m=g("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var C=Object.prototype.hasOwnProperty;function y(t,e){return C.call(t,e)}function E(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var S=/-(\w)/g,A=E(function(t){return t.replace(S,function(t,e){return e?e.toUpperCase():""})}),T=E(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),b=/\B([A-Z])/g,O=E(function(t){return t.replace(b,"-$1").toLowerCase()});function I(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function N(t,e){return t.bind(e)}var R=Function.prototype.bind?N:I;function M(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function w(t,e){for(var n in e)t[n]=e[n];return t}function L(t){for(var e={},n=0;n<t.length;n++)t[n]&&w(e,t[n]);return e}function P(t,e,n){}var x=function(t,e,n){return!1},D=function(t){return t};function U(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every(function(t,n){return U(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every(function(n){return U(t[n],e[n])})}catch(c){return!1}}function k(t,e){for(var n=0;n<t.length;n++)if(U(t[n],e))return n;return-1}function j(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",Y=["component","directive","filter"],G=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:x,isReservedAttr:x,isUnknownElement:x,getTagNamespace:P,parsePlatformTagName:D,mustUseProp:x,async:!0,_lifecycleHooks:G},H="a-zA-Z·À-ÖØ-öø-ͽͿ-῿‌-‍‿-⁀⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�";function q(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function K(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var $=new RegExp("[^"+H+".$_\\d]");function X(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var J,V="__proto__"in{},W="undefined"!==typeof window,z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=z&&WXEnvironment.platform.toLowerCase(),Z=W&&window.navigator.userAgent.toLowerCase(),tt=Z&&/msie|trident/.test(Z),et=Z&&Z.indexOf("msie 9.0")>0,nt=Z&&Z.indexOf("edge/")>0,rt=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),ot=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),it={}.watch,st=!1;if(W)try{var at={};Object.defineProperty(at,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,at)}catch(Ss){}var ut=function(){return void 0===J&&(J=!W&&!z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),J},ct=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function dt(t){return"function"===typeof t&&/native code/.test(t.toString())}var lt,ft="undefined"!==typeof Symbol&&dt(Symbol)&&"undefined"!==typeof Reflect&&dt(Reflect.ownKeys);lt="undefined"!==typeof Set&&dt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ht=P,pt=0,_t=function(){this.id=pt++,this.subs=[]};_t.prototype.addSub=function(t){this.subs.push(t)},_t.prototype.removeSub=function(t){v(this.subs,t)},_t.prototype.depend=function(){_t.target&&_t.target.addDep(this)},_t.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},_t.target=null;var gt=[];function mt(t){gt.push(t),_t.target=t}function vt(){gt.pop(),_t.target=gt[gt.length-1]}var Ct=function(t,e,n,r,o,i,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},yt={child:{configurable:!0}};yt.child.get=function(){return this.componentInstance},Object.defineProperties(Ct.prototype,yt);var Et=function(t){void 0===t&&(t="");var e=new Ct;return e.text=t,e.isComment=!0,e};function St(t){return new Ct(void 0,void 0,void 0,String(t))}function At(t){var e=new Ct(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Tt=Array.prototype,bt=Object.create(Tt),Ot=["push","pop","shift","unshift","splice","sort","reverse"];Ot.forEach(function(t){var e=Tt[t];K(bt,t,function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var o,i=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&s.observeArray(o),s.dep.notify(),i})});var It=Object.getOwnPropertyNames(bt),Nt=!0;function Rt(t){Nt=t}var Mt=function(t){this.value=t,this.dep=new _t,this.vmCount=0,K(t,"__ob__",this),Array.isArray(t)?(V?wt(t,bt):Lt(t,bt,It),this.observeArray(t)):this.walk(t)};function wt(t,e){t.__proto__=e}function Lt(t,e,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];K(t,i,e[i])}}function Pt(t,e){var n;if(u(t)&&!(t instanceof Ct))return y(t,"__ob__")&&t.__ob__ instanceof Mt?n=t.__ob__:Nt&&!ut()&&(Array.isArray(t)||d(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Mt(t)),e&&n&&n.vmCount++,n}function xt(t,e,n,r,o){var i=new _t,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=t[e]);var c=!o&&Pt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return _t.target&&(i.depend(),c&&(c.dep.depend(),Array.isArray(e)&&kt(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!==e&&r!==r||a&&!u||(u?u.call(t,e):n=e,c=!o&&Pt(e),i.notify())}})}}function Dt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(xt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Ut(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||y(t,e)&&(delete t[e],n&&n.dep.notify())}}function kt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&kt(e)}Mt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)xt(t,e[n])},Mt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Pt(t[e])};var jt=B.optionMergeStrategies;function Ft(t,e){if(!e)return t;for(var n,r,o,i=ft?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++)n=i[s],"__ob__"!==n&&(r=t[n],o=e[n],y(t,n)?r!==o&&d(r)&&d(o)&&Ft(r,o):Dt(t,n,o));return t}function Yt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,o="function"===typeof t?t.call(n,n):t;return r?Ft(r,o):o}:e?t?function(){return Ft("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Gt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Bt(n):n}function Bt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Ht(t,e,n,r){var o=Object.create(t||null);return e?w(o,e):o}jt.data=function(t,e,n){return n?Yt(t,e,n):e&&"function"!==typeof e?t:Yt(t,e)},G.forEach(function(t){jt[t]=Gt}),Y.forEach(function(t){jt[t+"s"]=Ht}),jt.watch=function(t,e,n,r){if(t===it&&(t=void 0),e===it&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var i in w(o,t),e){var s=o[i],a=e[i];s&&!Array.isArray(s)&&(s=[s]),o[i]=s?s.concat(a):Array.isArray(a)?a:[a]}return o},jt.props=jt.methods=jt.inject=jt.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return w(o,t),e&&w(o,e),o},jt.provide=Yt;var qt=function(t,e){return void 0===e?t:e};function Kt(t,e){var n=t.props;if(n){var r,o,i,s={};if(Array.isArray(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(i=A(o),s[i]={type:null})}else if(d(n))for(var a in n)o=n[a],i=A(a),s[i]=d(o)?o:{type:o};else 0;t.props=s}}function $t(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(d(n))for(var i in n){var s=n[i];r[i]=d(s)?w({from:i},s):{from:s}}else 0}}function Xt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Jt(t,e,n){if("function"===typeof e&&(e=e.options),Kt(e,n),$t(e,n),Xt(e),!e._base&&(e.extends&&(t=Jt(t,e.extends,n)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)t=Jt(t,e.mixins[r],n);var i,s={};for(i in t)a(i);for(i in e)y(t,i)||a(i);function a(r){var o=jt[r]||qt;s[r]=o(t[r],e[r],n,r)}return s}function Vt(t,e,n,r){if("string"===typeof n){var o=t[e];if(y(o,n))return o[n];var i=A(n);if(y(o,i))return o[i];var s=T(i);if(y(o,s))return o[s];var a=o[n]||o[i]||o[s];return a}}function Wt(t,e,n,r){var o=e[t],i=!y(n,t),s=n[t],a=te(Boolean,o.type);if(a>-1)if(i&&!y(o,"default"))s=!1;else if(""===s||s===O(t)){var u=te(String,o.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=zt(r,o,t);var c=Nt;Rt(!0),Pt(s),Rt(c)}return s}function zt(t,e,n){if(y(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Qt(e.type)?r.call(t):r}}function Qt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Zt(t,e){return Qt(t)===Qt(e)}function te(t,e){if(!Array.isArray(e))return Zt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Zt(e[n],t))return n;return-1}function ee(t,e,n){if(e){var r=e;while(r=r.$parent){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{var s=!1===o[i].call(r,t,e,n);if(s)return}catch(Ss){re(Ss,r,"errorCaptured hook")}}}re(t,e,n)}function ne(t,e,n,r,o){var i;try{i=n?t.apply(e,n):t.call(e),i&&!i._isVue&&h(i)&&i.catch(function(t){return ee(t,r,o+" (Promise/async)")})}catch(Ss){ee(Ss,r,o)}return i}function re(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(Ss){Ss!==t&&oe(Ss,null,"config.errorHandler")}oe(t,e,n)}function oe(t,e,n){if(!W&&!z||"undefined"===typeof console)throw t;console.error(t)}var ie,se=!1,ae=[],ue=!1;function ce(){ue=!1;var t=ae.slice(0);ae.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&dt(Promise)){var de=Promise.resolve();ie=function(){de.then(ce),rt&&setTimeout(P)},se=!0}else if(tt||"undefined"===typeof MutationObserver||!dt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ie="undefined"!==typeof setImmediate&&dt(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var le=1,fe=new MutationObserver(ce),he=document.createTextNode(String(le));fe.observe(he,{characterData:!0}),ie=function(){le=(le+1)%2,he.data=String(le)},se=!0}function pe(t,e){var n;if(ae.push(function(){if(t)try{t.call(e)}catch(Ss){ee(Ss,e,"nextTick")}else n&&n(e)}),ue||(ue=!0,ie()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var _e=new lt;function ge(t){me(t,_e),_e.clear()}function me(t,e){var n,r,o=Array.isArray(t);if(!(!o&&!u(t)||Object.isFrozen(t)||t instanceof Ct)){if(t.__ob__){var i=t.__ob__.dep.id;if(e.has(i))return;e.add(i)}if(o){n=t.length;while(n--)me(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)me(t[r[n]],e)}}}var ve=E(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});function Ce(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return ne(r,null,arguments,e,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)ne(o[i],null,t,e,"v-on handler")}return n.fns=t,n}function ye(t,e,n,o,s,a){var u,c,d,l;for(u in t)c=t[u],d=e[u],l=ve(u),r(c)||(r(d)?(r(c.fns)&&(c=t[u]=Ce(c,a)),i(l.once)&&(c=t[u]=s(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==d&&(d.fns=c,t[u]=d));for(u in e)r(t[u])&&(l=ve(u),o(l.name,e[u],l.capture))}function Ee(t,e,n){var s;t instanceof Ct&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function u(){n.apply(this,arguments),v(s.fns,u)}r(a)?s=Ce([u]):o(a.fns)&&i(a.merged)?(s=a,s.fns.push(u)):s=Ce([a,u]),s.merged=!0,t[e]=s}function Se(t,e,n){var i=e.options.props;if(!r(i)){var s={},a=t.attrs,u=t.props;if(o(a)||o(u))for(var c in i){var d=O(c);Ae(s,u,c,d,!0)||Ae(s,a,c,d,!1)}return s}}function Ae(t,e,n,r,i){if(o(e)){if(y(e,n))return t[n]=e[n],i||delete e[n],!0;if(y(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Te(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function be(t){return a(t)?[St(t)]:Array.isArray(t)?Ie(t):void 0}function Oe(t){return o(t)&&o(t.text)&&s(t.isComment)}function Ie(t,e){var n,s,u,c,d=[];for(n=0;n<t.length;n++)s=t[n],r(s)||"boolean"===typeof s||(u=d.length-1,c=d[u],Array.isArray(s)?s.length>0&&(s=Ie(s,(e||"")+"_"+n),Oe(s[0])&&Oe(c)&&(d[u]=St(c.text+s[0].text),s.shift()),d.push.apply(d,s)):a(s)?Oe(c)?d[u]=St(c.text+s):""!==s&&d.push(St(s)):Oe(s)&&Oe(c)?d[u]=St(c.text+s.text):(i(t._isVList)&&o(s.tag)&&r(s.key)&&o(e)&&(s.key="__vlist"+e+"_"+n+"__"),d.push(s)));return d}function Ne(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Re(t){var e=Me(t.$options.inject,t);e&&(Rt(!1),Object.keys(e).forEach(function(n){xt(t,n,e[n])}),Rt(!0))}function Me(t,e){if(t){for(var n=Object.create(null),r=ft?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var s=t[i].from,a=e;while(a){if(a._provided&&y(a._provided,s)){n[i]=a._provided[s];break}a=a.$parent}if(!a)if("default"in t[i]){var u=t[i].default;n[i]="function"===typeof u?u.call(e):u}else 0}}return n}}function we(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],s=i.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,i.context!==e&&i.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(i);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===i.tag?u.push.apply(u,i.children||[]):u.push(i)}}for(var c in n)n[c].every(Le)&&delete n[c];return n}function Le(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Pe(t,e,r){var o;if(t){if(t._normalized)return t._normalized;if(t.$stable&&r&&r!==n&&0===Object.keys(e).length)return r;for(var i in o={},t)t[i]&&"$"!==i[0]&&(o[i]=xe(e,i,t[i]))}else o={};for(var s in e)s in o||(o[s]=De(e,s));return t&&Object.isExtensible(t)&&(t._normalized=o),K(o,"$stable",!t||!!t.$stable),o}function xe(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:be(t),t&&0===t.length?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function De(t,e){return function(){return t[e]}}function Ue(t,e){var n,r,i,s,a;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ft&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),d=c.next();while(!d.done)n.push(e(d.value,n.length)),d=c.next()}else for(s=Object.keys(t),n=new Array(s.length),r=0,i=s.length;r<i;r++)a=s[r],n[r]=e(t[a],a,r);return o(n)||(n=[]),n._isVList=!0,n}function ke(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=w(w({},r),n)),o=i(n)||e):o=this.$slots[t]||e;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function je(t){return Vt(this.$options,"filters",t,!0)||D}function Fe(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ye(t,e,n,r,o){var i=B.keyCodes[e]||n;return o&&r&&!B.keyCodes[e]?Fe(o,r):i?Fe(i,t):r?O(r)!==e:void 0}function Ge(t,e,n,r,o){if(n)if(u(n)){var i;Array.isArray(n)&&(n=L(n));var s=function(s){if("class"===s||"style"===s||m(s))i=t;else{var a=t.attrs&&t.attrs.type;i=r||B.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=A(s);if(!(s in i)&&!(u in i)&&(i[s]=n[s],o)){var c=t.on||(t.on={});c["update:"+u]=function(t){n[s]=t}}};for(var a in n)s(a)}else;return t}function Be(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),qe(r,"__static__"+t,!1),r)}function He(t,e,n){return qe(t,"__once__"+e+(n?"_"+n:""),!0),t}function qe(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Ke(t[r],e+"_"+r,n);else Ke(t,e,n)}function Ke(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function $e(t,e){if(e)if(d(e)){var n=t.on=t.on?w({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}else;return t}function Xe(t,e,n){n=n||{$stable:!e};for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Xe(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),n[o.key]=o.fn)}return n}function Je(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ve(t,e){return"string"===typeof t?e+t:t}function We(t){t._o=He,t._n=_,t._s=p,t._l=Ue,t._t=ke,t._q=U,t._i=k,t._m=Be,t._f=je,t._k=Ye,t._b=Ge,t._v=St,t._e=Et,t._u=Xe,t._g=$e,t._d=Je,t._p=Ve}function ze(t,e,r,o,s){var a,u=this,c=s.options;y(o,"_uid")?(a=Object.create(o),a._original=o):(a=o,o=o._original);var d=i(c._compiled),l=!d;this.data=t,this.props=e,this.children=r,this.parent=o,this.listeners=t.on||n,this.injections=Me(c.inject,o),this.slots=function(){return u.$slots||Pe(t.scopedSlots,u.$slots=we(r,o)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pe(t.scopedSlots,this.slots())}}),d&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Pe(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var i=ln(a,t,e,n,r,l);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return ln(a,t,e,n,r,l)}}function Qe(t,e,r,i,s){var a=t.options,u={},c=a.props;if(o(c))for(var d in c)u[d]=Wt(d,c,e||n);else o(r.attrs)&&tn(u,r.attrs),o(r.props)&&tn(u,r.props);var l=new ze(r,u,s,i,t),f=a.render.call(null,l._c,l);if(f instanceof Ct)return Ze(f,r,l.parent,a,l);if(Array.isArray(f)){for(var h=be(f)||[],p=new Array(h.length),_=0;_<h.length;_++)p[_]=Ze(h[_],r,l.parent,a,l);return p}}function Ze(t,e,n,r,o){var i=At(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function tn(t,e){for(var n in e)t[A(n)]=e[n]}We(ze.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var r=t.componentInstance=on(t,Mn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Dn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Fn(n,"mounted")),t.data.keepAlive&&(e._isMounted?zn(n):kn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?jn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,s,a){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"===typeof t){var d;if(r(t.cid)&&(d=t,t=En(d,c),void 0===t))return yn(d,e,n,s,a);e=e||{},yr(t),o(e.model)&&un(t.options,e);var l=Se(e,t,a);if(i(t.options.functional))return Qe(t,l,e,n,s);var f=e.on;if(e.on=e.nativeOn,i(t.options.abstract)){var h=e.slot;e={},h&&(e.slot=h)}sn(e);var p=t.options.name||a,_=new Ct("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:l,listeners:f,tag:a,children:s},d);return _}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function sn(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var r=nn[n],o=e[r],i=en[r];o===i||o&&o._merged||(e[r]=o?an(i,o):i)}}function an(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function un(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),s=i[r],a=e.model.callback;o(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(i[r]=[a].concat(s)):i[r]=a}var cn=1,dn=2;function ln(t,e,n,r,o,s){return(Array.isArray(n)||a(n))&&(o=r,r=n,n=void 0),i(s)&&(o=dn),fn(t,e,n,r,o)}function fn(t,e,n,r,i){if(o(n)&&o(n.__ob__))return Et();if(o(n)&&o(n.is)&&(e=n.is),!e)return Et();var s,a,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===dn?r=be(r):i===cn&&(r=Te(r)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),s=B.isReservedTag(e)?new Ct(B.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!o(u=Vt(t.$options,"components",e))?new Ct(e,n,r,void 0,void 0,t):rn(u,n,t,r,e)):s=rn(e,n,t,r);return Array.isArray(s)?s:o(s)?(o(a)&&hn(s,a),o(n)&&pn(n),s):Et()}function hn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var s=0,a=t.children.length;s<a;s++){var u=t.children[s];o(u.tag)&&(r(u.ns)||i(n)&&"svg"!==u.tag)&&hn(u,e,n)}}function pn(t){u(t.style)&&ge(t.style),u(t.class)&&ge(t.class)}function _n(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,o=r&&r.context;t.$slots=we(e._renderChildren,o),t.$scopedSlots=n,t._c=function(e,n,r,o){return ln(t,e,n,r,o,!1)},t.$createElement=function(e,n,r,o){return ln(t,e,n,r,o,!0)};var i=r&&r.data;xt(t,"$attrs",i&&i.attrs||n,null,!0),xt(t,"$listeners",e._parentListeners||n,null,!0)}var gn,mn=null;function vn(t){We(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&(e.$scopedSlots=Pe(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{mn=e,t=r.call(e._renderProxy,e.$createElement)}catch(Ss){ee(Ss,e,"render"),t=e._vnode}finally{mn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof Ct||(t=Et()),t.parent=o,t}}function Cn(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function yn(t,e,n,r,o){var i=Et();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}function En(t,e){if(i(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;if(i(t.loading)&&o(t.loadingComp))return t.loadingComp;var n=mn;if(!o(t.owners)){var s=t.owners=[n],a=!0,c=function(t){for(var e=0,n=s.length;e<n;e++)s[e].$forceUpdate();t&&(s.length=0)},d=j(function(n){t.resolved=Cn(n,e),a?s.length=0:c(!0)}),l=j(function(e){o(t.errorComp)&&(t.error=!0,c(!0))}),f=t(d,l);return u(f)&&(h(f)?r(t.resolved)&&f.then(d,l):h(f.component)&&(f.component.then(d,l),o(f.error)&&(t.errorComp=Cn(f.error,e)),o(f.loading)&&(t.loadingComp=Cn(f.loading,e),0===f.delay?t.loading=!0:setTimeout(function(){r(t.resolved)&&r(t.error)&&(t.loading=!0,c(!1))},f.delay||200)),o(f.timeout)&&setTimeout(function(){r(t.resolved)&&l(null)},f.timeout))),a=!1,t.loading?t.loadingComp:t.resolved}t.owners.push(n)}function Sn(t){return t.isComment&&t.asyncFactory}function An(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||Sn(n)))return n}}function Tn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Nn(t,e)}function bn(t,e){gn.$on(t,e)}function On(t,e){gn.$off(t,e)}function In(t,e){var n=gn;return function r(){var o=e.apply(null,arguments);null!==o&&n.$off(t,r)}}function Nn(t,e,n){gn=t,ye(e,n||{},bn,On,In,t),gn=void 0}function Rn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var i,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;var a=s.length;while(a--)if(i=s[a],i===e||i.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?M(n):n;for(var r=M(arguments,1),o='event handler for "'+t+'"',i=0,s=n.length;i<s;i++)ne(n[i],e,r,e,o)}return e}}var Mn=null;function wn(t){var e=Mn;return Mn=t,function(){Mn=e}}function Ln(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Pn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=wn(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function xn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=Et),Fn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new er(t,r,P,{before:function(){t._isMounted&&!t._isDestroyed&&Fn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Fn(t,"mounted")),t}function Dn(t,e,r,o,i){var s=!!(o.data.scopedSlots&&!o.data.scopedSlots.$stable||t.$scopedSlots!==n&&!t.$scopedSlots.$stable),a=!!(i||t.$options._renderChildren||s);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,t.$attrs=o.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Rt(!1);for(var u=t._props,c=t.$options._propKeys||[],d=0;d<c.length;d++){var l=c[d],f=t.$options.props;u[l]=Wt(l,f,e,t)}Rt(!0),t.$options.propsData=e}r=r||n;var h=t.$options._parentListeners;t.$options._parentListeners=r,Nn(t,r,h),a&&(t.$slots=we(i,o.context),t.$forceUpdate())}function Un(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function kn(t,e){if(e){if(t._directInactive=!1,Un(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)kn(t.$children[n]);Fn(t,"activated")}}function jn(t,e){if((!e||(t._directInactive=!0,!Un(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)jn(t.$children[n]);Fn(t,"deactivated")}}function Fn(t,e){mt();var n=t.$options[e],r=e+" hook";if(n)for(var o=0,i=n.length;o<i;o++)ne(n[o],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var Yn=[],Gn=[],Bn={},Hn=!1,qn=!1,Kn=0;function $n(){Kn=Yn.length=Gn.length=0,Bn={},Hn=qn=!1}var Xn=0,Jn=Date.now;function Vn(){var t,e;for(Xn=Jn(),qn=!0,Yn.sort(function(t,e){return t.id-e.id}),Kn=0;Kn<Yn.length;Kn++)t=Yn[Kn],t.before&&t.before(),e=t.id,Bn[e]=null,t.run();var n=Gn.slice(),r=Yn.slice();$n(),Qn(n),Wn(r),ct&&B.devtools&&ct.emit("flush")}function Wn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Fn(r,"updated")}}function zn(t){t._inactive=!1,Gn.push(t)}function Qn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,kn(t[e],!0)}function Zn(t){var e=t.id;if(null==Bn[e]){if(Bn[e]=!0,qn){var n=Yn.length-1;while(n>Kn&&Yn[n].id>t.id)n--;Yn.splice(n+1,0,t)}else Yn.push(t);Hn||(Hn=!0,pe(Vn))}}W&&Jn()>document.createEvent("Event").timeStamp&&(Jn=function(){return performance.now()});var tr=0,er=function(t,e,n,r,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression="","function"===typeof e?this.getter=e:(this.getter=X(e),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};er.prototype.get=function(){var t;mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Ss){if(!this.user)throw Ss;ee(Ss,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ge(t),vt(),this.cleanupDeps()}return t},er.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},er.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},er.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Zn(this)},er.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Ss){ee(Ss,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},er.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},er.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},er.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var nr={enumerable:!0,configurable:!0,get:P,set:P};function rr(t,e,n){nr.get=function(){return this[e][n]},nr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,nr)}function or(t){t._watchers=[];var e=t.$options;e.props&&ir(t,e.props),e.methods&&hr(t,e.methods),e.data?sr(t):Pt(t._data={},!0),e.computed&&cr(t,e.computed),e.watch&&e.watch!==it&&pr(t,e.watch)}function ir(t,e){var n=t.$options.propsData||{},r=t._props={},o=t.$options._propKeys=[],i=!t.$parent;i||Rt(!1);var s=function(i){o.push(i);var s=Wt(i,e,n,t);xt(r,i,s),i in t||rr(t,"_props",i)};for(var a in e)s(a);Rt(!0)}function sr(t){var e=t.$options.data;e=t._data="function"===typeof e?ar(e,t):e||{},d(e)||(e={});var n=Object.keys(e),r=t.$options.props,o=(t.$options.methods,n.length);while(o--){var i=n[o];0,r&&y(r,i)||q(i)||rr(t,"_data",i)}Pt(e,!0)}function ar(t,e){mt();try{return t.call(e,e)}catch(Ss){return ee(Ss,e,"data()"),{}}finally{vt()}}var ur={lazy:!0};function cr(t,e){var n=t._computedWatchers=Object.create(null),r=ut();for(var o in e){var i=e[o],s="function"===typeof i?i:i.get;0,r||(n[o]=new er(t,s||P,P,ur)),o in t||dr(t,o,i)}}function dr(t,e,n){var r=!ut();"function"===typeof n?(nr.get=r?lr(e):fr(n),nr.set=P):(nr.get=n.get?r&&!1!==n.cache?lr(e):fr(n.get):P,nr.set=n.set||P),Object.defineProperty(t,e,nr)}function lr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),_t.target&&e.depend(),e.value}}function fr(t){return function(){return t.call(this,this)}}function hr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?P:R(e[n],t)}function pr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)_r(t,n,r[o]);else _r(t,n,r)}}function _r(t,e,n,r){return d(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function gr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Dt,t.prototype.$delete=Ut,t.prototype.$watch=function(t,e,n){var r=this;if(d(e))return _r(r,t,e,n);n=n||{},n.user=!0;var o=new er(r,t,e,n);if(n.immediate)try{e.call(r,o.value)}catch(i){ee(i,r,'callback for immediate watcher "'+o.expression+'"')}return function(){o.teardown()}}}var mr=0;function vr(t){t.prototype._init=function(t){var e=this;e._uid=mr++,e._isVue=!0,t&&t._isComponent?Cr(e,t):e.$options=Jt(yr(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Ln(e),Tn(e),_n(e),Fn(e,"beforeCreate"),Re(e),or(e),Ne(e),Fn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Cr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function yr(t){var e=t.options;if(t.super){var n=yr(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var o=Er(t);o&&w(t.extendOptions,o),e=t.options=Jt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Er(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}function Sr(t){this._init(t)}function Ar(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=M(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Tr(t){t.mixin=function(t){return this.options=Jt(this.options,t),this}}function br(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=t.name||n.options.name;var s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=Jt(n.options,t),s["super"]=n,s.options.props&&Or(s),s.options.computed&&Ir(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,Y.forEach(function(t){s[t]=n[t]}),i&&(s.options.components[i]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=w({},s.options),o[r]=s,s}}function Or(t){var e=t.options.props;for(var n in e)rr(t.prototype,"_props",n)}function Ir(t){var e=t.options.computed;for(var n in e)dr(t.prototype,n,e[n])}function Nr(t){Y.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Rr(t){return t&&(t.Ctor.options.name||t.tag)}function Mr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function wr(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var s=n[i];if(s){var a=Rr(s.componentOptions);a&&!e(a)&&Lr(n,i,r,o)}}}function Lr(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,v(n,e)}vr(Sr),gr(Sr),Rn(Sr),Pn(Sr),vn(Sr);var Pr=[String,RegExp,Array],xr={name:"keep-alive",abstract:!0,props:{include:Pr,exclude:Pr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Lr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){wr(t,function(t){return Mr(e,t)})}),this.$watch("exclude",function(e){wr(t,function(t){return!Mr(e,t)})})},render:function(){var t=this.$slots.default,e=An(t),n=e&&e.componentOptions;if(n){var r=Rr(n),o=this,i=o.include,s=o.exclude;if(i&&(!r||!Mr(i,r))||s&&r&&Mr(s,r))return e;var a=this,u=a.cache,c=a.keys,d=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[d]?(e.componentInstance=u[d].componentInstance,v(c,d),c.push(d)):(u[d]=e,c.push(d),this.max&&c.length>parseInt(this.max)&&Lr(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Dr={KeepAlive:xr};function Ur(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:ht,extend:w,mergeOptions:Jt,defineReactive:xt},t.set=Dt,t.delete=Ut,t.nextTick=pe,t.observable=function(t){return Pt(t),t},t.options=Object.create(null),Y.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,w(t.options.components,Dr),Ar(t),Tr(t),br(t),Nr(t)}Ur(Sr),Object.defineProperty(Sr.prototype,"$isServer",{get:ut}),Object.defineProperty(Sr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sr,"FunctionalRenderContext",{value:ze}),Sr.version="2.6.6";var kr=g("style,class"),jr=g("input,textarea,option,select,progress"),Fr=function(t,e,n){return"value"===n&&jr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Yr=g("contenteditable,draggable,spellcheck"),Gr=g("events,caret,typing,plaintext-only"),Br=function(t,e){return Xr(e)||"false"===e?"false":"contenteditable"===t&&Gr(e)?e:"true"},Hr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qr="http://www.w3.org/1999/xlink",Kr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},$r=function(t){return Kr(t)?t.slice(6,t.length):""},Xr=function(t){return null==t||!1===t};function Jr(t){var e=t.data,n=t,r=t;while(o(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Vr(r.data,e));while(o(n=n.parent))n&&n.data&&(e=Vr(e,n.data));return Wr(e.staticClass,e.class)}function Vr(t,e){return{staticClass:zr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Wr(t,e){return o(t)||o(e)?zr(t,Qr(e)):""}function zr(t,e){return t?e?t+" "+e:t:e||""}function Qr(t){return Array.isArray(t)?Zr(t):u(t)?to(t):"string"===typeof t?t:""}function Zr(t){for(var e,n="",r=0,i=t.length;r<i;r++)o(e=Qr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function to(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var eo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},no=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ro=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oo=function(t){return no(t)||ro(t)};function io(t){return ro(t)?"svg":"math"===t?"math":void 0}var so=Object.create(null);function ao(t){if(!W)return!0;if(oo(t))return!1;if(t=t.toLowerCase(),null!=so[t])return so[t];var e=document.createElement(t);return t.indexOf("-")>-1?so[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:so[t]=/HTMLUnknownElement/.test(e.toString())}var uo=g("text,number,password,search,email,tel,url");function co(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function lo(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function fo(t,e){return document.createElementNS(eo[t],e)}function ho(t){return document.createTextNode(t)}function po(t){return document.createComment(t)}function _o(t,e,n){t.insertBefore(e,n)}function go(t,e){t.removeChild(e)}function mo(t,e){t.appendChild(e)}function vo(t){return t.parentNode}function Co(t){return t.nextSibling}function yo(t){return t.tagName}function Eo(t,e){t.textContent=e}function So(t,e){t.setAttribute(e,"")}var Ao=Object.freeze({createElement:lo,createElementNS:fo,createTextNode:ho,createComment:po,insertBefore:_o,removeChild:go,appendChild:mo,parentNode:vo,nextSibling:Co,tagName:yo,setTextContent:Eo,setStyleScope:So}),To={create:function(t,e){bo(e)},update:function(t,e){t.data.ref!==e.data.ref&&(bo(t,!0),bo(e))},destroy:function(t){bo(t,!0)}};function bo(t,e){var n=t.data.ref;if(o(n)){var r=t.context,i=t.componentInstance||t.elm,s=r.$refs;e?Array.isArray(s[n])?v(s[n],i):s[n]===i&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(i)<0&&s[n].push(i):s[n]=[i]:s[n]=i}}var Oo=new Ct("",{},[]),Io=["create","activate","update","remove","destroy"];function No(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&Ro(t,e)||i(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Ro(t,e){if("input"!==t.tag)return!0;var n,r=o(n=t.data)&&o(n=n.attrs)&&n.type,i=o(n=e.data)&&o(n=n.attrs)&&n.type;return r===i||uo(r)&&uo(i)}function Mo(t,e,n){var r,i,s={};for(r=e;r<=n;++r)i=t[r].key,o(i)&&(s[i]=r);return s}function wo(t){var e,n,s={},u=t.modules,c=t.nodeOps;for(e=0;e<Io.length;++e)for(s[Io[e]]=[],n=0;n<u.length;++n)o(u[n][Io[e]])&&s[Io[e]].push(u[n][Io[e]]);function d(t){return new Ct(c.tagName(t).toLowerCase(),{},[],void 0,t)}function l(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=c.parentNode(t);o(e)&&c.removeChild(e,t)}function h(t,e,n,r,s,a,u){if(o(t.elm)&&o(a)&&(t=a[u]=At(t)),t.isRootInsert=!s,!p(t,e,n,r)){var d=t.data,l=t.children,f=t.tag;o(f)?(t.elm=t.ns?c.createElementNS(t.ns,f):c.createElement(f,t),S(t),C(t,l,e),o(d)&&E(t,e),v(n,t.elm,r)):i(t.isComment)?(t.elm=c.createComment(t.text),v(n,t.elm,r)):(t.elm=c.createTextNode(t.text),v(n,t.elm,r))}}function p(t,e,n,r){var s=t.data;if(o(s)){var a=o(t.componentInstance)&&s.keepAlive;if(o(s=s.hook)&&o(s=s.init)&&s(t,!1),o(t.componentInstance))return _(t,e),v(n,t.elm,r),i(a)&&m(t,e,n,r),!0}}function _(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(E(t,e),S(t)):(bo(t),e.push(t))}function m(t,e,n,r){var i,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,o(i=a.data)&&o(i=i.transition)){for(i=0;i<s.activate.length;++i)s.activate[i](Oo,a);e.push(a);break}v(n,t.elm,r)}function v(t,e,n){o(t)&&(o(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function C(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)h(e[r],n,t.elm,null,!0,e,r)}else a(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function y(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function E(t,n){for(var r=0;r<s.create.length;++r)s.create[r](Oo,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(Oo,t),o(e.insert)&&n.push(t))}function S(t){var e;if(o(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)o(e=n.context)&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}o(e=Mn)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function A(t,e,n,r,o,i){for(;r<=o;++r)h(n[r],i,t,e,!1,n,r)}function T(t){var e,n,r=t.data;if(o(r))for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)T(t.children[n])}function b(t,e,n,r){for(;n<=r;++n){var i=e[n];o(i)&&(o(i.tag)?(O(i),T(i)):f(i.elm))}}function O(t,e){if(o(e)||o(t.data)){var n,r=s.remove.length+1;for(o(e)?e.listeners+=r:e=l(t.elm,r),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&O(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else f(t.elm)}function I(t,e,n,i,s){var a,u,d,l,f=0,p=0,_=e.length-1,g=e[0],m=e[_],v=n.length-1,C=n[0],y=n[v],E=!s;while(f<=_&&p<=v)r(g)?g=e[++f]:r(m)?m=e[--_]:No(g,C)?(R(g,C,i,n,p),g=e[++f],C=n[++p]):No(m,y)?(R(m,y,i,n,v),m=e[--_],y=n[--v]):No(g,y)?(R(g,y,i,n,v),E&&c.insertBefore(t,g.elm,c.nextSibling(m.elm)),g=e[++f],y=n[--v]):No(m,C)?(R(m,C,i,n,p),E&&c.insertBefore(t,m.elm,g.elm),m=e[--_],C=n[++p]):(r(a)&&(a=Mo(e,f,_)),u=o(C.key)?a[C.key]:N(C,e,f,_),r(u)?h(C,i,t,g.elm,!1,n,p):(d=e[u],No(d,C)?(R(d,C,i,n,p),e[u]=void 0,E&&c.insertBefore(t,d.elm,g.elm)):h(C,i,t,g.elm,!1,n,p)),C=n[++p]);f>_?(l=r(n[v+1])?null:n[v+1].elm,A(t,l,n,p,v,i)):p>v&&b(t,e,f,_)}function N(t,e,n,r){for(var i=n;i<r;i++){var s=e[i];if(o(s)&&No(t,s))return i}}function R(t,e,n,a,u,d){if(t!==e){o(e.elm)&&o(a)&&(e=a[u]=At(e));var l=e.elm=t.elm;if(i(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?L(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(i(e.isStatic)&&i(t.isStatic)&&e.key===t.key&&(i(e.isCloned)||i(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,h=e.data;o(h)&&o(f=h.hook)&&o(f=f.prepatch)&&f(t,e);var p=t.children,_=e.children;if(o(h)&&y(e)){for(f=0;f<s.update.length;++f)s.update[f](t,e);o(f=h.hook)&&o(f=f.update)&&f(t,e)}r(e.text)?o(p)&&o(_)?p!==_&&I(l,p,_,n,d):o(_)?(o(t.text)&&c.setTextContent(l,""),A(l,null,_,0,_.length-1,n)):o(p)?b(l,p,0,p.length-1):o(t.text)&&c.setTextContent(l,""):t.text!==e.text&&c.setTextContent(l,e.text),o(h)&&o(f=h.hook)&&o(f=f.postpatch)&&f(t,e)}}}function M(t,e,n){if(i(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var w=g("attrs,class,staticClass,staticStyle,key");function L(t,e,n,r){var s,a=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,i(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(s=u.hook)&&o(s=s.init)&&s(e,!0),o(s=e.componentInstance)))return _(e,n),!0;if(o(a)){if(o(c))if(t.hasChildNodes())if(o(s=u)&&o(s=s.domProps)&&o(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var d=!0,l=t.firstChild,f=0;f<c.length;f++){if(!l||!L(l,c[f],n,r)){d=!1;break}l=l.nextSibling}if(!d||l)return!1}else C(e,c,n);if(o(u)){var h=!1;for(var p in u)if(!w(p)){h=!0,E(e,n);break}!h&&u["class"]&&ge(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var u=!1,l=[];if(r(t))u=!0,h(e,l);else{var f=o(t.nodeType);if(!f&&No(t,e))R(t,e,l,null,null,a);else{if(f){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),n=!0),i(n)&&L(t,e,l))return M(e,l,!0),t;t=d(t)}var p=t.elm,_=c.parentNode(p);if(h(e,l,p._leaveCb?null:_,c.nextSibling(p)),o(e.parent)){var g=e.parent,m=y(e);while(g){for(var v=0;v<s.destroy.length;++v)s.destroy[v](g);if(g.elm=e.elm,m){for(var C=0;C<s.create.length;++C)s.create[C](Oo,g);var E=g.data.hook.insert;if(E.merged)for(var S=1;S<E.fns.length;S++)E.fns[S]()}else bo(g);g=g.parent}}o(_)?b(_,[t],0,0):o(t.tag)&&T(t)}}return M(e,l,u),e.elm}o(t)&&T(t)}}var Lo={create:Po,update:Po,destroy:function(t){Po(t,Oo)}};function Po(t,e){(t.data.directives||e.data.directives)&&xo(t,e)}function xo(t,e){var n,r,o,i=t===Oo,s=e===Oo,a=Uo(t.data.directives,t.context),u=Uo(e.data.directives,e.context),c=[],d=[];for(n in u)r=a[n],o=u[n],r?(o.oldValue=r.value,o.oldArg=r.arg,jo(o,"update",e,t),o.def&&o.def.componentUpdated&&d.push(o)):(jo(o,"bind",e,t),o.def&&o.def.inserted&&c.push(o));if(c.length){var l=function(){for(var n=0;n<c.length;n++)jo(c[n],"inserted",e,t)};i?Ee(e,"insert",l):l()}if(d.length&&Ee(e,"postpatch",function(){for(var n=0;n<d.length;n++)jo(d[n],"componentUpdated",e,t)}),!i)for(n in a)u[n]||jo(a[n],"unbind",t,t,s)}var Do=Object.create(null);function Uo(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Do),o[ko(r)]=r,r.def=Vt(e.$options,"directives",r.name,!0);return o}function ko(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function jo(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(Ss){ee(Ss,n.context,"directive "+t.name+" "+e+" hook")}}var Fo=[To,Lo];function Yo(t,e){var n=e.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var i,s,a,u=e.elm,c=t.data.attrs||{},d=e.data.attrs||{};for(i in o(d.__ob__)&&(d=e.data.attrs=w({},d)),d)s=d[i],a=c[i],a!==s&&Go(u,i,s);for(i in(tt||nt)&&d.value!==c.value&&Go(u,"value",d.value),c)r(d[i])&&(Kr(i)?u.removeAttributeNS(qr,$r(i)):Yr(i)||u.removeAttribute(i))}}function Go(t,e,n){t.tagName.indexOf("-")>-1?Bo(t,e,n):Hr(e)?Xr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Yr(e)?t.setAttribute(e,Br(e,n)):Kr(e)?Xr(n)?t.removeAttributeNS(qr,$r(e)):t.setAttributeNS(qr,e,n):Bo(t,e,n)}function Bo(t,e,n){if(Xr(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Ho={create:Yo,update:Yo};function qo(t,e){var n=e.elm,i=e.data,s=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=Jr(e),u=n._transitionClasses;o(u)&&(a=zr(a,Qr(u))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Ko,$o={create:qo,update:qo},Xo="__r",Jo="__c";function Vo(t){if(o(t[Xo])){var e=tt?"change":"input";t[e]=[].concat(t[Xo],t[e]||[]),delete t[Xo]}o(t[Jo])&&(t.change=[].concat(t[Jo],t.change||[]),delete t[Jo])}function Wo(t,e,n){var r=Ko;return function o(){var i=e.apply(null,arguments);null!==i&&Zo(t,o,n,r)}}var zo=se&&!(ot&&Number(ot[1])<=53);function Qo(t,e,n,r){if(zo){var o=Xn,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||0===t.timeStamp||t.target.ownerDocument!==document)return i.apply(this,arguments)}}Ko.addEventListener(t,e,st?{capture:n,passive:r}:n)}function Zo(t,e,n,r){(r||Ko).removeEventListener(t,e._wrapper||e,n)}function ti(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},o=t.data.on||{};Ko=e.elm,Vo(n),ye(n,o,Qo,Zo,Wo,e.context),Ko=void 0}}var ei,ni={create:ti,update:ti};function ri(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,i,s=e.elm,a=t.data.domProps||{},u=e.data.domProps||{};for(n in o(u.__ob__)&&(u=e.data.domProps=w({},u)),a)r(u[n])&&(s[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n||i!==a[n])if("value"===n){s._value=i;var c=r(i)?"":String(i);oi(s,c)&&(s.value=c)}else if("innerHTML"===n&&ro(s.tagName)&&r(s.innerHTML)){ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+i+"</svg>";var d=ei.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(d.firstChild)s.appendChild(d.firstChild)}else s[n]=i}}}function oi(t,e){return!t.composing&&("OPTION"===t.tagName||ii(t,e)||si(t,e))}function ii(t,e){var n=!0;try{n=document.activeElement!==t}catch(Ss){}return n&&t.value!==e}function si(t,e){var n=t.value,r=t._vModifiers;if(o(r)){if(r.number)return _(n)!==_(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var ai={create:ri,update:ri},ui=E(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function ci(t){var e=di(t.style);return t.staticStyle?w(t.staticStyle,e):e}function di(t){return Array.isArray(t)?L(t):"string"===typeof t?ui(t):t}function li(t,e){var n,r={};if(e){var o=t;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=ci(o.data))&&w(r,n)}(n=ci(t.data))&&w(r,n);var i=t;while(i=i.parent)i.data&&(n=ci(i.data))&&w(r,n);return r}var fi,hi=/^--/,pi=/\s*!important$/,_i=function(t,e,n){if(hi.test(e))t.style.setProperty(e,n);else if(pi.test(n))t.style.setProperty(O(e),n.replace(pi,""),"important");else{var r=mi(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},gi=["Webkit","Moz","ms"],mi=E(function(t){if(fi=fi||document.createElement("div").style,t=A(t),"filter"!==t&&t in fi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<gi.length;n++){var r=gi[n]+e;if(r in fi)return r}});function vi(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var s,a,u=e.elm,c=i.staticStyle,d=i.normalizedStyle||i.style||{},l=c||d,f=di(e.data.style)||{};e.data.normalizedStyle=o(f.__ob__)?w({},f):f;var h=li(e,!0);for(a in l)r(h[a])&&_i(u,a,"");for(a in h)s=h[a],s!==l[a]&&_i(u,a,null==s?"":s)}}var Ci={create:vi,update:vi},yi=/\s+/;function Ei(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(yi).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Si(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(yi).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Ai(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&w(e,Ti(t.name||"v")),w(e,t),e}return"string"===typeof t?Ti(t):void 0}}var Ti=E(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),bi=W&&!et,Oi="transition",Ii="animation",Ni="transition",Ri="transitionend",Mi="animation",wi="animationend";bi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ni="WebkitTransition",Ri="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Mi="WebkitAnimation",wi="webkitAnimationEnd"));var Li=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Pi(t){Li(function(){Li(t)})}function xi(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Ei(t,e))}function Di(t,e){t._transitionClasses&&v(t._transitionClasses,e),Si(t,e)}function Ui(t,e,n){var r=ji(t,e),o=r.type,i=r.timeout,s=r.propCount;if(!o)return n();var a=o===Oi?Ri:wi,u=0,c=function(){t.removeEventListener(a,d),n()},d=function(e){e.target===t&&++u>=s&&c()};setTimeout(function(){u<s&&c()},i+1),t.addEventListener(a,d)}var ki=/\b(transform|all)(,|$)/;function ji(t,e){var n,r=window.getComputedStyle(t),o=(r[Ni+"Delay"]||"").split(", "),i=(r[Ni+"Duration"]||"").split(", "),s=Fi(o,i),a=(r[Mi+"Delay"]||"").split(", "),u=(r[Mi+"Duration"]||"").split(", "),c=Fi(a,u),d=0,l=0;e===Oi?s>0&&(n=Oi,d=s,l=i.length):e===Ii?c>0&&(n=Ii,d=c,l=u.length):(d=Math.max(s,c),n=d>0?s>c?Oi:Ii:null,l=n?n===Oi?i.length:u.length:0);var f=n===Oi&&ki.test(r[Ni+"Property"]);return{type:n,timeout:d,propCount:l,hasTransform:f}}function Fi(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Yi(e)+Yi(t[n])}))}function Yi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Gi(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Ai(t.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){var s=i.css,a=i.type,c=i.enterClass,d=i.enterToClass,l=i.enterActiveClass,f=i.appearClass,h=i.appearToClass,p=i.appearActiveClass,g=i.beforeEnter,m=i.enter,v=i.afterEnter,C=i.enterCancelled,y=i.beforeAppear,E=i.appear,S=i.afterAppear,A=i.appearCancelled,T=i.duration,b=Mn,O=Mn.$vnode;while(O&&O.parent)O=O.parent,b=O.context;var I=!b._isMounted||!t.isRootInsert;if(!I||E||""===E){var N=I&&f?f:c,R=I&&p?p:l,M=I&&h?h:d,w=I&&y||g,L=I&&"function"===typeof E?E:m,P=I&&S||v,x=I&&A||C,D=_(u(T)?T.enter:T);0;var U=!1!==s&&!et,k=qi(L),F=n._enterCb=j(function(){U&&(Di(n,M),Di(n,R)),F.cancelled?(U&&Di(n,N),x&&x(n)):P&&P(n),n._enterCb=null});t.data.show||Ee(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),L&&L(n,F)}),w&&w(n),U&&(xi(n,N),xi(n,R),Pi(function(){Di(n,N),F.cancelled||(xi(n,M),k||(Hi(D)?setTimeout(F,D):Ui(n,a,F)))})),t.data.show&&(e&&e(),L&&L(n,F)),U||k||F()}}}function Bi(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Ai(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var s=i.css,a=i.type,c=i.leaveClass,d=i.leaveToClass,l=i.leaveActiveClass,f=i.beforeLeave,h=i.leave,p=i.afterLeave,g=i.leaveCancelled,m=i.delayLeave,v=i.duration,C=!1!==s&&!et,y=qi(h),E=_(u(v)?v.leave:v);0;var S=n._leaveCb=j(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),C&&(Di(n,d),Di(n,l)),S.cancelled?(C&&Di(n,c),g&&g(n)):(e(),p&&p(n)),n._leaveCb=null});m?m(A):A()}function A(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),C&&(xi(n,c),xi(n,l),Pi(function(){Di(n,c),S.cancelled||(xi(n,d),y||(Hi(E)?setTimeout(S,E):Ui(n,a,S)))})),h&&h(n,S),C||y||S())}}function Hi(t){return"number"===typeof t&&!isNaN(t)}function qi(t){if(r(t))return!1;var e=t.fns;return o(e)?qi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ki(t,e){!0!==e.data.show&&Gi(e)}var $i=W?{create:Ki,activate:Ki,remove:function(t,e){!0!==t.data.show?Bi(t,e):e()}}:{},Xi=[Ho,$o,ni,ai,Ci,$i],Ji=Xi.concat(Fo),Vi=wo({nodeOps:Ao,modules:Ji});et&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&rs(t,"input")});var Wi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Ee(n,"postpatch",function(){Wi.componentUpdated(t,e,n)}):zi(t,e,n.context),t._vOptions=[].map.call(t.options,ts)):("textarea"===n.tag||uo(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",es),t.addEventListener("compositionend",ns),t.addEventListener("change",ns),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){zi(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,ts);if(o.some(function(t,e){return!U(t,r[e])})){var i=t.multiple?e.value.some(function(t){return Zi(t,o)}):e.value!==e.oldValue&&Zi(e.value,o);i&&rs(t,"change")}}}};function zi(t,e,n){Qi(t,e,n),(tt||nt)&&setTimeout(function(){Qi(t,e,n)},0)}function Qi(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,s,a=0,u=t.options.length;a<u;a++)if(s=t.options[a],o)i=k(r,ts(s))>-1,s.selected!==i&&(s.selected=i);else if(U(ts(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));o||(t.selectedIndex=-1)}}function Zi(t,e){return e.every(function(e){return!U(e,t)})}function ts(t){return"_value"in t?t._value:t.value}function es(t){t.target.composing=!0}function ns(t){t.target.composing&&(t.target.composing=!1,rs(t.target,"input"))}function rs(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function os(t){return!t.componentInstance||t.data&&t.data.transition?t:os(t.componentInstance._vnode)}var is={bind:function(t,e,n){var r=e.value;n=os(n);var o=n.data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,Gi(n,function(){t.style.display=i})):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value,o=e.oldValue;if(!r!==!o){n=os(n);var i=n.data&&n.data.transition;i?(n.data.show=!0,r?Gi(n,function(){t.style.display=t.__vOriginalDisplay}):Bi(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}},ss={model:Wi,show:is},as={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function us(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?us(An(e.children)):t}function cs(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var i in o)e[A(i)]=o[i];return e}function ds(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ls(t){while(t=t.parent)if(t.data.transition)return!0}function fs(t,e){return e.key===t.key&&e.tag===t.tag}var hs=function(t){return t.tag||Sn(t)},ps=function(t){return"show"===t.name},_s={name:"transition",props:as,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(hs),n.length)){0;var r=this.mode;0;var o=n[0];if(ls(this.$vnode))return o;var i=us(o);if(!i)return o;if(this._leaving)return ds(t,o);var s="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?s+"comment":s+i.tag:a(i.key)?0===String(i.key).indexOf(s)?i.key:s+i.key:i.key;var u=(i.data||(i.data={})).transition=cs(this),c=this._vnode,d=us(c);if(i.data.directives&&i.data.directives.some(ps)&&(i.data.show=!0),d&&d.data&&!fs(i,d)&&!Sn(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var l=d.data.transition=w({},u);if("out-in"===r)return this._leaving=!0,Ee(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),ds(t,o);if("in-out"===r){if(Sn(i))return c;var f,h=function(){f()};Ee(u,"afterEnter",h),Ee(u,"enterCancelled",h),Ee(l,"delayLeave",function(t){f=t})}}return o}}},gs=w({tag:String,moveClass:String},as);delete gs.mode;var ms={props:gs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=wn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],s=cs(this),a=0;a<o.length;a++){var u=o[a];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))i.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(r){for(var c=[],d=[],l=0;l<r.length;l++){var f=r[l];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):d.push(f)}this.kept=t(e,null,c),this.removed=d}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(vs),t.forEach(Cs),t.forEach(ys),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;xi(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ri,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ri,t),n._moveCb=null,Di(n,e))})}}))},methods:{hasMove:function(t,e){if(!bi)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Si(n,t)}),Ei(n,e),n.style.display="none",this.$el.appendChild(n);var r=ji(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function vs(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Cs(t){t.data.newPos=t.elm.getBoundingClientRect()}function ys(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}var Es={Transition:_s,TransitionGroup:ms};Sr.config.mustUseProp=Fr,Sr.config.isReservedTag=oo,Sr.config.isReservedAttr=kr,Sr.config.getTagNamespace=io,Sr.config.isUnknownElement=ao,w(Sr.options.directives,ss),w(Sr.options.components,Es),Sr.prototype.__patch__=W?Vi:P,Sr.prototype.$mount=function(t,e){return t=t&&W?co(t):void 0,xn(this,t,e)},W&&setTimeout(function(){B.devtools&&ct&&ct.emit("init",Sr)},0),e["a"]=Sr}).call(this,n("c8ba"))},"2b4c":function(t,e,n){var r=n("5537")("wks"),o=n("ca5a"),i=n("7726").Symbol,s="function"==typeof i,a=t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))};a.store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32e9":function(t,e,n){var r=n("86cc"),o=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},"33a4":function(t,e,n){var r=n("84f2"),o=n("2b4c")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},"38fd":function(t,e,n){var r=n("69a8"),o=n("4bf8"),i=n("613b")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),o=n("4630"),i=n("7f20"),s={};n("32e9")(s,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4a59":function(t,e,n){var r=n("9b43"),o=n("1fa8"),i=n("33a4"),s=n("cb7c"),a=n("9def"),u=n("27ee"),c={},d={};e=t.exports=function(t,e,n,l,f){var h,p,_,g,m=f?function(){return t}:u(t),v=r(n,l,e?2:1),C=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(h=a(t.length);h>C;C++)if(g=e?v(s(p=t[C])[0],p[1]):v(t[C]),g===c||g===d)return g}else for(_=m.call(t);!(p=_.next()).done;)if(g=o(_,v,p.value,e),g===c||g===d)return g};e.BREAK=c,e.RETURN=d},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"551c":function(t,e,n){"use strict";var r,o,i,s,a=n("2d00"),u=n("7726"),c=n("9b43"),d=n("23c6"),l=n("5ca1"),f=n("d3f4"),h=n("d8e8"),p=n("f605"),_=n("4a59"),g=n("ebd6"),m=n("1991").set,v=n("8079")(),C=n("a5b8"),y=n("9c80"),E=n("a25f"),S=n("bcaa"),A="Promise",T=u.TypeError,b=u.process,O=b&&b.versions,I=O&&O.v8||"",N=u[A],R="process"==d(b),M=function(){},w=o=C.f,L=!!function(){try{var t=N.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(M,M)};return(R||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==I.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(r){}}(),P=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},x=function(t,e){if(!t._n){t._n=!0;var n=t._c;v(function(){var r=t._v,o=1==t._s,i=0,s=function(e){var n,i,s,a=o?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{a?(o||(2==t._h&&k(t),t._h=1),!0===a?n=r:(d&&d.enter(),n=a(r),d&&(d.exit(),s=!0)),n===e.promise?c(T("Promise-chain cycle")):(i=P(n))?i.call(n,u,c):u(n)):c(r)}catch(l){d&&!s&&d.exit(),c(l)}};while(n.length>i)s(n[i++]);t._c=[],t._n=!1,e&&!t._h&&D(t)})}},D=function(t){m.call(u,function(){var e,n,r,o=t._v,i=U(t);if(i&&(e=y(function(){R?b.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=R||U(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},U=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(t){m.call(u,function(){var e;R?b.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),x(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=P(t))?v(function(){var r={_w:n,_d:!1};try{e.call(t,c(F,r,1),c(j,r,1))}catch(o){j.call(r,o)}}):(n._v=t,n._s=1,x(n,!1))}catch(r){j.call({_w:n,_d:!1},r)}}};L||(N=function(t){p(this,N,A,"_h"),h(t),r.call(this);try{t(c(F,this,1),c(j,this,1))}catch(e){j.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("dcbc")(N.prototype,{then:function(t,e){var n=w(g(this,N));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=R?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&x(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(F,t,1),this.reject=c(j,t,1)},C.f=w=function(t){return t===N||t===s?new i(t):o(t)}),l(l.G+l.W+l.F*!L,{Promise:N}),n("7f20")(N,A),n("7a56")(A),s=n("8378")[A],l(l.S+l.F*!L,A,{reject:function(t){var e=w(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(a||!L),A,{resolve:function(t){return S(a&&this===s?N:this,t)}}),l(l.S+l.F*!(L&&n("5cc5")(function(t){N.all(t)["catch"](M)})),A,{all:function(t){var e=this,n=w(e),r=n.resolve,o=n.reject,i=y(function(){var n=[],i=0,s=1;_(t,!1,function(t){var a=i++,u=!1;n.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=w(e),r=n.reject,o=y(function(){_(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},5537:function(t,e,n){var r=n("8378"),o=n("7726"),i="__core-js_shared__",s=o[i]||(o[i]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var r=n("7726"),o=n("8378"),i=n("32e9"),s=n("2aba"),a=n("9b43"),u="prototype",c=function(t,e,n){var d,l,f,h,p=t&c.F,_=t&c.G,g=t&c.S,m=t&c.P,v=t&c.B,C=_?r:g?r[e]||(r[e]={}):(r[e]||{})[u],y=_?o:o[e]||(o[e]={}),E=y[u]||(y[u]={});for(d in _&&(n=e),n)l=!p&&C&&void 0!==C[d],f=(l?C:n)[d],h=v&&l?a(f,r):m&&"function"==typeof f?a(Function.call,f):f,C&&s(C,d,f,t&c.U),y[d]!=f&&i(y,d,h),m&&E[d]!=f&&(E[d]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5cc5":function(t,e,n){var r=n("2b4c")("iterator"),o=!1;try{var i=[7][r]();i["return"]=function(){o=!0},Array.from(i,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(s){}return n}},"613b":function(t,e,n){var r=n("5537")("keys"),o=n("ca5a");t.exports=function(t){return r[t]||(r[t]=o(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6821:function(t,e,n){var r=n("626a"),o=n("be13");t.exports=function(t){return r(o(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){"use strict";var r=n("0d58"),o=n("2621"),i=n("52a7"),s=n("4bf8"),a=n("626a"),u=Object.assign;t.exports=!u||n("79e5")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){var n=s(t),u=arguments.length,c=1,d=o.f,l=i.f;while(u>c){var f,h=a(arguments[c++]),p=d?r(h).concat(d(h)):r(h),_=p.length,g=0;while(_>g)l.call(h,f=p[g++])&&(n[f]=h[f])}return n}:u},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var r=n("7726"),o=n("86cc"),i=n("9e1e"),s=n("2b4c")("species");t.exports=function(t){var e=r[t];i&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},"7f20":function(t,e,n){var r=n("86cc").f,o=n("69a8"),i=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},8079:function(t,e,n){var r=n("7726"),o=n("1991").set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n("2d95")(s);t.exports=function(){var t,e,n,c=function(){var r,o;u&&(r=s.domain)&&r.exit();while(t){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var d=a.resolve(void 0);n=function(){d.then(c)}}else n=function(){o.call(r,c)};else{var l=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),o=n("c69a"),i=n("6a99"),s=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"9ada":function(t,e,n){!function(e,n){t.exports=n()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=26)}([function(t,e,n){"use strict";e.__esModule=!0;var r,o,i,s=n(4);e.constants={DEFAULT_STORE:"cometchat",MSG_VER_PRE:"store-ver-pre",MSG_VER_POST:"store-ver-post"},(r=e.GroupType||(e.GroupType={})).Public="public",r.Private="private",r.Protected="protected",r.Password="password",e.GROUP_TYPE={PUBLIC:"public",PRIVATE:"private",PROTECTED:"password",PASSWORD:"password"},(o=e.GroupMemberScope||(e.GroupMemberScope={})).Admin="admin",o.Moderator="moderator",o.Member="member",e.GROUP_MEMBER_SCOPE={ADMIN:"admin",MODERATOR:"moderator",PARTICIPANT:"participant"},e.XMPP={host:"encke.cometchat.com",port:7443,bind_url:"/ws/",deafult_password:"CometChat",jid_string:"[%s]%s@%s/%s",bare_jid_string:"[%s]%s@%s",username_string:"[%s]%s",muc_jid_string:"[%s]%s@%s.%s",xmpp_resource:"cometchat_js_sdk"+(new Date).getTime()},e.LOCAL_STORE={COMMON_STORE:"common_store",USERS_STORE:"users_store",MESSAGES_STORE:"messages_store",STORE_STRING:"%s:%s"},e.ResponseConstants={RESPONSE_KEYS:{KEY_DATA:"data",KEY_ACTION:"action",KEY_MESSAGE:"message",KEY_ERROR:"error",KEY_ERROR_DETAILS:"details",KEY_ERROR_CODE:"code",KEY_ERROR_MESSAGE:"message",KEY_AUTH_TOKEN:"authToken",KEY_WS_CHANNEL:"wsChannel",KEY_IDENTITY:"identity",KEY_SERVICE:"identity",KEY_ENTITIES:"entities",KEY_ENTITITY:"entity",CODE_REQUEST_OK:200,CODE_BAD_REQUEST:401}},e.MessageConstatnts={TYPE:{TEXT:"text",MEDIA:"media",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file"},CATEGORY:{MESSAGE:"message",ACTION:"action",CALL:"call"},RECEIVER_TYPE:{USER:"user",GROUP:"group"},KEYS:{ACTION:"action",TYPE:"type",DATA:"data",ID:"id",MUID:"muid",SENDER:"sender",RECEIVER:"receiver",CATEGORY:"category",RECEIVER_TYPE:"receiverType",SENT_AT:"sentAt",STATUS:"status",TEXT:"text",URL:"url",METADATA:"metadata"},PAGINATION:{AFFIX:{APPEND:"append",PREPEND:"prepend"},CURSOR_FILEDS:{ID:"id",SENT_AT:"sentAt"},CURSOR_AFFIX_DEFAULT:"prepend",CURSOR_FIELD_DEFAULT:"sentAt",KEYS:{PER_PAGE:"per_page",CURSOR_AFFIX:"cursorAffix",CURSOR_FIELD:"cursorField",CURSOR_VALUE:"cursorValue"}}},(i=e.MessageCategory||(e.MessageCategory={})).ACTION="action",i.MESSAGE="message",i.CALL="call",e.ActionConstatnts={ACTION_SUBJECTS:{ACTION_ON:"on",ACTION_BY:"by",ACTION_FOR:"for"},ACTION_ENTITY_TYPE:{GROUP_USER:"groupuser",USER:"user",GROUP:"group"},ACTION_KEYS:{ACTION_CREATED:"created",ACTION_UPDATED:"updated",ACTION_DELETED:"deleted",ENTITY:"entity",ENTITY_TYPE:"entityType",TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",ACTION_SCOPE_CHANGED:"scopeChanged",ACTION_TYPE_USER:"user",ACTION_TYPE_GROUP:"group",ACTION_TYPE_GROUP_MEMBER:"groupMember",ACTION_TYPE_CALL:"call"},ActionMessages:{ACTION_GROUP_JOINED_MESSAGE:"%s joined %s",ACTION_GROUP_LEFT_MESSAGE:"%s left %s",ACTION_MEMBER_KICKED_MESSAGE:"%s kicked %s from %s",ACTION_MEMBER_BANNED_MESSAGE:"%s banned %s from %s",ACTION_MEMBER_UNBANNED_MESSAGE:"%s unbanned %s from %s",ACTION_MEMBER_INVITED_MESSAGE:"%s banned %s from %s"},ACTION_TYPE:{TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_SCOPE_CHANGED:"scopeChanged"},ACTIONS:{MEMBER_JOINED:"joined",MEMBER_LEFT:"left",MEMBER_KICKED:"kicked",MEMBER_BANNED:"banned",MEMBER_UNBANNED:"unbanned",MEMBER_INVITED:"invited",MEMBER_SCOPE_CHANGED:"scopeChanged"}},e.CallConstants={CALL_TYPE_AUDIO:"audio",CALL_TYPE_VIDEO:"video",CALL_TYPE:{AUDIO:"audio",VIDEO:"video"},RECEIVER_TYPE_GROUP:"group",RECEIVER_TYPE_USER:"user",CALL_KEYS:{CALL_DATA:"data",CALL_ID:"id",CALL_SESSION_ID:"sessionid",CALL_RECEIVER:"receiver",CALL_SENDER:"sender",CALL_RECEIVER_TYPE:"receiverType",CALL_STATUS:"status",CALL_TYPE:"type",CALL_INITIATED_AT:"initiatedAt",CALL_METADATA:"metadata",CALL_ENTITIES:"entities",CALL_ENTITY_TYPE:"entityType",CALL_ENTITY:"entity",CALL_ENTITY_USER:"user",CALL_ENTITY_GROUP:"group"},CALL_STATUS:{INITIATED:"initiated",ONGOING:"ongoing",UNANSWERED:"unanswered",REJECTED:"rejected",BUSY:"busy",CANCELLED:"cancelled",ENDED:"ended"}},e.GroupConstants={KEYS:{NAME:"name",GUID:"guid",TYPE:"type",PASSWORD:"password",ICON:"icon",DESCRIPTION:"description",OWNER:"owner",METADATA:"metadata",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",HAS_JOINED:"hasJoined",WS_CHANNEL:"wsChannel"}},e.GroupMemersConstans={UID:"uid",GUID:"guid",USER:"user"},e.UserConstants={UID:"uid",NAME:"name",AUTH_TOKEN:"authToken",AVATAR:"avatar",CREDITS:"credits",EMAIL:"email",LAST_ACTIVE_AT:"lastActiveAt",LINK:"link",META_DATA:"metaData",ROLE:"role",STATUS:"status",STATUS_MESSAGE:"statusMessage",USER_NAME:"user_name"},e.Errors={ERROR_IO_EXCEPTION:"ERROR_IO_EXCEPTION",ERROR_JSON_EXCEPTION:"ERROR_JSON_EXCEPTION",ERROR_PASSWORD_MISSING:"ERROR_PASSWORD_MISSING",ERROR_LIMIT_EXCEEDED:"ERROR_LIMIT_EXCEEDED",ERROR_USER_NOT_LOGGED_IN:"ERROR_USER_NOT_LOGGED_IN",ERROR_INVALID_GUID:"ERROR_INVALID_GUID",ERROR_PASSWORD_MISSING_MESSAGE:"Password is mandatory for a password group",ERROR_LIMIT_EXCEEDED_MESSAGE:"Limit Exceeded Max limit of %s",ERROR_USER_NOT_LOGGED_IN_MESSAGE:"Please log in to CometChat before calling this method",ERROR_INVALID_GUID_MESSAGE:"Please provide a valid GUID",ERROR_DEFAULT_MESSAGE:"Something went wrong"},e.CALL_ERROR={CALL_ALREADY_INITIATED:{code:"CALL_ALREADY_INITIATED",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},ERROR_IN_CALLING:{code:"CALL_IN_PROGRESS",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}}},e.PARAMETER_ERROR={PARAMETER_REQUIRED:{code:"%s_NOT_PROVIDED",name:"%s_NOT_PROVIDED",message:"please provide the %s",details:{}}},e.GroupErrors={NOT_A_GROUP:new s.CometChatException({code:"NOT_A_GROUP",message:"Please use group class to construct a new group"})},e.PresenceConstatnts={XMPP_KEYS:{FROM:"from",STATUS:"status",LAST_ACTIVE_AT:"lastActiveAt",TYPE:"type"},STATUS:{ONLINE:"online",OFFLINE:"offline",JOINED:"JOINED",LEFT:"LEFT"}},e.APP_SETTINGS={APP_SETTINGS:"app_settings",KEYS:{XMPP_HOST:"XMPP_HOST",XMPP_USE_SSL:"XMPP_USE_SSL",GROUP_SERVICE:"GROUP_SERVICE",CALL_SERVICE:"CALL_SERVICE",XMPP_WS_PORT:"XMPP_WS_PORT",XMPP_WSS_PORT:"XMPP_WSS_PORT",XMPP_HTTP_BIND_PORT:"XMPP_HTTP_BIND_PORT",XMPP_HTTPS_BIND_PORT:"XMPP_HTTPS_BIND_PORT",WEBRTC_HOST:"WEBRTC_HOST",WEBRTC_USE_SSL:"WEBRTC_USE_SSL",WEBRTC_WS_PORT:"WEBRTC_WS_PORT",WEBRTC_WSS_PORT:"WEBRTC_WSS_PORT",WEBRTC_HTTP_BIND_PORT:"WEBRTC_HTTP_BIND_PORT",WEBRTC_HTTPS_BIND_PORT:"WEBRTC_HTTPS_BIND_PORT"}}},function(t,e,n){"use strict";e.__esModule=!0,e.isObject=function(t){return t instanceof Object&&t.constructor===Object},e.isTruthy=function(t){return[!0,1,"1","true","TRUE"].includes(t)},e.isFalsy=function(t){return null!=t&&("string"==typeof t&&(t=t.trim()),"object"==typeof t&&0===Object.keys(t).length&&(t=void 0)),["",0,"0",!1,null,"null",void 0,"undefined"].includes(t)},e.getOrdinalSuffix=function(t){var e=t%10,n=t%100;return 1==e&&11!=n?t+"st":2==e&&12!=n?t+"nd":3==e&&13!=n?t+"rd":t+"th"},e.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.split("%s").reduce(function(t,n,r){return t+n+(e[r]||"")},"")},e.createUidFromJid=function(t){return t.substring(t.lastIndexOf("]")+1,t.lastIndexOf("@"))};var r=function(){function t(){}return t.log=function(t,e){},t.error=function(t,e){},t.info=function(t,e){},t}();e.Logger=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(18),o=n(1),i=n(4),s=n(5),a=n(3),u=n(11),c=n(7),d=n(6),l=n(20),f=n(19),h=n(13),p=n(10),_=n(23),g=n(0),m=n(16),v=n(24),C=n(25),y=n(12),E=n(17),S=n(22),A=n(36),T=n(15),b=n(37),O=n(38),I=n(39),N=n(42),R=u.XMPPConnectionHelper.getInstance(),M=function(){function t(e){t.appId=e,t.messagesStore=p.MessagesStore.getInstance(),t.localStorage=d.LocalStorage.getInstance(),t.userStore=C.UserStore.getInstance()}return t.setAuthToken=function(e){t.authToken=e},t.prototype.getAuthToken=function(){return t.authToken},t.getAppId=function(){return t.appId},t.prototype.getApiKey=function(){return t.apiKey},t.init=function(t){var e=this;return new Promise(function(n,r){o.isFalsy(t)?r(new i.CometChatException(A.INIT_ERROR.NO_APP_ID)):e.getInstance(t),n(!0)})},t.getInstance=function(e){return this.cometChat||(this.cometChat=new t(e)),this.cometChat},t.login=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise(function(r,s){if(!o.isFalsy(e.getAppId()))return t.localStorage.get("user").then(function(u){if(2!=n.length)return t.authToken=n[0],t.isSecure=!0,e.getLoggedinUser().then(function(o){null!=u&&u.uid!==o.uid?t.messagesStore.clearStore().then(function(){t.userStore.clearStore().then(function(){t.localStorage.clearStore().then(function(){(t.user=new a.Me(o)).setAuthToken(n[0]),t.setAuthToken(n[0]),t.XMPPLogin(t.user,r,s)})})}):(e.user=new a.Me(o),e.user.setAuthToken(n[0]),e.setAuthToken(n[0]),e.XMPPLogin(e.user,r,s))},function(t){s(new i.CometChatException(t.error))});t.isSecure=!1,t.apiKey=n[1];var c=n[0];null!=u&&u.uid!==n[0]?e.messagesStore.clearStore().then(function(){t.userStore.clearStore().then(function(){t.localStorage.clearStore().then(function(){t.generateAuthToken(c).then(function(e){t.user=new a.Me(e),t.setAuthToken(t.user.getAuthToken()),t.getLoggedinUser().then(function(e){(t.user=new a.Me(e)).setAuthToken(t.authToken),t.setAuthToken(t.user.getAuthToken()),t.XMPPLogin(t.user,r,s)},function(t){s(new i.CometChatException(t.error))})},function(t){s(new i.CometChatException(t))})})})}):o.isFalsy(t.authToken)?o.isFalsy(c)||(o.isFalsy(t.apiKey)?s(new i.CometChatException(A.LOGIN_ERROR.UNAUTHORISED)):e.generateAuthToken(c).then(function(n){e.user=new a.Me(n),e.setAuthToken(t.user.getAuthToken()),e.getLoggedinUser().then(function(n){e.user=new a.Me(n),e.user.setAuthToken(t.authToken),e.setAuthToken(e.user.getAuthToken()),e.XMPPLogin(e.user,r,s)},function(t){s(new i.CometChatException(t.error))})},function(t){s(new i.CometChatException(t))})):e.XMPPLogin(e.user,r,s)});s(new i.CometChatException(A.LOGIN_ERROR.NOT_INITIALIZED))})},t.sendMessage=function(t){var e=this;return new Promise(function(n,r){return s.makeApiCall("sendMessage",{},t,t instanceof l.MediaMessage).then(function(t){e.messagesStore.storeMessages([h.MessageController.trasformJSONMessge(t.data)]),n(h.MessageController.trasformJSONMessge(t.data))},function(t){r(new i.CometChatException(t.error))})})},t.sendMediaMessage=function(t){var e=this;return new Promise(function(n,r){return s.makeApiCall("sendMessage",{},t,!0).then(function(t){e.messagesStore.storeMessages([h.MessageController.trasformJSONMessge(t.data)]),n(h.MessageController.trasformJSONMessge(t.data))},function(t){r(new i.CometChatException(t.error))})})},t.getPreviousMessagesByTimestamp=function(t,e){return new Promise(function(n,r){o.isFalsy(e)?r(new i.CometChatException(JSON.parse(o.format(JSON.stringify(g.PARAMETER_ERROR.PARAMETER_REQUIRED),"TIMESTAMP","TIMESTAMP","timestamp")))):h.MessageController.getAllMessage(t,e,g.MessageConstatnts.PAGINATION.CURSOR_FILEDS.SENT_AT,g.MessageConstatnts.PAGINATION.AFFIX.PREPEND).then(function(t){return n(t)},function(t){return r(t)})})},t.getPreviousMessagesById=function(t,e){return new Promise(function(n,r){o.isFalsy(e)?r(new i.CometChatException(JSON.parse(o.format(JSON.stringify(g.PARAMETER_ERROR.PARAMETER_REQUIRED),"ID","ID","id")))):h.MessageController.getAllMessage(t,e,g.MessageConstatnts.PAGINATION.CURSOR_FILEDS.ID,g.MessageConstatnts.PAGINATION.AFFIX.PREPEND).then(function(t){return n(t)},function(t){return r(t)})})},t.getNextMessagesByTimestamp=function(t,e){return new Promise(function(n,r){o.isFalsy(e)?r(new i.CometChatException(JSON.parse(o.format(JSON.stringify(g.PARAMETER_ERROR.PARAMETER_REQUIRED),"TIMESTAMP","TIMESTAMP","timestamp")))):h.MessageController.getAllMessage(t,e,g.MessageConstatnts.PAGINATION.CURSOR_FILEDS.SENT_AT,g.MessageConstatnts.PAGINATION.AFFIX.APPEND).then(function(t){return n(t)},function(t){return r(t)})})},t.getNextMessagesById=function(t,e){return new Promise(function(n,r){o.isFalsy(e)?r(new i.CometChatException(JSON.parse(o.format(JSON.stringify(g.PARAMETER_ERROR.PARAMETER_REQUIRED),"ID","ID","id")))):h.MessageController.getAllMessage(t,e,g.MessageConstatnts.PAGINATION.CURSOR_FILEDS.ID,g.MessageConstatnts.PAGINATION.AFFIX.APPEND).then(function(t){return n(t)},function(t){return r(t)})})},t.getUser=function(e){return new Promise(function(n,r){s.makeApiCall("user",{uid:e}).then(function(e){var r=_.UsersController.trasformJSONUser(e.data),i=[];i.push(o.format(g.XMPP.username_string,t.getAppId(),e.data[g.UserConstants.UID])),u.XMPPConnectionHelper.getInstance().getPresenceInfo(i,function(t){i.map(function(e,o){r.setLastActiveAt(t[o].getLastActiveAt()),r.setStatus(t[o].getStatus()),n(r)})})}).catch(function(t){r(new i.CometChatException(t.error))})})},t.getLoggedinUser=function(){return new Promise(function(t,e){s.makeApiCall("getMyDetails").then(function(e){t(e.data)}).catch(function(t){e(t)})})},t.createGroup=function(t){return new Promise(function(e,n){t instanceof m.Group||n(new i.CometChatException(g.GroupErrors.NOT_A_GROUP)),s.makeApiCall("createGroup",{},t).then(function(n){R.joinMuc(t),e(v.GroupsController.trasformJSONGroup(n.data))},function(t){n(new i.CometChatException(t.error))})})},t.getGroup=function(t){return new Promise(function(e,n){s.makeApiCall("getGroup",{guid:t}).then(function(t){e(v.GroupsController.trasformJSONGroup(t.data))},function(t){n(new i.CometChatException(t.error))})})},t.joinGroup=function(t,e,n){return new Promise(function(r,a){var u;u=o.isFalsy(n)?new m.Group(t,"name",e):new m.Group(t,"",e,n),s.makeApiCall("joinGroup",u,u).then(function(t){R.joinMuc(u),r(v.GroupsController.trasformJSONGroup(t.data[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA][g.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][g.ActionConstatnts.ACTION_KEYS.ENTITY]))},function(t){a(new i.CometChatException(t.error))})})},t.updateGroup=function(t){return new Promise(function(e,n){t instanceof m.Group||n(new i.CometChatException({message:"No such Group present"})),s.makeApiCall("updateGroup",t,t).then(function(t){e(v.GroupsController.trasformJSONGroup(t.data))},function(t){n(new i.CometChatException(t.error))})})},t.deleteGroup=function(t){return new Promise(function(e,n){s.makeApiCall("deleteGroup",{guid:t}).then(function(t){e(!0)},function(t){n(new i.CometChatException(t.error))})})},t.leaveGroup=function(t){return new Promise(function(e,n){s.makeApiCall("leaveGroup",{guid:t}).then(function(n){R.leaveMuc(t),p.MessagesStore.getInstance().storeMessages([h.MessageController.trasformJSONMessge(n.data)]),e(!0)},function(t){n(new i.CometChatException(t.error))})})},t.kickGroupMember=function(t,e){return new Promise(function(n,r){s.makeApiCall("kickGroupMembers",{guid:t,uid:e}).then(function(t){p.MessagesStore.getInstance().storeMessages([h.MessageController.trasformJSONMessge(t.data)]),n(!0)},function(t){r(new i.CometChatException(t.error))})})},t.updateGroupMemberScope=function(t,e,n){return new Promise(function(r,o){s.makeApiCall("changeScopeOfMember",{guid:t,uid:e},{scope:n}).then(function(t){p.MessagesStore.getInstance().storeMessages([h.MessageController.trasformJSONMessge(t.data)]),r(!0)},function(t){o(new i.CometChatException(t.error))})})},t.banGroupMember=function(t,e){return new Promise(function(n,r){s.makeApiCall("banGroupMember",{guid:t,uid:e}).then(function(t){p.MessagesStore.getInstance().storeMessages([h.MessageController.trasformJSONMessge(t.data)]),n(!0)},function(t){r(new i.CometChatException(t.error))})})},t.unbanGroupMember=function(t,e){return new Promise(function(n,r){s.makeApiCall("unbanGroupMember",{guid:t,uid:e}).then(function(t){p.MessagesStore.getInstance().storeMessages([h.MessageController.trasformJSONMessge(t.data)]),n(!0)},function(t){r(new i.CometChatException(t.error))})})},t.initiateCall=function(t){return new Promise(function(e,n){o.isFalsy(JSON.parse(JSON.stringify(t)).sender)?o.isFalsy(S.CallController.getInstance().getActiveCall())?(t.setStatus(g.CallConstants.CALL_STATUS.INITIATED),s.makeApiCall("createCallSession",{},t).then(function(t){var r=E.Call.callFromJSON(t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);S.CallController.getInstance().initiateCall(r).then(function(n){p.MessagesStore.getInstance().storeMessages([n]),e(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]))}).catch(function(t){n(t)})},function(t){n(new i.CometChatException(t.error))})):n(new i.CometChatException(g.CALL_ERROR.ERROR_IN_CALLING)):S.CallController.getInstance().initiateCall(t).then(function(n){e(Object.assign(t))}).catch(function(t){n(t)})})},t.acceptCall=function(t){return new Promise(function(e,n){var r={};r[g.CallConstants.CALL_KEYS.CALL_STATUS]=g.CallConstants.CALL_STATUS.ONGOING,s.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.Call.callFromJSON(t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);S.CallController.getInstance().onCallStarted(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])),p.MessagesStore.getInstance().storeMessages([Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])]),e(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]))},function(t){n(new i.CometChatException(t.error))})})},t.rejectCall=function(t,e){switch(e){case g.CallConstants.CALL_STATUS.REJECTED:return this.rejectIncomingCall(t);case g.CallConstants.CALL_STATUS.CANCELLED:return this.cancelCall(t);case g.CallConstants.CALL_STATUS.BUSY:return this.sendBusyResponse(t);default:o.Logger.log("Default case",e)}},t.endCall=function(t){return new Promise(function(e,n){var r={};r[g.CallConstants.CALL_KEYS.CALL_STATUS]=g.CallConstants.CALL_STATUS.ENDED,s.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){o.Logger.log("calling Log",{response:t});var n=E.Call.callFromJSON(t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);p.MessagesStore.getInstance().storeMessages([Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])]),S.CallController.getInstance().endCall(),e(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]))},function(t){o.Logger.log("calling Log",{error:t});var n=S.CallController.getInstance().getActiveCall();n.setStatus(g.CallConstants.CALL_STATUS.ENDED),p.MessagesStore.getInstance().storeMessages(n),e(n),S.CallController.getInstance().endCall()})})},t.getActiveCall=function(){return S.CallController.getInstance().getActiveCall()},t.startCall=function(t,e,n){S.CallController.getInstance().startCall(e,n)},t.rejectIncomingCall=function(t){return new Promise(function(e,n){var r={};r[g.CallConstants.CALL_KEYS.CALL_STATUS]=g.CallConstants.CALL_STATUS.REJECTED,s.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.Call.callFromJSON(t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);p.MessagesStore.getInstance().storeMessages([Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])]),e(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]))},function(t){n(new i.CometChatException(t.error))})})},t.cancelCall=function(t){return new Promise(function(e,n){var r={};r[g.CallConstants.CALL_KEYS.CALL_STATUS]=g.CallConstants.CALL_STATUS.CANCELLED,s.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.Call.callFromJSON(t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);p.MessagesStore.getInstance().storeMessages([Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])]),S.CallController.getInstance().endCallSession(),e(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]))},function(t){n(new i.CometChatException(t.error))})})},t.sendBusyResponse=function(t){return new Promise(function(e,n){var r={};r[g.CallConstants.CALL_KEYS.CALL_STATUS]=g.CallConstants.CALL_STATUS.BUSY,s.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.Call.callFromJSON(t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);p.MessagesStore.getInstance().storeMessages([Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])]),e(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]))},function(t){n(new i.CometChatException(t.error))})})},t.sendUnansweredResponse=function(t){return new Promise(function(e,n){var r={};r[g.CallConstants.CALL_KEYS.CALL_STATUS]=g.CallConstants.CALL_STATUS.UNANSWERED,s.makeApiCall("updateCallSession",{sessionid:t},r).then(function(t){var n=E.Call.callFromJSON(t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);u.XMPPConnectionHelper.getInstance().trigerMessageHandler(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])),p.MessagesStore.getInstance().storeMessages([Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA])]),e(Object.assign(n,t[g.ResponseConstants.RESPONSE_KEYS.KEY_DATA]))},function(t){n(new i.CometChatException(t.error))})})},t.addMessageListener=function(t,e){R.addMessageEventListener(t,e)},t.removeMessageListener=function(t){R.removeMessageEventListener(t)},t.addCallListener=function(t,e){R.addCallEventListener(t,e)},t.removeCallListener=function(t){R.removeCallEventListener(t)},t.addUserListener=function(t,e){R.addUserEventListener(t,e)},t.removeUserListener=function(t){R.removeUserEventListener(t)},t.addGroupListener=function(t,e){R.addGroupEventListener(t,e)},t.removeGroupListener=function(t){R.removeGroupEventListener(t)},t.generateAuthToken=function(t){return new Promise(function(e,n){s.makeApiCall("authToken",{uid:t}).then(function(t){e(t.data)}).catch(function(t){n(new i.CometChatException(t.error))})})},t.XMPPLogin=function(t,e,n){var r=this,s=!0;R.XMMPLogin(t.getUid(),t.getWsChannel().secret,function(u){switch(u){case c.Strophe.Status.CONNFAIL:return n(new i.CometChatException(A.LOGIN_ERROR.XMPP_CONNECTION_FAIL)),r.getAppSettings().then(function(t){});case c.Strophe.Status.CONNECTED:r.localStorage.set("user",t),r.messagesStore.get(g.constants.MSG_VER_POST).then(function(t){null==t&&(t=0),h.MessageController.getOfflineHistory(1e3,t)}),e(new a.User(t));break;case c.Strophe.Status.DISCONNECTED:s&&r.XMPPLogin(t,e,n);break;case c.Strophe.Status.DISCONNECTING:s=!1,o.Logger.info("Connection","Disconnecting");break;case c.Strophe.Status.AUTHFAIL:n(new i.CometChatException(A.LOGIN_ERROR.XMPP_CONNECTION_FAIL))}})},t.getAppSettings=function(){return new Promise(function(t,e){s.makeApiCall("appSettings").then(function(e){d.LocalStorage.getInstance().set("app_settings",e.data),t(e.data)},function(t){e(new i.CometChatException(t.error))})})},t.logout=function(){var t=this;return new Promise(function(e,n){s.makeApiCall("userLogout").then(function(n){u.XMPPConnectionHelper.getInstance().XMPPDisconnect(),t.clearCache(),t.apiKey=void 0,t.user=void 0,t.authToken=void 0,e(n.data)},function(t){n(new i.CometChatException(t.error))})})},t.clearCache=function(){this.messagesStore.clearStore(),this.userStore.clearStore(),this.localStorage.clearStore()},t.TextMessage=f.TextMessage,t.MediaMessage=l.MediaMessage,t.Action=T.Action,t.Call=E.Call,t.Group=m.Group,t.AppUser=a.User,t.UserMessagesRequest=b.MessagesRequest,t.UserMessagesRequestBuilder=b.DefaultMessagesRequestBuilder,t.GroupMessagesRequest=b.MessagesRequest,t.GroupMessagesRequestBuilder=b.DefaultGroupMessagesRequestBuilder,t.MessagesRequest=b.MessagesRequest,t.MessagesRequestBuilder=b.DefaultMessagesRequestBuilder,t.UsersRequest=N.UsersRequest,t.UsersRequestBuilder=N.UsersRequestBuilder,t.GroupsRequest=O.GroupsRequest,t.GroupsRequestBuilder=O.GroupsRequestBuilder,t.GroupMembersRequest=I.GroupMembersRequest,t.GroupMembersRequestBuilder=I.GroupMembersRequestBuilder,t.BannedMembersRequest=I.GroupMembersRequest,t.BannedMembersRequestBuilder=I.GroupOutCastMembersRequestBuilder,t.MessageListener=y.MessageEventListener,t.UserListener=y.UserEventListener,t.GroupListener=y.GroupEventListener,t.OngoingCallListener=y.UserCallEventListener,t.CallListener=y.CallEventListener,t.MESSAGE_TYPE=g.MessageConstatnts.TYPE,t.CATEGORY_MESSAGE=g.MessageConstatnts.CATEGORY.MESSAGE,t.CATEGORY_ACTION=g.MessageConstatnts.CATEGORY.ACTION,t.CATEGORY_CALL=g.MessageConstatnts.CATEGORY.CALL,t.ACTION_TYPE=g.ActionConstatnts.ACTIONS,t.CALL_TYPE=g.CallConstants.CALL_TYPE,t.RECEIVER_TYPE=g.MessageConstatnts.RECEIVER_TYPE,t.CALL_STATUS=g.CallConstants.CALL_STATUS,t.CallController=S.CallController,t.GROUP_MEMBER_SCOPE=g.GROUP_MEMBER_SCOPE,t.GROUP_TYPE=g.GROUP_TYPE,t.MESSAGE_REQUEST=g.MessageConstatnts.PAGINATION.CURSOR_FILEDS,t.isCall=!1,t.endpointFactory=new r.EndpointFactory,t}();e.CometChat=M},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var i=function(){function t(t){this.uid=t.uid,this.name=t.name,this.authToken=t.authToken,this.avatar=t.avatar,this.credits=t.credits,this.email=t.email,this.lastActiveAt=t.lastActiveAt,this.link=t.link,this.metadata=t.metadata,this.role=t.role,this.status=t.status,this.statusMessage=t.statusMessage}return t.prototype.getUid=function(){return this.uid},t.prototype.setUid=function(t){this.uid=t},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t.prototype.getAuthToken=function(){return this.authToken},t.prototype.setAuthToken=function(t){this.authToken=t},t.prototype.getAvatar=function(){return this.avatar},t.prototype.setAvatar=function(t){this.avatar=t},t.prototype.getCredits=function(){return this.credits},t.prototype.setCredits=function(t){this.credits=t},t.prototype.getEmail=function(){return this.email},t.prototype.setEmail=function(t){this.email=t},t.prototype.getLastActiveAt=function(){return this.lastActiveAt},t.prototype.setLastActiveAt=function(t){this.lastActiveAt=t},t.prototype.getLink=function(){return this.link},t.prototype.setLink=function(t){return this.link=t},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.getRole=function(){return this.role},t.prototype.setRole=function(t){this.role=t},t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(t){this.status=t},t.prototype.getStatusMessage=function(){return this.statusMessage},t.prototype.setStatusMessage=function(t){this.statusMessage=t},t}(),s=function(t){function e(e){var n=t.call(this,e)||this;return n.wsChannel=e.wsChannel,n}return o(e,t),e.prototype.getWsChannel=function(){return this.wsChannel},e}(e.User=i);e.Me=s},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){this.code=t.code,this.name=t.name,this.message=t.message,this.details=t.details};e.CometChatException=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(27),o=n(2),i=n(1);function s(t,e,n,r,o){var s;return void 0===t&&(t=""),void 0===e&&(e="GET"),void 0===n&&(n={}),void 0===r&&(r={}),n=i.isFalsy(n)?void 0:("GET"==e&&(t+="?",Object.keys(n).map(function(e){t=t+e+"="+n[e]+"&"}),n=void 0),o&&(s=new FormData(this),Object.keys(n).map(function(t){n[t]instanceof Object&&!(n[t]instanceof File)?s.set(t,JSON.stringify(n[t])):s.set(t,n[t])})),JSON.stringify(n)),fetch(t,{method:e,mode:"cors",cache:"no-cache",headers:r,redirect:"follow",referrer:"no-referrer",body:o?s:n})}e.makeApiCall=function(t,e,n,i){void 0===t&&(t=""),void 0===e&&(e={}),void 0===n&&(n={});var a=o.CometChat.getInstance();return new Promise(function(u,c){r.getEndPoint(t,e).then(function(e){var r={appId:o.CometChat.getAppId(),Accept:"application/json"};i||(r["Content-Type"]="application/json"),e.hasOwnProperty("isAdminApi")&&e.isAdminApi?a.getApiKey()?r.apiKey=a.getApiKey():c({error:"An apiKey is need to use the "+t+" api."}):a.getAuthToken()?r.authToken=a.getAuthToken():c({error:{code:"USER_NOT_LOGED_IN",message:"An authToken is need to use the "+t+" api.",name:"user not logged in"}}),s(e.endpoint,e.method,n,r,i).then(function(t){return t.json()}).then(function(t){t.hasOwnProperty("data")?(t.data.hasOwnProperty("authToken")&&o.CometChat.setAuthToken(t.data.authToken),u(t)):c(t)}).catch(function(t){return c})}).catch(function(t){return c})})},e.makeAdminApiCall=function(t,e,n,i){void 0===t&&(t=""),void 0===e&&(e={}),void 0===n&&(n={});var a=o.CometChat.getInstance();return new Promise(function(u,c){r.getEndPoint(t,e).then(function(e){var r={appId:o.CometChat.getAppId(),Accept:"application/json"};i||(r["Content-Type"]="application/json"),e.hasOwnProperty("isAdminApi")&&e.isAdminApi?a.getApiKey()?r.apiKey=a.getApiKey():c({error:"An apiKey is need to use the "+t+" api."}):a.getAuthToken()?r.authToken=a.getAuthToken():c({error:"An authToken is need to use the "+t+" api."}),s(e.endpoint,e.method,n,r,i).then(function(t){return t.json()}).then(function(t){t.hasOwnProperty("data")?(t.data.hasOwnProperty("authToken")&&o.CometChat.setAuthToken(t.data.authToken),u(t)):c(t)}).catch(function(t){return c})}).catch(function(t){return c})})},e.postData=s},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(0),i=n(14),s=n(2),a=function(){function t(t){this.store=o.constants.DEFAULT_STORE,r.isFalsy(t)||(this.store=t),this.localStore=i.createInstance({name:r.format(o.LOCAL_STORE.STORE_STRING,s.CometChat.getAppId(),o.LOCAL_STORE.COMMON_STORE)}),this.localStore.setDriver([i.LOCALSTORAGE,i.INDEXEDDB,i.WEBSQL])}return t.getInstance=function(){return null==t.localStorage&&(t.localStorage=new t),t.localStorage},t.prototype.set=function(t,e){return this.localStore.setItem(t,e)},t.prototype.remove=function(t){this.localStore.removeItem(t)},t.prototype.get=function(t){return this.localStore.getItem(t)},t.prototype.clearStore=function(){return this.localStore.clear()},t.prototype.clear=function(t){},t.prototype.selectStore=function(t){this.store=t},t.localStorage=null,t}();e.LocalStorage=a},function(t,e,n){var r;window,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/strophe.js")}({"./src/bosh.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/core.js"),o=r.default.Strophe,i=r.default.$build;o.Request=function(t,e,n,r){this.id=++o._requestId,this.xmlData=t,this.data=o.serialize(t),this.origFunc=e,this.func=e,this.rid=n,this.date=NaN,this.sends=r||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},o.Request.prototype={getResponse:function(){var t=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if("parsererror"===(t=this.xhr.responseXML.documentElement).tagName)throw o.error("invalid response received"),o.error("responseText: "+this.xhr.responseText),o.error("responseXML: "+o.serialize(this.xhr.responseXML)),new Error("parsererror")}else if(this.xhr.responseText){if(o.debug("Got responseText but no responseXML; attempting to parse it with DOMParser..."),!(t=(new DOMParser).parseFromString(this.xhr.responseText,"application/xml").documentElement))throw new Error("Parsing produced null node");if(t.querySelector("parsererror")){o.error("invalid response received: "+t.querySelector("parsererror").textContent),o.error("responseText: "+this.xhr.responseText);var e=new Error;throw e.name=o.ErrorCondition.BAD_FORMAT,e}}return t},_newXHR:function(){var t=null;return window.XMLHttpRequest?(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType("text/xml; charset=utf-8"):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t.onreadystatechange=this.func.bind(null,this),t}},o.Bosh=function(t){this._conn=t,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this.lastResponseHeaders=null,this._requests=[]},o.Bosh.prototype={strip:null,_buildBody:function(){var t=i("body",{rid:this.rid++,xmlns:o.NS.HTTPBIND});return null!==this.sid&&t.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),t},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(t,e,n){this.wait=t||this.wait,this.hold=e||this.hold,this.errors=0;var r=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":o.NS.BOSH});n&&r.attrs({route:n});var i=this._conn._connect_cb;this._requests.push(new o.Request(r.tree(),this._onRequestStateChange.bind(this,i.bind(this._conn)),r.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(t,e,n,r,i,s,a){this._conn.jid=t,this.sid=e,this.rid=n,this._conn.connect_callback=r,this._conn.domain=o.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=i||this.wait,this.hold=s||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(o.Status.ATTACHED,null)},_restore:function(t,e,n,r,i){var s=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(null!=s&&s.rid&&s.sid&&s.jid&&(null==t||o.getBareJidFromJid(s.jid)===o.getBareJidFromJid(t)||null===o.getNodeFromJid(t)&&o.getDomainFromJid(s.jid)===t))){var a=new Error("_restore: no restoreable session.");throw a.name="StropheSessionError",a}this._conn.restored=!0,this._attach(s.jid,s.sid,s.rid,e,n,r,i)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(t){var e=t.getAttribute("type");if(null!==e&&"terminate"===e){var n=t.getAttribute("condition");o.error("BOSH-Connection failed: "+n);var r=t.getElementsByTagName("conflict");return null!==n?("remote-stream-error"===n&&0<r.length&&(n="conflict"),this._conn._changeConnectStatus(o.Status.CONNFAIL,n)):this._conn._changeConnectStatus(o.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),o.Status.CONNFAIL}this.sid||(this.sid=t.getAttribute("sid"));var i=t.getAttribute("requests");i&&(this.window=parseInt(i,10));var s=t.getAttribute("hold");s&&(this.hold=parseInt(s,10));var a=t.getAttribute("wait");a&&(this.wait=parseInt(a,10));var u=t.getAttribute("inactivity");u&&(this.inactivity=parseInt(u,10))},_disconnect:function(t){this._sendTerminate(t)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(t){var e=this._getRequestStatus(t),n=this._conn.protocolErrorHandlers.HTTP[e];n&&n.call(this,e)},_hitError:function(t){this.errors++,o.warn("request errored, status: "+t+", number of errors: "+this.errors),4<this.errors&&this._conn._onDisconnectTimeout()},_no_auth_received:function(t){o.warn("Server did not yet offer a supported authentication mechanism. Sending a blank poll request."),t=t?t.bind(this._conn):this._conn._connect_cb.bind(this._conn);var e=this._buildBody();this._requests.push(new o.Request(e.tree(),this._onRequestStateChange.bind(this,t),e.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(;0<this._requests.length;){var t=this._requests.pop();t.abort=!0,t.xhr.abort(),t.xhr.onreadystatechange=function(){}}},_onIdle:function(){var t=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===t.length&&!this._conn.disconnecting&&(o.info("no requests during idle cycle, sending blank request"),t.push(null)),!this._conn.paused){if(this._requests.length<2&&0<t.length){for(var e=this._buildBody(),n=0;n<t.length;n++)null!==t[n]&&("restart"===t[n]?e.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":o.NS.BOSH}):e.cnode(t[n]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new o.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(0<this._requests.length){var r=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(o.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),r>Math.floor(o.TIMEOUT*this.wait)&&(o.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(o.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(t,e){var n;if(4===t.xhr.readyState)try{n=t.xhr.status}catch(t){o.error("Caught an error while retrieving a request's status, reqStatus: "+n)}return void 0===n&&(n="number"==typeof e?e:0),n},_onRequestStateChange:function(t,e){if(o.debug("request id "+e.id+"."+e.sends+" state changed to "+e.xhr.readyState),e.abort)e.abort=!1;else if(4===e.xhr.readyState){var n=this._getRequestStatus(e);if(this.lastResponseHeaders=e.xhr.getAllResponseHeaders(),this.disconnecting&&400<=n)return this._hitError(n),void this._callProtocolErrorHandlers(e);var r=0<n&&n<500,i=e.sends>this._conn.maxRetries;if((r||i)&&(this._removeRequest(e),o.debug("request id "+e.id+" should now be removed")),200===n){var s=this._requests[0]===e;(this._requests[1]===e||s&&0<this._requests.length&&this._requests[0].age()>Math.floor(o.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(e.rid)+1),o.debug("request id "+e.id+"."+e.sends+" got 200"),t(e),this.errors=0}else 0===n||400<=n&&n<600||12e3<=n?(o.error("request id "+e.id+"."+e.sends+" error "+n+" happened"),this._hitError(n),this._callProtocolErrorHandlers(e),400<=n&&n<500&&(this._conn._changeConnectStatus(o.Status.DISCONNECTING,null),this._conn._doDisconnect())):o.error("request id "+e.id+"."+e.sends+" error "+n+" happened");r||i?i&&!this._conn.connected&&this._conn._changeConnectStatus(o.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(t){var e=this,n=this._requests[t],r=this._getRequestStatus(n,-1);if(n.sends>this._conn.maxRetries)this._conn._onDisconnectTimeout();else{var i=n.age(),s=!isNaN(i)&&i>Math.floor(o.TIMEOUT*this.wait),a=null!==n.dead&&n.timeDead()>Math.floor(o.SECONDARY_TIMEOUT*this.wait),u=4===n.xhr.readyState&&(r<1||500<=r);if((s||a||u)&&(a&&o.error("Request ".concat(this._requests[t].id," timed out (secondary), restarting")),n.abort=!0,n.xhr.abort(),n.xhr.onreadystatechange=function(){},this._requests[t]=new o.Request(n.xmlData,n.origFunc,n.rid,n.sends),n=this._requests[t]),0===n.xhr.readyState){o.debug("request id "+n.id+"."+n.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";n.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==n.xhr.setRequestHeader&&n.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(n.xhr.withCredentials=!0)}catch(t){return o.error("XHR open failed: "+t.toString()),this._conn.connected||this._conn._changeConnectStatus(o.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var d=function(){if(n.date=new Date,e._conn.options.customHeaders){var t=e._conn.options.customHeaders;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.xhr.setRequestHeader(r,t[r])}n.xhr.send(n.data)};if(1<n.sends){var l=1e3*Math.min(Math.floor(o.TIMEOUT*this.wait),Math.pow(n.sends,3));setTimeout(function(){d()},l)}else d();n.sends++,this._conn.xmlOutput!==o.Connection.prototype.xmlOutput&&(n.xmlData.nodeName===this.strip&&n.xmlData.childNodes.length?this._conn.xmlOutput(n.xmlData.childNodes[0]):this._conn.xmlOutput(n.xmlData)),this._conn.rawOutput!==o.Connection.prototype.rawOutput&&this._conn.rawOutput(n.data)}else o.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+n.xhr.readyState)}},_removeRequest:function(t){o.debug("removing request");for(var e=this._requests.length-1;0<=e;e--)t===this._requests[e]&&this._requests.splice(e,1);t.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(t){var e=this._requests[t];null===e.dead&&(e.dead=new Date),this._processRequest(t)},_reqToData:function(t){try{return t.getResponse()}catch(t){if("parsererror"!==t.message)throw t;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(t){o.info("_sendTerminate was called");var e=this._buildBody().attrs({type:"terminate"});t&&e.cnode(t.tree());var n=new o.Request(e.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),e.tree().getAttribute("rid"));this._requests.push(n),this._throttledRequestHandler()},_send:function(){var t=this;clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){return t._conn._onIdle()},100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?o.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):o.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(0<this._requests.length&&this._processRequest(0),1<this._requests.length&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}}},"./src/core.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/md5.js"),o=n("./src/sha1.js"),i=n("./src/utils.js");function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return new l.Builder(t,e)}function c(t){return new l.Builder("iq",t)}function d(t){return new l.Builder("presence",t)}var l={VERSION:"1.3.0",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(t){for(var e=0;e<l.XHTML.tags.length;e++)if(t===l.XHTML.tags[e])return!0;return!1},validAttribute:function(t,e){if(void 0!==l.XHTML.attributes[t]&&0<l.XHTML.attributes[t].length)for(var n=0;n<l.XHTML.attributes[t].length;n++)if(e===l.XHTML.attributes[t][n])return!0;return!1},validCSS:function(t){for(var e=0;e<l.XHTML.css.length;e++)if(t===l.XHTML.css[e])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10},ErrorCondition:{BAD_FORMAT:"bad-format",CONFLICT:"conflict",MISSING_JID_NODE:"x-strophe-bad-non-anon-jid",NO_AUTH_MECH:"no-auth-mech",UNKNOWN_REASON:"unknown"},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(t,e){l.NS[t]=e},forEachChild:function(t,e,n){for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes[r];o.nodeType!==l.ElementType.NORMAL||e&&!this.isTagEqual(o,e)||n(o)}},isTagEqual:function(t,e){return t.tagName===e},_xmlGenerator:null,_makeGenerator:function(){var t;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(t=this._getIEXmlDom()).appendChild(t.createElement("strophe")):t=document.implementation.createDocument("jabber:client","strophe",null),t},xmlGenerator:function(){return l._xmlGenerator||(l._xmlGenerator=l._makeGenerator()),l._xmlGenerator},_getIEXmlDom:function(){for(var t=null,e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<e.length&&null===t;n++)try{t=new ActiveXObject(e[n])}catch(e){t=null}return t},xmlElement:function(t){if(!t)return null;for(var e=l.xmlGenerator().createElement(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r)if("string"==typeof r||"number"==typeof r)e.appendChild(l.xmlTextNode(r));else if("object"===a(r)&&"function"==typeof r.sort)for(var o=0;o<r.length;o++){var i=r[o];"object"===a(i)&&"function"==typeof i.sort&&void 0!==i[1]&&null!==i[1]&&e.setAttribute(i[0],i[1])}else if("object"===a(r))for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s]&&null!==r[s]&&e.setAttribute(s,r[s])}return e},xmlescape:function(t){return(t=(t=(t=(t=t.replace(/\&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&apos;")).replace(/"/g,"&quot;")},xmlunescape:function(t){return(t=(t=(t=(t=t.replace(/\&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,'"')},xmlTextNode:function(t){return l.xmlGenerator().createTextNode(t)},xmlHtmlNode:function(t){var e;return DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)),e},getText:function(t){if(!t)return null;var e="";0===t.childNodes.length&&t.nodeType===l.ElementType.TEXT&&(e+=t.nodeValue);for(var n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===l.ElementType.TEXT&&(e+=t.childNodes[n].nodeValue);return l.xmlescape(e)},copyElement:function(t){var e;if(t.nodeType===l.ElementType.NORMAL){e=l.xmlElement(t.tagName);for(var n=0;n<t.attributes.length;n++)e.setAttribute(t.attributes[n].nodeName,t.attributes[n].value);for(var r=0;r<t.childNodes.length;r++)e.appendChild(l.copyElement(t.childNodes[r]))}else t.nodeType===l.ElementType.TEXT&&(e=l.xmlGenerator().createTextNode(t.nodeValue));return e},createHtml:function(t){var e;if(t.nodeType===l.ElementType.NORMAL){var n=t.nodeName.toLowerCase();if(l.XHTML.validTag(n))try{e=l.xmlElement(n);for(var r=0;r<l.XHTML.attributes[n].length;r++){var o=l.XHTML.attributes[n][r],i=t.getAttribute(o);if(null!=i&&""!==i&&!1!==i&&0!==i)if("style"===o&&"object"===a(i)&&void 0!==i.cssText&&(i=i.cssText),"style"===o){for(var s=[],u=i.split(";"),c=0;c<u.length;c++){var d=u[c].split(":"),f=d[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();if(l.XHTML.validCSS(f)){var h=d[1].replace(/^\s*/,"").replace(/\s*$/,"");s.push(f+": "+h)}}0<s.length&&(i=s.join("; "),e.setAttribute(o,i))}else e.setAttribute(o,i)}for(var p=0;p<t.childNodes.length;p++)e.appendChild(l.createHtml(t.childNodes[p]))}catch(t){e=l.xmlTextNode("")}else{e=l.xmlGenerator().createDocumentFragment();for(var _=0;_<t.childNodes.length;_++)e.appendChild(l.createHtml(t.childNodes[_]))}}else if(t.nodeType===l.ElementType.FRAGMENT){e=l.xmlGenerator().createDocumentFragment();for(var g=0;g<t.childNodes.length;g++)e.appendChild(l.createHtml(t.childNodes[g]))}else t.nodeType===l.ElementType.TEXT&&(e=l.xmlTextNode(t.nodeValue));return e},escapeNode:function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(t){return"string"!=typeof t?t:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(t){return t.indexOf("@")<0?null:t.split("@")[0]},getDomainFromJid:function(t){var e=l.getBareJidFromJid(t);if(e.indexOf("@")<0)return e;var n=e.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(t){var e=t.split("/");return e.length<2?null:(e.splice(0,1),e.join("/"))},getBareJidFromJid:function(t){return t?t.split("/")[0]:null},_handleError:function(t){void 0!==t.stack&&l.fatal(t.stack),t.sourceURL?l.fatal("error: "+this.handler+" "+t.sourceURL+":"+t.line+" - "+t.name+": "+t.message):t.fileName?l.fatal("error: "+this.handler+" "+t.fileName+":"+t.lineNumber+" - "+t.name+": "+t.message):l.fatal("error: "+t.message)},log:function(t,e){t===this.LogLevel.FATAL&&"object"===a(window.console)&&"function"==typeof window.console.error&&window.console.error(e)},debug:function(t){this.log(this.LogLevel.DEBUG,t)},info:function(t){this.log(this.LogLevel.INFO,t)},warn:function(t){this.log(this.LogLevel.WARN,t)},error:function(t){this.log(this.LogLevel.ERROR,t)},fatal:function(t){this.log(this.LogLevel.FATAL,t)},serialize:function(t){if(!t)return null;"function"==typeof t.tree&&(t=t.tree());var e=s(Array(t.attributes.length).keys()).map(function(e){return t.attributes[e].nodeName});e.sort();var n=e.reduce(function(e,n){return"".concat(e," ").concat(n,'="').concat(l.xmlescape(t.attributes.getNamedItem(n).value),'"')},"<".concat(t.nodeName));if(0<t.childNodes.length){n+=">";for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes[r];switch(o.nodeType){case l.ElementType.NORMAL:n+=l.serialize(o);break;case l.ElementType.TEXT:n+=l.xmlescape(o.nodeValue);break;case l.ElementType.CDATA:n+="<![CDATA["+o.nodeValue+"]]>"}}n+="</"+t.nodeName+">"}else n+="/>";return n},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(t,e){l._connectionPlugins[t]=e},Builder:function(t,e){"presence"!==t&&"message"!==t&&"iq"!==t||(e&&!e.xmlns?e.xmlns=l.NS.CLIENT:e||(e={xmlns:l.NS.CLIENT})),this.nodeTree=l.xmlElement(t,e),this.node=this.nodeTree}};l.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return l.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(void 0===t[e]?this.node.removeAttribute(e):this.node.setAttribute(e,t[e]));return this},c:function(t,e,n){var r=l.xmlElement(t,e,n);return this.node.appendChild(r),"string"!=typeof n&&"number"!=typeof n&&(this.node=r),this},cnode:function(t){var e,n=l.xmlGenerator();try{e=void 0!==n.importNode}catch(t){e=!1}var r=e?n.importNode(t,!0):l.copyElement(t);return this.node.appendChild(r),this.node=r,this},t:function(t){var e=l.xmlTextNode(t);return this.node.appendChild(e),this},h:function(t){var e=document.createElement("body");e.innerHTML=t;for(var n=l.createHtml(e);0<n.childNodes.length;)this.node.appendChild(n.childNodes[0]);return this}},l.Handler=function(t,e,n,r,o,i,s){this.handler=t,this.ns=e,this.name=n,this.type=r,this.id=o,this.options=s||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(l.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=i?l.getBareJidFromJid(i):null:this.from=i,this.user=!0},l.Handler.prototype={getNamespace:function(t){var e=t.getAttribute("xmlns");return e&&this.options.ignoreNamespaceFragment&&(e=e.split("#")[0]),e},namespaceMatch:function(t){var e=this,n=!1;return!this.ns||(l.forEachChild(t,null,function(t){e.getNamespace(t)===e.ns&&(n=!0)}),n||this.getNamespace(t)===this.ns)},isMatch:function(t){var e=t.getAttribute("from");this.options.matchBareFromJid&&(e=l.getBareJidFromJid(e));var n=t.getAttribute("type");return!(!this.namespaceMatch(t)||this.name&&!l.isTagEqual(t,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&t.getAttribute("id")!==this.id||this.from&&e!==this.from)},run:function(t){var e=null;try{e=this.handler(t)}catch(t){throw l._handleError(t),t}return e},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},l.TimedHandler=function(t,e){this.period=t,this.handler=e,this.lastCalled=(new Date).getTime(),this.user=!0},l.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},l.Connection=function(t,e){var n=this;this.service=t,this.options=e||{};var r=this.options.protocol||"";for(var o in 0===t.indexOf("ws:")||0===t.indexOf("wss:")||0===r.indexOf("ws")?this._proto=new l.Websocket(this):this._proto=new l.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){return n._onIdle()},100),i.default.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms),l._connectionPlugins)if(Object.prototype.hasOwnProperty.call(l._connectionPlugins,o)){var s=function(){};s.prototype=l._connectionPlugins[o],this[o]=new s,this[o].init(this)}},l.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(t){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)});return"string"==typeof t||"number"==typeof t?e+":"+t:e+""},addProtocolErrorHandler:function(t,e,n){this.protocolErrorHandlers[t][e]=n},connect:function(t,e,n,r,o,i,s){this.jid=t,this.authzid=l.getBareJidFromJid(this.jid),this.authcid=s||l.getNodeFromJid(this.jid),this.pass=e,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=l.getDomainFromJid(this.jid),this._changeConnectStatus(l.Status.CONNECTING,null),this._proto._connect(r,o,i)},attach:function(t,e,n,r,o,i,s){if(!(this._proto instanceof l.Bosh)){var a=new Error('The "attach" method can only be used with a BOSH connection.');throw a.name="StropheSessionError",a}this._proto._attach(t,e,n,r,o,i,s)},restore:function(t,e,n,r,o){if(!this._sessionCachingSupported()){var i=new Error('The "restore" method can only be used with a BOSH connection.');throw i.name="StropheSessionError",i}this._proto._restore(t,e,n,r,o)},_sessionCachingSupported:function(){if(this._proto instanceof l.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(t){return!1}return!0}return!1},xmlInput:function(t){},xmlOutput:function(t){},rawInput:function(t){},rawOutput:function(t){},nextValidRid:function(t){},send:function(t){if(null!==t){if("function"==typeof t.sort)for(var e=0;e<t.length;e++)this._queueData(t[e]);else"function"==typeof t.tree?this._queueData(t.tree()):this._queueData(t);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(t,e,n,r){var o=this,i=null;"function"==typeof t.tree&&(t=t.tree());var s=t.getAttribute("id");if(s||(s=this.getUniqueId("sendPresence"),t.setAttribute("id",s)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){i&&o.deleteTimedHandler(i),"error"===t.getAttribute("type")?n&&n(t):e&&e(t)},null,"presence",null,s);r&&(i=this.addTimedHandler(r,function(){return o.deleteHandler(a),n&&n(null),!1}))}return this.send(t),s},sendIQ:function(t,e,n,r){var o=this,i=null;"function"==typeof t.tree&&(t=t.tree());var s=t.getAttribute("id");if(s||(s=this.getUniqueId("sendIQ"),t.setAttribute("id",s)),"function"==typeof e||"function"==typeof n){var a=this.addHandler(function(t){i&&o.deleteTimedHandler(i);var r=t.getAttribute("type");if("result"===r)e&&e(t);else{if("error"!==r){var s=new Error("Got bad IQ type of ".concat(r));throw s.name="StropheError",s}n&&n(t)}},null,"iq",["error","result"],s);r&&(i=this.addTimedHandler(r,function(){return o.deleteHandler(a),n&&n(null),!1}))}return this.send(t),s},_queueData:function(t){if(null===t||!t.tagName||!t.childNodes){var e=new Error("Cannot queue non-DOMElement.");throw e.name="StropheError",e}this._data.push(t)},_sendRestart:function(){var t=this;this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){return t._onIdle()},100)},addTimedHandler:function(t,e){var n=new l.TimedHandler(t,e);return this.addTimeds.push(n),n},deleteTimedHandler:function(t){this.removeTimeds.push(t)},addHandler:function(t,e,n,r,o,i,s){var a=new l.Handler(t,e,n,r,o,i,s);return this.addHandlers.push(a),a},deleteHandler:function(t){this.removeHandlers.push(t);var e=this.addHandlers.indexOf(t);0<=e&&this.addHandlers.splice(e,1)},registerSASLMechanisms:function(t){this.mechanisms={},(t=t||[l.SASLAnonymous,l.SASLExternal,l.SASLMD5,l.SASLOAuthBearer,l.SASLXOAuth2,l.SASLPlain,l.SASLSHA1]).forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(t){this.mechanisms[t.prototype.name]=t},disconnect:function(t){if(this._changeConnectStatus(l.Status.DISCONNECTING,t),l.info("Disconnect was called because: "+t),this.connected){var e=!1;this.disconnecting=!0,this.authenticated&&(e=d({xmlns:l.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(e)}else l.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(t,e,n){for(var r in l._connectionPlugins)if(Object.prototype.hasOwnProperty.call(l._connectionPlugins,r)){var o=this[r];if(o.statusChanged)try{o.statusChanged(t,e)}catch(t){l.error("".concat(r," plugin caused an exception changing status: ").concat(t))}}if(this.connect_callback)try{this.connect_callback(t,e,n)}catch(t){l._handleError(t),l.error("User connection callback caused an exception: ".concat(t))}},_doDisconnect:function(t){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),l.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(l.Status.DISCONNECTED,t),this.connected=!1},_dataRecv:function(t,e){var n=this;l.info("_dataRecv called");var r=this._proto._reqToData(t);if(null!==r){for(this.xmlInput!==l.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==l.Connection.prototype.rawInput&&(e?this.rawInput(e):this.rawInput(l.serialize(r)));0<this.removeHandlers.length;){var o=this.removeHandlers.pop(),i=this.handlers.indexOf(o);0<=i&&this.handlers.splice(i,1)}for(;0<this.addHandlers.length;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())this._doDisconnect();else{var s=r.getAttribute("type");if(null!==s&&"terminate"===s){if(this.disconnecting)return;var a=r.getAttribute("condition"),u=r.getElementsByTagName("conflict");return null!==a?("remote-stream-error"===a&&0<u.length&&(a="conflict"),this._changeConnectStatus(l.Status.CONNFAIL,a)):this._changeConnectStatus(l.Status.CONNFAIL,l.ErrorCondition.UNKOWN_REASON),void this._doDisconnect(a)}l.forEachChild(r,null,function(t){var e=n.handlers;n.handlers=[];for(var r=0;r<e.length;r++){var o=e[r];try{!o.isMatch(t)||!n.authenticated&&o.user?n.handlers.push(o):o.run(t)&&n.handlers.push(o)}catch(t){l.warn("Removing Strophe handlers due to uncaught exception: "+t.message)}}})}}},mechanisms:{},_connect_cb:function(t,e,n){var r;l.info("_connect_cb was called"),this.connected=!0;try{r=this._proto._reqToData(t)}catch(t){if(t.name!==l.ErrorCondition.BAD_FORMAT)throw t;this._changeConnectStatus(l.Status.CONNFAIL,l.ErrorCondition.BAD_FORMAT),this._doDisconnect(l.ErrorCondition.BAD_FORMAT)}if(r&&(this.xmlInput!==l.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==l.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(l.serialize(r))),this._proto._connect_cb(r)!==l.Status.CONNFAIL))if(r.getElementsByTagNameNS?0<r.getElementsByTagNameNS(l.NS.STREAM,"features").length:0<r.getElementsByTagName("stream:features").length||0<r.getElementsByTagName("features").length){var o=[],i=r.getElementsByTagName("mechanism");if(0<i.length)for(var s=0;s<i.length;s++){var a=l.getText(i[s]);this.mechanisms[a]&&o.push(this.mechanisms[a])}0!==o.length||0!==r.getElementsByTagName("auth").length?!1!==this.do_authentication&&this.authenticate(o):this._proto._no_auth_received(e)}else this._proto._no_auth_received(e)},sortMechanismsByPriority:function(t){for(var e=0;e<t.length-1;++e){for(var n=e,r=e+1;r<t.length;++r)t[r].prototype.priority>t[n].prototype.priority&&(n=r);if(n!==e){var o=t[e];t[e]=t[n],t[n]=o}}return t},_attemptSASLAuth:function(t){t=this.sortMechanismsByPriority(t||[]);for(var e=!1,n=0;n<t.length;++n)if(t[n].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new t[n],this._sasl_mechanism.onStart(this);var r=u("auth",{xmlns:l.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var o=this._sasl_mechanism.onChallenge(this,null);r.t(btoa(o))}this.send(r.tree()),e=!0;break}return e},_attemptLegacyAuth:function(){null===l.getNodeFromJid(this.jid)?(this._changeConnectStatus(l.Status.CONNFAIL,l.ErrorCondition.MISSING_JID_NODE),this.disconnect(l.ErrorCondition.MISSING_JID_NODE)):(this._changeConnectStatus(l.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(c({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:l.NS.AUTH}).c("username",{}).t(l.getNodeFromJid(this.jid)).tree()))},authenticate:function(t){this._attemptSASLAuth(t)||this._attemptLegacyAuth()},_sasl_challenge_cb:function(t){var e=atob(l.getText(t)),n=this._sasl_mechanism.onChallenge(this,e),r=u("response",{xmlns:l.NS.SASL});return""!==n&&r.t(btoa(n)),this.send(r.tree()),!0},_auth1_cb:function(t){var e=c({type:"set",id:"_auth_2"}).c("query",{xmlns:l.NS.AUTH}).c("username",{}).t(l.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return l.getResourceFromJid(this.jid)||(this.jid=l.getBareJidFromJid(this.jid)+"/strophe"),e.up().c("resource",{}).t(l.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(e.tree()),!1},_sasl_success_cb:function(t){var e=this;if(this._sasl_data["server-signature"]){var n,r=atob(l.getText(t)).match(/([a-z]+)=([^,]+)(,|$)/);if("v"===r[1]&&(n=r[2]),n!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}l.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var o=[],i=function(t,n){for(;t.length;)e.deleteHandler(t.pop());return e._sasl_auth1_cb(n),!1};return o.push(this._addSysHandler(function(t){return i(o,t)},null,"stream:features",null,null)),o.push(this._addSysHandler(function(t){return i(o,t)},l.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(t){this.features=t;for(var e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0)}if(!this.do_bind)return this._changeConnectStatus(l.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var r=l.getResourceFromJid(this.jid);return r?this.send(c({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:l.NS.BIND}).c("resource",{}).t(r).tree()):this.send(c({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:l.NS.BIND}).tree()),!1},_sasl_bind_cb:function(t){var e;if("error"===t.getAttribute("type"))return l.info("SASL binding failed."),0<t.getElementsByTagName("conflict").length&&(e=l.ErrorCondition.CONFLICT),this._changeConnectStatus(l.Status.AUTHFAIL,e,t),!1;var n=t.getElementsByTagName("bind");if(!(0<n.length))return l.info("SASL binding failed."),this._changeConnectStatus(l.Status.AUTHFAIL,null,t),!1;var r=n[0].getElementsByTagName("jid");0<r.length&&(this.jid=l.getText(r[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(c({type:"set",id:"_session_auth_2"}).c("session",{xmlns:l.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(l.Status.CONNECTED,null)))},_sasl_session_cb:function(t){if("result"===t.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(l.Status.CONNECTED,null);else if("error"===t.getAttribute("type"))return l.info("Session creation failed."),this._changeConnectStatus(l.Status.AUTHFAIL,null,t),!1;return!1},_sasl_failure_cb:function(t){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(l.Status.AUTHFAIL,null,t),!1},_auth2_cb:function(t){return"result"===t.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(l.Status.CONNECTED,null)):"error"===t.getAttribute("type")&&(this._changeConnectStatus(l.Status.AUTHFAIL,null,t),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(t,e){var n=new l.TimedHandler(t,e);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(t,e,n,r,o){var i=new l.Handler(t,e,n,r,o);return i.user=!1,this.addHandlers.push(i),i},_onDisconnectTimeout:function(){return l.info("_onDisconnectTimeout was called"),this._changeConnectStatus(l.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var t=this;0<this.addTimeds.length;)this.timedHandlers.push(this.addTimeds.pop());for(;0<this.removeTimeds.length;){var e=this.removeTimeds.pop(),n=this.timedHandlers.indexOf(e);0<=n&&this.timedHandlers.splice(n,1)}for(var r=(new Date).getTime(),o=[],i=0;i<this.timedHandlers.length;i++){var s=this.timedHandlers[i];!this.authenticated&&s.user||(s.lastCalled+s.period-r<=0?s.run()&&o.push(s):o.push(s))}this.timedHandlers=o,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){return t._onIdle()},100))}},l.SASLMechanism=function(t,e,n){this.name=t,this.isClientFirst=e,this.priority=n},l.SASLMechanism.prototype={test:function(t){return!0},onStart:function(t){this._connection=t},onChallenge:function(t,e){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},l.SASLAnonymous=function(){},l.SASLAnonymous.prototype=new l.SASLMechanism("ANONYMOUS",!1,20),l.SASLAnonymous.prototype.test=function(t){return null===t.authcid},l.SASLPlain=function(){},l.SASLPlain.prototype=new l.SASLMechanism("PLAIN",!0,50),l.SASLPlain.prototype.test=function(t){return null!==t.authcid},l.SASLPlain.prototype.onChallenge=function(t){var e=t.authzid;return e+="\0",e+=t.authcid,e+="\0",e+=t.pass,i.default.utf16to8(e)},l.SASLSHA1=function(){},l.SASLSHA1.prototype=new l.SASLMechanism("SCRAM-SHA-1",!0,70),l.SASLSHA1.prototype.test=function(t){return null!==t.authcid},l.SASLSHA1.prototype.onChallenge=function(t,e,n){var s=n||r.default.hexdigest(1234567890*Math.random()),a="n="+i.default.utf16to8(t.authcid);return a+=",r=",a+=s,t._sasl_data.cnonce=s,a="n,,"+(t._sasl_data["client-first-message-bare"]=a),this.onChallenge=function(t,e){for(var n,r,s,a,u,c,d,l,f="c=biws,",h="".concat(t._sasl_data["client-first-message-bare"],",").concat(e,","),p=t._sasl_data.cnonce,_=/([a-z]+)=([^,]+)(,|$)/;e.match(_);){var g=e.match(_);switch(e=e.replace(g[0],""),g[1]){case"r":n=g[2];break;case"s":r=g[2];break;case"i":s=g[2]}}if(n.substr(0,p.length)!==p)return t._sasl_data={},t._sasl_failure_cb();h+=f+="r="+n,r=atob(r),r+="\0\0\0";var m=i.default.utf16to8(t.pass);for(a=c=o.default.core_hmac_sha1(m,r),d=1;d<s;d++){for(u=o.default.core_hmac_sha1(m,o.default.binb2str(c)),l=0;l<5;l++)a[l]^=u[l];c=u}a=o.default.binb2str(a);var v=o.default.core_hmac_sha1(a,"Client Key"),C=o.default.str_hmac_sha1(a,"Server Key"),y=o.default.core_hmac_sha1(o.default.str_sha1(o.default.binb2str(v)),h);for(t._sasl_data["server-signature"]=o.default.b64_hmac_sha1(C,h),l=0;l<5;l++)v[l]^=y[l];return f+",p="+btoa(o.default.binb2str(v))},a},l.SASLMD5=function(){},l.SASLMD5.prototype=new l.SASLMechanism("DIGEST-MD5",!1,60),l.SASLMD5.prototype.test=function(t){return null!==t.authcid},l.SASLMD5.prototype._quote=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},l.SASLMD5.prototype.onChallenge=function(t,e,n){for(var o=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,s=n||r.default.hexdigest(""+1234567890*Math.random()),a="",u=null,c="";e.match(o);){var d=e.match(o);switch(e=e.replace(d[0],""),d[2]=d[2].replace(/^"(.+)"$/,"$1"),d[1]){case"realm":a=d[2];break;case"nonce":c=d[2];break;case"qop":d[2];break;case"host":u=d[2]}}var l=t.servtype+"/"+t.domain;null!==u&&(l=l+"/"+u);var f=i.default.utf16to8(t.authcid+":"+a+":"+this._connection.pass),h=r.default.hash(f)+":"+c+":"+s,p="AUTHENTICATE:"+l,_="";return _+="charset=utf-8,",_+="username="+this._quote(i.default.utf16to8(t.authcid))+",",_+="realm="+this._quote(a)+",",_+="nonce="+this._quote(c)+",",_+="nc=00000001,",_+="cnonce="+this._quote(s)+",",_+="digest-uri="+this._quote(l)+",",_+="response="+r.default.hexdigest(r.default.hexdigest(h)+":"+c+":00000001:"+s+":auth:"+r.default.hexdigest(p))+",",_+="qop=auth",this.onChallenge=function(){return""},_},l.SASLOAuthBearer=function(){},l.SASLOAuthBearer.prototype=new l.SASLMechanism("OAUTHBEARER",!0,40),l.SASLOAuthBearer.prototype.test=function(t){return null!==t.pass},l.SASLOAuthBearer.prototype.onChallenge=function(t){var e="n,";return null!==t.authcid&&(e=e+"a="+t.authzid),e+=",",e+="",e+="auth=Bearer ",e+=t.pass,e+="",e+="",i.default.utf16to8(e)},l.SASLExternal=function(){},l.SASLExternal.prototype=new l.SASLMechanism("EXTERNAL",!0,10),l.SASLExternal.prototype.onChallenge=function(t){return t.authcid===t.authzid?"":t.authzid},l.SASLXOAuth2=function(){},l.SASLXOAuth2.prototype=new l.SASLMechanism("X-OAUTH2",!0,30),l.SASLXOAuth2.prototype.test=function(t){return null!==t.pass},l.SASLXOAuth2.prototype.onChallenge=function(t){var e="\0";return null!==t.authcid&&(e+=t.authzid),e+="\0",e+=t.pass,i.default.utf16to8(e)},e.default={Strophe:l,$build:u,$iq:c,$msg:function(t){return new l.Builder("message",t)},$pres:d,SHA1:o.default,MD5:r.default,b64_hmac_sha1:o.default.b64_hmac_sha1,b64_sha1:o.default.b64_sha1,str_hmac_sha1:o.default.str_hmac_sha1,str_sha1:o.default.str_sha1}},"./src/md5.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var r=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},o=function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},i=function(t,e,n,o,i,s){return r((a=r(r(e,t),r(o,s)))<<(u=i)|a>>>32-u,n);var a,u},s=function(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)},a=function(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)},u=function(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)},c=function(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)},d=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n,o,i,d,l=1732584193,f=-271733879,h=-1732584194,p=271733878,_=0;_<t.length;_+=16)l=s(n=l,o=f,i=h,d=p,t[_+0],7,-680876936),p=s(p,l,f,h,t[_+1],12,-389564586),h=s(h,p,l,f,t[_+2],17,606105819),f=s(f,h,p,l,t[_+3],22,-1044525330),l=s(l,f,h,p,t[_+4],7,-176418897),p=s(p,l,f,h,t[_+5],12,1200080426),h=s(h,p,l,f,t[_+6],17,-1473231341),f=s(f,h,p,l,t[_+7],22,-45705983),l=s(l,f,h,p,t[_+8],7,1770035416),p=s(p,l,f,h,t[_+9],12,-1958414417),h=s(h,p,l,f,t[_+10],17,-42063),f=s(f,h,p,l,t[_+11],22,-1990404162),l=s(l,f,h,p,t[_+12],7,1804603682),p=s(p,l,f,h,t[_+13],12,-40341101),h=s(h,p,l,f,t[_+14],17,-1502002290),f=s(f,h,p,l,t[_+15],22,1236535329),l=a(l,f,h,p,t[_+1],5,-165796510),p=a(p,l,f,h,t[_+6],9,-1069501632),h=a(h,p,l,f,t[_+11],14,643717713),f=a(f,h,p,l,t[_+0],20,-373897302),l=a(l,f,h,p,t[_+5],5,-701558691),p=a(p,l,f,h,t[_+10],9,38016083),h=a(h,p,l,f,t[_+15],14,-660478335),f=a(f,h,p,l,t[_+4],20,-405537848),l=a(l,f,h,p,t[_+9],5,568446438),p=a(p,l,f,h,t[_+14],9,-1019803690),h=a(h,p,l,f,t[_+3],14,-187363961),f=a(f,h,p,l,t[_+8],20,1163531501),l=a(l,f,h,p,t[_+13],5,-1444681467),p=a(p,l,f,h,t[_+2],9,-51403784),h=a(h,p,l,f,t[_+7],14,1735328473),f=a(f,h,p,l,t[_+12],20,-1926607734),l=u(l,f,h,p,t[_+5],4,-378558),p=u(p,l,f,h,t[_+8],11,-2022574463),h=u(h,p,l,f,t[_+11],16,1839030562),f=u(f,h,p,l,t[_+14],23,-35309556),l=u(l,f,h,p,t[_+1],4,-1530992060),p=u(p,l,f,h,t[_+4],11,1272893353),h=u(h,p,l,f,t[_+7],16,-155497632),f=u(f,h,p,l,t[_+10],23,-1094730640),l=u(l,f,h,p,t[_+13],4,681279174),p=u(p,l,f,h,t[_+0],11,-358537222),h=u(h,p,l,f,t[_+3],16,-722521979),f=u(f,h,p,l,t[_+6],23,76029189),l=u(l,f,h,p,t[_+9],4,-640364487),p=u(p,l,f,h,t[_+12],11,-421815835),h=u(h,p,l,f,t[_+15],16,530742520),f=u(f,h,p,l,t[_+2],23,-995338651),l=c(l,f,h,p,t[_+0],6,-198630844),p=c(p,l,f,h,t[_+7],10,1126891415),h=c(h,p,l,f,t[_+14],15,-1416354905),f=c(f,h,p,l,t[_+5],21,-57434055),l=c(l,f,h,p,t[_+12],6,1700485571),p=c(p,l,f,h,t[_+3],10,-1894986606),h=c(h,p,l,f,t[_+10],15,-1051523),f=c(f,h,p,l,t[_+1],21,-2054922799),l=c(l,f,h,p,t[_+8],6,1873313359),p=c(p,l,f,h,t[_+15],10,-30611744),h=c(h,p,l,f,t[_+6],15,-1560198380),f=c(f,h,p,l,t[_+13],21,1309151649),l=c(l,f,h,p,t[_+4],6,-145523070),p=c(p,l,f,h,t[_+11],10,-1120210379),h=c(h,p,l,f,t[_+2],15,718787259),f=c(f,h,p,l,t[_+9],21,-343485551),l=r(l,n),f=r(f,o),h=r(h,i),p=r(p,d);return[l,f,h,p]},l={hexdigest:function(t){return function(t){for(var e="0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15);return n}(d(o(t),8*t.length))},hash:function(t){return function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}(d(o(t),8*t.length))}}},"./src/sha1.js":function(t,e,n){"use strict";function r(t,e){t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e;var n,r,i,u,c,d,l,f,h,p=new Array(80),_=1732584193,g=-271733879,m=-1732584194,v=271733878,C=-1009589776;for(n=0;n<t.length;n+=16){for(u=_,c=g,d=m,l=v,f=C,r=0;r<80;r++)p[r]=r<16?t[n+r]:a(p[r-3]^p[r-8]^p[r-14]^p[r-16],1),i=s(s(a(_,5),o(r,g,m,v)),s(s(C,p[r]),(h=r)<20?1518500249:h<40?1859775393:h<60?-1894007588:-899497514)),C=v,v=m,m=a(g,30),g=_,_=i;_=s(_,u),g=s(g,c),m=s(m,d),v=s(v,l),C=s(C,f)}return[_,g,m,v,C]}function o(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function i(t,e){var n=u(t);16<n.length&&(n=r(n,8*t.length));for(var o=new Array(16),i=new Array(16),s=0;s<16;s++)o[s]=909522486^n[s],i[s]=1549556828^n[s];var a=r(o.concat(u(e)),512+8*e.length);return r(i.concat(a),672)}function s(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function a(t,e){return t<<e|t>>>32-e}function u(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}function c(t){for(var e,n,r="",o=0;o<4*t.length;o+=3)for(e=(t[o>>2]>>8*(3-o%4)&255)<<16|(t[o+1>>2]>>8*(3-(o+1)%4)&255)<<8|t[o+2>>2]>>8*(3-(o+2)%4)&255,n=0;n<4;n++)8*o+6*n>32*t.length?r+="=":r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>6*(3-n)&63);return r}function d(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}n.r(e),n.d(e,"default",function(){return l});var l={b64_hmac_sha1:function(t,e){return c(i(t,e))},b64_sha1:function(t){return c(r(u(t),8*t.length))},binb2str:d,core_hmac_sha1:i,str_hmac_sha1:function(t,e){return d(i(t,e))},str_sha1:function(t){return d(r(u(t),8*t.length))}}},"./src/strophe.js":function(t,e,n){"use strict";n.r(e),n("./src/bosh.js"),n("./src/websocket.js");var r=n("./src/core.js");n.d(e,"default",function(){return r.default})},"./src/utils.js":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,"default",function(){return o});var o={utf16to8:function(t){var e,n,r="",o=t.length;for(e=0;e<o;e++)0<=(n=t.charCodeAt(e))&&n<=127?r+=t.charAt(e):(2047<n?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63)):r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},addCookies:function(t){for(var e in t=t||{})if(Object.prototype.hasOwnProperty.call(t,e)){var n="",o="",i="",s=t[e],a="object"===r(s),u=escape(unescape(a?s.value:s));a&&(n=s.expires?";expires="+s.expires:"",o=s.domain?";domain="+s.domain:"",i=s.path?";path="+s.path:""),document.cookie=e+"="+u+n+o+i}}}},"./src/websocket.js":function(t,e,n){"use strict";n.r(e);var r=n("./src/core.js"),o=r.default.Strophe,i=r.default.$build;o.Websocket=function(t){this._conn=t,this.strip="wrapper";var e=t.service;if(0!==e.indexOf("ws:")&&0!==e.indexOf("wss:")){var n="";"ws"===t.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==e.indexOf("/")?n+=window.location.pathname+e:n+=e,t.service=n}},o.Websocket.prototype={_buildStream:function(){return i("open",{xmlns:o.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(t,e){var n;if(0===(n=t.getElementsByTagNameNS?t.getElementsByTagNameNS(o.NS.STREAM,"error"):t.getElementsByTagName("stream:error")).length)return!1;for(var r=n[0],i="",s="",a=0;a<r.childNodes.length;a++){var u=r.childNodes[a];if("urn:ietf:params:xml:ns:xmpp-streams"!==u.getAttribute("xmlns"))break;"text"===u.nodeName?s=u.textContent:i=u.nodeName}var c="WebSocket stream error: ";return c+=i||"unknown",s&&(c+=" - "+s),o.error(c),this._conn._changeConnectStatus(e,i),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(t){if(this._check_streamerror(t,o.Status.CONNFAIL))return o.Status.CONNFAIL},_handleStreamStart:function(t){var e=!1,n=t.getAttribute("xmlns");"string"!=typeof n?e="Missing xmlns in <open />":n!==o.NS.FRAMING&&(e="Wrong xmlns in <open />: "+n);var r=t.getAttribute("version");return"string"!=typeof r?e="Missing version in <open />":"1.0"!==r&&(e="Wrong version in <open />: "+r),!e||(this._conn._changeConnectStatus(o.Status.CONNFAIL,e),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(t){if(0===t.data.indexOf("<open ")||0===t.data.indexOf("<?xml")){var e=t.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===e)return;var n=(new DOMParser).parseFromString(e,"text/xml").documentElement;this._conn.xmlInput(n),this._conn.rawInput(t.data),this._handleStreamStart(n)&&this._connect_cb(n)}else if(0===t.data.indexOf("<close ")){var r=(new DOMParser).parseFromString(t.data,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(t.data);var i=r.getAttribute("see-other-uri");if(i){var s=this._conn.service;(0<=s.indexOf("wss:")&&0<=i.indexOf("wss:")||0<=s.indexOf("ws:"))&&(this._conn._changeConnectStatus(o.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect())}else this._conn._changeConnectStatus(o.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect()}else{var a=this._streamWrap(t.data),u=(new DOMParser).parseFromString(a,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(u,null,t.data)}},_disconnect:function(t){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){t&&this._conn.send(t);var e=i("close",{xmlns:o.NS.FRAMING});this._conn.xmlOutput(e.tree());var n=o.serialize(e);this._conn.rawOutput(n);try{this.socket.send(n)}catch(t){o.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){o.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(t){return"<wrapper>"+t+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.onerror=null,this.socket.close()}catch(t){o.debug(t.message)}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(t){this._conn.connected&&!this._conn.disconnecting?(o.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):t&&1006===t.code&&!this._conn.connected&&this.socket?(o.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(o.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):o.info("Websocket closed")},_no_auth_received:function(t){o.error("Server did not offer a supported authentication mechanism"),this._changeConnectStatus(o.Status.CONNFAIL,o.ErrorCondition.NO_AUTH_MECH),t&&t.call(this._conn),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(t){o.error("Websocket error "+t),this._conn._changeConnectStatus(o.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var t=this._conn._data;if(0<t.length&&!this._conn.paused){for(var e=0;e<t.length;e++)if(null!==t[e]){var n=void 0;n="restart"===t[e]?this._buildStream().tree():t[e];var r=o.serialize(n);this._conn.xmlOutput(n),this._conn.rawOutput(r),this.socket.send(r)}this._conn._data=[]}},_onMessage:function(t){var e,n='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(t.data===n)return this._conn.rawInput(n),this._conn.xmlInput(t),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===t.data.search("<open ")){if(e=(new DOMParser).parseFromString(t.data,"text/xml").documentElement,!this._handleStreamStart(e))return}else{var r=this._streamWrap(t.data);e=(new DOMParser).parseFromString(r,"text/xml").documentElement}return this._check_streamerror(e,o.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===e.firstChild.nodeName&&"unavailable"===e.firstChild.getAttribute("type")?(this._conn.xmlInput(e),void this._conn.rawInput(o.serialize(e))):void this._conn._dataRecv(e,t.data)},_onOpen:function(){o.info("Websocket open");var t=this._buildStream();this._conn.xmlOutput(t.tree());var e=o.serialize(t);this._conn.rawOutput(e),this.socket.send(e)},_reqToData:function(t){return t},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}}}}).default},t.exports=r()},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(t,e,n,r){this.receiver=t,this.type=e,this.receiverType=n,this.category=r}return t.prototype.getId=function(){return this.id},t.prototype.setId=function(t){this.id=t},t.prototype.getMuid=function(){return this.muid},t.prototype.setMuid=function(t){this.muid=t},t.prototype.getSender=function(){return this.sender},t.prototype.setSender=function(t){this.sender=t},t.prototype.getReceiver=function(){return this.receiver},t.prototype.setReceiver=function(t){this.receiver=t},t.prototype.getType=function(){return this.type},t.prototype.setType=function(t){this.type=t},t.prototype.get=function(){return this.id},t.prototype.setReceiverType=function(t){this.receiverType=t},t.prototype.getReceiverType=function(){return this.receiverType},t.prototype.setSentAt=function(t){this.sentAt=t},t.prototype.getSentAt=function(){return this.sentAt},t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(t){this.status=t},t}();e.BaseMessage=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=n(1),i=n(2);e.getUidFromJid=function(t){return t.substring(t.lastIndexOf("]")+1,t.lastIndexOf("@"))},e.getappIdFromJid=function(t){return t.substring(t.lastIndexOf("[")+1,t.lastIndexOf("]"))},e.parseHTML=function(e){try{return e.textContent}catch(t){return e}},e.getJidFromUid=function(t){return o.format(r.XMPP.bare_jid_string,i.CometChat.getAppId(),t,r.XMPP.host)}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var o=n(2),i=n(1),s=n(0),a=n(14),u=function(){function t(t){this.store=s.constants.DEFAULT_STORE,i.isFalsy(t)||(this.store=t),this.messagesStore=a.createInstance({name:i.format(s.LOCAL_STORE.STORE_STRING,o.CometChat.getAppId(),s.LOCAL_STORE.MESSAGES_STORE)}),this.messagesStore.setDriver([a.LOCALSTORAGE,a.INDEXEDDB,a.WEBSQL])}return t.getInstance=function(){return null==t.MessagesStore&&(t.MessagesStore=new t),t.MessagesStore},t.prototype.set=function(t,e){return this.messagesStore.setItem(t,e)},t.prototype.remove=function(t){this.messagesStore.removeItem(t)},t.prototype.get=function(t){return this.messagesStore.getItem(t)},t.prototype.clearStore=function(){return this.messagesStore.clear()},t.prototype.getAllMessages=function(){var t=this,e={};return new Promise(function(n,o){t.messagesStore.iterate(function(t,n,o){n!=s.constants.MSG_VER_POST&&n!=s.constants.MSG_VER_POST&&(e=r({},e,t))}).then(function(){n(e)})})},t.prototype.clear=function(t){},t.prototype.selectStore=function(t){this.store=t},t.prototype.storeMessages=function(t){var e=this;if(o.CometChat.user.getUid()){var n=o.CometChat.user.getUid(),a={},u=0;return this.get(s.constants.MSG_VER_POST).then(function(o){t.map(function(t){var e;if(!i.isFalsy(t)){0==u&&(u=parseInt(t.getId().toString())),u>t.getId()&&(u=parseInt(t.getId().toString())),o<t.getId()&&(o=parseInt(t.getId().toString()));var c=void 0;c=t.getSender()instanceof Object?t.getSender().getUid():t.getSender(),t.getReceiverType()==s.MessageConstatnts.RECEIVER_TYPE.GROUP&&(c=t.getReceiver()),t.getSender()instanceof Object?t.getSender().getUid()==n&&(c=t.getReceiver()):t.getSender()==n&&(c=t.getReceiver()),a[c]||(a[c]={}),a[c]=r({},a[c],((e={})[t.getId()]=t,e))}}),e.get(s.constants.MSG_VER_PRE).then(function(t){(0<u&&u<t||null==t)&&e.set(s.constants.MSG_VER_PRE,u)})&&0<o&&e.set(s.constants.MSG_VER_POST,o),Object.keys(a).map(function(t){e.get(t).then(function(n){null==n&&(n={}),e.set(t,r({},a[t],n))})})}),!0}},t}();e.MessagesStore=u},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(28),i=n(2),s=n(12),a=n(13),u=n(0),c=n(21),d=(n(32),n(33),n(34),n(15)),l=n(10),f=n(9),h=n(35),p=n(17),_=n(22),g=n(6),m=function(){function e(){this.messageHandlers=[],this.userHandlers=[],this.callHandlers=[],this.groupHandlers=[],this.iqHandlers=[]}return e.getInstance=function(){return null!=this.xMPPConnectionHelper&&null!=this.xMPPConnectionHelper||(this.xMPPConnectionHelper=new e),this.xMPPConnectionHelper},e.prototype.XMPPConnect=function(t){var n=this;return new Promise(function(s,a){r.isFalsy(t)&&(t=e.XMPP_BIND_URL),g.LocalStorage.getInstance().get(u.APP_SETTINGS.APP_SETTINGS).then(function(t){r.isFalsy(t)?i.CometChat.getAppSettings().then(function(t){e.XMPP_BIND_URL="wss://"+t[u.APP_SETTINGS.KEYS.XMPP_HOST]+":"+t[u.APP_SETTINGS.KEYS.XMPP_HTTPS_BIND_PORT]+u.XMPP.bind_url,n.connection=new o.Strophe.Connection(e.XMPP_BIND_URL),s(!0)}):(e.XMPP_BIND_URL="wss://"+t[u.APP_SETTINGS.KEYS.XMPP_HOST]+":"+t[u.APP_SETTINGS.KEYS.XMPP_HTTPS_BIND_PORT]+u.XMPP.bind_url,n.connection=new o.Strophe.Connection(e.XMPP_BIND_URL),s(!0))})})},e.prototype.XMPPDisconnect=function(){this.connection.flush(),this.connection.disconnect()},e.prototype.XMMPLogin=function(t,n,s){var f=this;void 0===n&&(n=u.XMPP.deafult_password),this.XMPPConnect().then(function(h){f.connection.connected?s(o.Strophe.Status.CONNECTED):f.connection.connect(r.format(u.XMPP.jid_string,i.CometChat.getAppId(),t,e.XMPP_HOST,u.XMPP.xmpp_resource),n,function(t){r.isFalsy(s)||s(t),t==o.Strophe.Status.CONNECTED&&(f.connection.sendPresence(o.$pres().c("priority").t("1").up().c("status").t("online")),f.connection.muc.init(f.connection),f.connection.vcard.init(f.connection),f.connection.streamManagement.enable(),f.connection.muc.join(r.format(u.XMPP.muc_jid_string,i.CometChat.getAppId(),"somegroup","call",u.XMPP.host),f.connection.jid),f.connection.muc.listRooms(i.CometChat.getAppId()+"."+u.XMPP.host,function(t){var e=t.getElementsByTagName("item");(e=Array.prototype.slice.call(e)).map(function(t){f.connection.muc.join(t.getAttribute("jid"),f.connection.jid)})}),f.connection.send(o.$iq({from:o.Strophe.getBareJidFromJid(f.connection.jid),id:"enable1",type:"set"}).c("enable",{xmlns:"urn:xmpp:carbons:2"})),f.connection.addHandler(function(t){if(!(0<t.getElementsByTagName("x").length)){var e=c.PresenceController.transformPresence(t);f.getUsersVCard(e.getUid(),function(t){r.isFalsy(t.getUid())||f.userHandlers.map(function(n){if(n)switch(t.setLastActiveAt(e.getLastActiveAt()),e.getStatus()){case u.PresenceConstatnts.STATUS.ONLINE:t.setStatus(u.PresenceConstatnts.STATUS.ONLINE),r.isFalsy(n._eventListener.onUserOnline)||n._eventListener.onUserOnline(t);break;default:t.setStatus(u.PresenceConstatnts.STATUS.OFFLINE),r.isFalsy(n._eventListener.onUserOffline)||n._eventListener.onUserOffline(t)}})})}return!0},null,"presence"),f.connection.addHandler(function(t){var e=t.getElementsByTagName("presence");return 0<(e=Array.prototype.slice.call(e)).length&&f.iqHandlers.map(function(t){t._callback(c.PresenceController.transformPresences(e))}),!0},null,"iq"),f.connection.addHandler(function(e){try{e=a.MessageController.trasformXMPPMessage(e),l.MessagesStore.getInstance().storeMessages([e])}catch(t){}return f.messageHandlers.map(function(t){try{if(t)if(e instanceof d.Action)r.isFalsy(t._eventListener.onAction)||t._eventListener.onAction(e),f.publishActionEvents(e);else if(e instanceof p.Call)switch(e.getStatus()){case u.CallConstants.CALL_STATUS.INITIATED:e.getSender().getUid(),i.CometChat.user.getUid()}else switch(e.getType()){case u.MessageConstatnts.TYPE.TEXT:r.isFalsy(t._eventListener.onTextMessageReceived)||t._eventListener.onTextMessageReceived(e);break;default:r.isFalsy(t._eventListener.onMediaMessageReceived)||t._eventListener.onMediaMessageReceived(e)}}catch(t){}}),e instanceof p.Call&&f.publishCallEvents(e),!0},null,"message"),f.connection.addHandler(function(t){var e=a.MessageController.trasformXMPPMessage(t);if(e instanceof p.Call)switch(e.getStatus()){case u.CallConstants.CALL_STATUS.INITIATED:case u.CallConstants.CALL_STATUS.ONGOING:case u.CallConstants.CALL_STATUS.UNANSWERED:break;case u.CallConstants.CALL_STATUS.REJECTED:try{e.getReceiverType()==p.Call.RECEIVER_TYPE.GROUP||_.CallController.getInstance().endCallSession()}catch(t){r.Logger.error("CallLog",t)}break;case u.CallConstants.CALL_STATUS.BUSY:case u.CallConstants.CALL_STATUS.CANCELLED:break;case u.CallConstants.CALL_STATUS.ENDED:try{_.CallController.getInstance().onCallEnded()}catch(t){r.Logger.error("CallLog",t)}}return!0},null,"message"))})})},e.prototype.getPresenceInfo=function(t,e){var n="somename"+(new Date).getTime();this.addIqHandler(n,function(t){e(t)});var r=o.$iq({from:this.connection.jid,id:"CC^COMETCHAT-PRESENCE",type:"get",to:u.XMPP.host}).c("query",{xmlns:"jabber:iq:presencereq",action:"presence"}).t(JSON.stringify(t));this.connection.send(r)},e.prototype.addMessageEventListener=function(t,e){this.messageHandlers=this.messageHandlers.concat([new s.MessageListener(t,e)])},e.prototype.removeMessageEventListener=function(t){this.messageHandlers=this.messageHandlers.filter(function(e){return e._name!==t})},e.prototype.addCallEventListener=function(t,e){this.callHandlers=this.callHandlers.concat([new s.CallListener(t,e)])},e.prototype.removeCallEventListener=function(t){this.callHandlers=this.callHandlers.filter(function(e){return e._name!==t})},e.prototype.addUserEventListener=function(t,e){this.userHandlers=this.userHandlers.concat([new s.UserListener(t,e)])},e.prototype.removeUserEventListener=function(t){this.userHandlers=this.userHandlers.filter(function(e){return e._name!==t})},e.prototype.addGroupEventListener=function(t,e){this.groupHandlers=this.groupHandlers.concat([new s.GroupListener(t,e)])},e.prototype.removeGroupEventListener=function(t){this.groupHandlers=this.groupHandlers.filter(function(e){return e._name!==t})},e.prototype.addIqHandler=function(t,e){this.iqHandlers=this.iqHandlers.concat([new s.Listener(t,e)])},e.prototype.removeIqHandler=function(t){this.iqHandlers=this.iqHandlers.filter(function(e){return e._name!==t})},e.prototype.joinMuc=function(t){this.connection.muc.join(r.format(u.XMPP.muc_jid_string,i.CometChat.getAppId(),t.getGuid(),i.CometChat.getAppId(),u.XMPP.host),this.connection.jid,null,null,null,null,0)},e.prototype.leaveMuc=function(t){this.connection.muc.leave(r.format(u.XMPP.muc_jid_string,i.CometChat.getAppId(),t,i.CometChat.getAppId(),u.XMPP.host),this.connection.jid)},e.prototype.getUsersVCard=function(t,e){this.connection.vcard.get(function(t){e(h.VCardController.transformVCard(t))},f.getJidFromUid(t))},e.prototype.trigerMessageHandler=function(t,e){var n=this;if(r.isFalsy(e))this.messageHandlers.map(function(e){if(t=a.MessageController.trasformJSONMessge(t),e._eventListener)if(t instanceof d.Action)e._eventListener.onAction(t),n.publishActionEvents(t);else if(t instanceof p.Call)n.publishCallEvents(t);else switch(t.getType()){case u.MessageConstatnts.TYPE.TEXT:e._eventListener.onTextMessageReceived(t);break;default:e._eventListener.onMediaMessageReceived(t)}});else if(this.messageHandlers[e]._eventListener)if(t instanceof d.Action)this.messageHandlers[e]._eventListener.onAction(t),this.publishActionEvents(t);else if(t instanceof p.Call)this.publishCallEvents(t);else switch(t.getType()){case u.MessageConstatnts.TYPE.TEXT:this.messageHandlers[e]._eventListener.onTextMessage(t);break;default:this.messageHandlers[e]._eventListener.onMediaMessage(t)}},e.prototype.publishActionEvents=function(t){switch(t.getAction()){case u.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_JOINED:this.groupHandlers.map(function(e){r.isFalsy(e._eventListener.onUserJoined)||e._eventListener.onUserJoined(t,t.getActionBy(),t.getActionFor())});break;case u.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_INVITED:this.groupHandlers.map(function(e){r.isFalsy(e._eventListener.onUserJoined)||e._eventListener.onUserJoined(t,t.getActionBy(),t.getActionFor())});break;case u.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_LEFT:this.groupHandlers.map(function(e){r.isFalsy(e._eventListener.onUserLeft)||e._eventListener.onUserLeft(t,t.getActionBy(),t.getActionFor())});break;case u.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_BANNED:this.groupHandlers.map(function(e){r.isFalsy(e._eventListener.onUserBanned)||e._eventListener.onUserBanned(t.getActionOn(),t.getActionBy(),t.getActionFor())});break;case u.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_KICKED:this.groupHandlers.map(function(e){r.isFalsy(e._eventListener.onUserKicked)||e._eventListener.onUserKicked(t,t.getActionOn(),t.getActionBy(),t.getActionFor())});break;case u.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_UNBANNED:this.groupHandlers.map(function(e){r.isFalsy(e._eventListener.onUserUnbanned)||e._eventListener.onUserUnbanned(t,t.getActionOn(),t.getActionBy(),t.getActionFor())});break;case u.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_SCOPE_CHANGED:this.groupHandlers.map(function(e){r.isFalsy(e._eventListener.onMemberScopeChanged)||e._eventListener.onMemberScopeChanged(t)})}},e.prototype.publishCallEvents=function(e){switch(e.getStatus()){case u.CallConstants.CALL_STATUS.INITIATED:this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onIncomingCallReceived)||t._eventListener.onIncomingCallReceived(e)});break;case u.CallConstants.CALL_STATUS.ONGOING:e.getReceiverType()==u.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid()==e.getReceiver()&&this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallAccepted(e)}):this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallAccepted(e)});break;case u.CallConstants.CALL_STATUS.UNANSWERED:e.getReceiverType()==u.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid()==e.getReceiver()&&this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallRejected(e)}):this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)});break;case u.CallConstants.CALL_STATUS.REJECTED:e.getReceiverType()==u.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid()==e.getReceiver()&&this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallRejected(e)}):this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)});break;case u.CallConstants.CALL_STATUS.BUSY:e.getReceiverType()==u.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid()==e.getReceiver()&&this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallRejected(e)}):this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)});break;case u.CallConstants.CALL_STATUS.CANCELLED:e.getReceiverType()==u.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid()==e.getReceiver()&&this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onIncomingCallCancelled(e)}):this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onIncomingCallCancelled)||t._eventListener.onIncomingCallCancelled(e)});break;case u.CallConstants.CALL_STATUS.ENDED:try{_.CallController.getInstance().getCallListner()&&_.CallController.getInstance().getCallListner()._eventListener.onCallEnded(e)}catch(t){}e.getReceiverType()==u.CallConstants.RECEIVER_TYPE_GROUP?e.getCallInitiator().getUid()==e.getReceiver()&&this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallAccepted)||t._eventListener.onOutgoingCallRejected(e)}):this.callHandlers.map(function(t){r.isFalsy(t._eventListener.onOutgoingCallRejected)||t._eventListener.onOutgoingCallRejected(e)})}},e.XMPP_HOST=u.XMPP.host,e.XMPP_PORT=u.XMPP.port,e.xMPPConnectionHelper=new e,e.XMPP_BIND_URL="wss://"+e.XMPP_HOST+":"+e.XMPP_PORT+u.XMPP.bind_url,e}();e.XMPPConnectionHelper=m},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var i=n(1),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.onAction=void 0,this.onTextMessageReceived=void 0,this.onMediaMessageReceived=void 0,this.onCall=void 0,i.isFalsy(t[0].onAction)||(this.onAction=t[0].onAction),i.isFalsy(t[0].onTextMessageReceived)||(this.onTextMessageReceived=t[0].onTextMessageReceived),i.isFalsy(t[0].onMediaMessageReceived)||(this.onMediaMessageReceived=t[0].onMediaMessageReceived),i.isFalsy(t[0].onCall)||(this.onCall=t[0].onCall)};e.MessageEventListener=s;var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.onIncomingCallReceived=void 0,this.onOutgoingCallAccepted=void 0,this.onOutgoingCallRejected=void 0,this.onIncomingCallCancelled=void 0,i.isFalsy(t[0].onIncomingCallReceived)||(this.onIncomingCallReceived=t[0].onIncomingCallReceived),i.isFalsy(t[0].onOutgoingCallAccepted)||(this.onOutgoingCallAccepted=t[0].onOutgoingCallAccepted),i.isFalsy(t[0].onOutgoingCallRejected)||(this.onOutgoingCallRejected=t[0].onOutgoingCallRejected),i.isFalsy(t[0].onIncomingCallCancelled)||(this.onIncomingCallCancelled=t[0].onIncomingCallCancelled)};e.CallEventListener=a;var u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.isFalsy(t[0].onUserOnline)||(this.onUserOnline=t[0].onUserOnline),i.isFalsy(t[0].onUserOffline)||(this.onUserOffline=t[0].onUserOffline)};e.UserEventListener=u;var c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.isFalsy(t[0].onGroupMemberJoined)||(this.onUserJoined=t[0].onGroupMemberJoined),i.isFalsy(t[0].onGroupMemberLeft)||(this.onUserLeft=t[0].onGroupMemberLeft),i.isFalsy(t[0].onGroupMemberKicked)||(this.onUserKicked=t[0].onGroupMemberKicked),i.isFalsy(t[0].onGroupMemberBanned)||(this.onUserBanned=t[0].onGroupMemberBanned),i.isFalsy(t[0].onGroupMemberUnbanned)||(this.onUserUnbanned=t[0].onGroupMemberUnbanned),i.isFalsy(t[0].onGroupMemberScopeChanged)||(this.onMemberScopeChanged=t[0].onGroupMemberScopeChanged)};e.GroupEventListener=c;var d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.isFalsy(t[0].onYouLeft)||(this.onYouLeft=t[0].onYouLeft),i.isFalsy(t[0].onYouJoined)||(this.onYouJoined=t[0].onYouJoined),i.isFalsy(t[0].onUserJoined)||(this.onUserJoined=t[0].onUserJoined),i.isFalsy(t[0].onUserDisconnected)||(this.onUserLeft=t[0].onUserLeft),i.isFalsy(t[0].onCallEnded)||(this.onCallEnded=t[0].onCallEnded),i.isFalsy(t[0].onError)||(this.onError=t[0].onError)};e.UserCallEventListener=d;var l=function(t,e){this._name=t,this._callback=e},f=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(e,t),e}(e.Listener=l);e.MessageListener=f;var h=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(e,t),e}(l);e.UserListener=h;var p=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,r&&(i._cursor=r),i}return o(e,t),e}(l);e.GroupListener=p;var _=function(t){function e(e,n,r){var o=t.call(this,"callListner",r)||this;return o._eventListener=e,o}return o(e,t),e}(l);e.UserCallListener=_;var g=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i._eventListener=n,i}return o(e,t),e}(l);e.CallListener=g},function(t,e,n){"use strict";e.__esModule=!0;var r=n(19),o=n(9),i=n(20),s=n(5),a=n(10),u=n(1),c=n(0),d=n(15),l=n(17),f=n(30),h=function(){function t(){}return t.trasformXMPPMessage=function(t){var e={};try{var n=JSON.parse(unescape(o.parseHTML(t.getElementsByTagName("body")[0])).trim().toString());e=this.trasformJSONMessge(n)}catch(t){return e}return e},t.trasformJSONMessge=function(t){var e;switch(t.category){case c.MessageConstatnts.CATEGORY.ACTION:e=d.Action.actionFromJSON(t);break;case c.MessageConstatnts.CATEGORY.CALL:e=l.Call.callFromJSON(t);break;case c.MessageConstatnts.CATEGORY.MESSAGE:switch(t.type){case c.MessageConstatnts.TYPE.TEXT:e=new r.TextMessage(t[c.MessageConstatnts.KEYS.RECEIVER],t[c.MessageConstatnts.KEYS.DATA][c.MessageConstatnts.KEYS.TEXT],t[c.MessageConstatnts.KEYS.TYPE],t[c.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;default:e=new i.MediaMessage(t[c.MessageConstatnts.KEYS.RECEIVER],t[c.MessageConstatnts.KEYS.DATA][c.MessageConstatnts.KEYS.URL],t[c.MessageConstatnts.KEYS.TYPE],t[c.MessageConstatnts.KEYS.RECEIVER_TYPE])}}try{if(Object.assign(e,t),(t=e)instanceof r.TextMessage){t.setSender(t.getSender()),t.getData()[c.MessageConstatnts.KEYS.METADATA]&&t.setMetadata(t.getData()[c.MessageConstatnts.KEYS.METADATA]);try{t.setProcessedText(f.default.parse(t.getText()))}catch(t){}}else t instanceof i.MediaMessage?(t.getData()[c.MessageConstatnts.KEYS.METADATA]&&t.setMetadata(t.getData()[c.MessageConstatnts.KEYS.METADATA]),t.setSender(t.getSender())):t instanceof d.Action?(t.setSender(t.getSender()),t.setActionBy(t.getActionBy()),t.setActionOn(t.getActionOn()),t.setActionFor(t.getActionFor()),t.setMessage(t.getMessage())):t instanceof l.Call&&(t.setSender(t.getSender()),t.setCallInitiator(t.getCallInitiator()),t.setCallReceiver(t.getCallReceiver()))}catch(t){}return t},t.getOfflineHistory=function(e,n){void 0===e&&(e=1e3),void 0===n&&(n=1);var r=a.MessagesStore.getInstance(),o=[];s.makeApiCall("getMessages",{},this.createData(e,n)).then(function(e){return u.isFalsy(e.data)||e.data.map(function(e){o.push(t.trasformJSONMessge(e))}),r.storeMessages(o)})},t.getAllMessage=function(e,n,r,o){var i=this;void 0===e&&(e=100);var a=[];return new Promise(function(c,d){s.makeApiCall("getMessages",{},i.createAllMessageData(e,n,r,o)).then(function(e){u.isFalsy(e.data)||(e.data.map(function(e){a.push(t.trasformJSONMessge(e))}),c(a))},function(t){u.Logger.error("Error on fetching all message",t),c([])})})},t.createData=function(t,e){return void 0===e&&(e=0),{per_page:t,cursorValue:e,cursorField:c.MessageConstatnts.PAGINATION.CURSOR_FILEDS.ID,cursorAffix:u.isFalsy(e)?c.MessageConstatnts.PAGINATION.AFFIX.PREPEND:c.MessageConstatnts.PAGINATION.AFFIX.APPEND}},t.createAllMessageData=function(t,e,n,r){return{per_page:t,cursorValue:e,cursorField:n,cursorAffix:r}},t}();e.MessageController=h},function(t,e,n){(function(e){t.exports=function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var i=!1,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,n,r){(function(t){"use strict";var e,r,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var i=0,s=new o(d),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),e=function(){a.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)e="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var u=new t.MessageChannel;u.port1.onmessage=d,e=function(){u.port2.postMessage(0)}}var c=[];function d(){var t,e;r=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}r=!1}n.exports=function(t){1!==c.push(t)||r||e()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function o(){}var i={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==o&&h(this,t)}function d(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(t,e,n){r(function(){var r;try{r=e(n)}catch(r){return i.reject(t,r)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function h(t,e){var n=!1;function r(e){n||(n=!0,i.reject(t,e))}function o(e){n||(n=!0,i.resolve(t,e))}var s=p(function(){e(o,r)});"error"===s.status&&r(s.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=c).prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(o);if(this.state!==u){var r=this.state===a?t:e;l(n,r,this.outcome)}else this.queue.push(new d(n,t,e));return n},d.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},d.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},d.prototype.callRejected=function(t){i.reject(this.promise,t)},d.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},i.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return i.reject(t,n.value);var r=n.value;if(r)h(t,r);else{t.state=a,t.outcome=e;for(var o=-1,s=t.queue.length;++o<s;)t.queue[o].callFulfilled(e)}return t},i.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:i.resolve(new this(o),t)},c.reject=function(t){var e=new this(o);return i.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,u=-1,c=new this(o);++u<n;)d(t[u],u);return c;function d(t,o){e.resolve(t).then(function(t){s[o]=t,++a!==n||r||(r=!0,i.resolve(c,s))},function(t){r||(r=!0,i.reject(c,t))})}},c.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s,a=-1,u=new this(o);++a<n;)s=t[a],e.resolve(s).then(function(t){r||(r=!0,i.resolve(u,t))},function(t){r||(r=!0,i.reject(u,t))});return u}},{1:1}],3:[function(t,n,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(t){if("TypeError"!==t.name)throw t;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new r,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(n.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function c(t){return"string"!=typeof t&&(t=String(t)),t}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",f=void 0,h={},p=Object.prototype.toString,_="readonly",g="readwrite";function m(t){return"boolean"==typeof f?s.resolve(f):(e=t,new s(function(t){var n=e.transaction(l,g),r=i([""]);n.objectStore(l).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1})).then(function(t){return f=t});var e}function v(t){var e=h[t.name],n={};n.promise=new s(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function C(t){var e=h[t.name],n=e.deferredOperations.pop();if(n)return n.resolve(),n.promise}function y(t,e){var n=h[t.name],r=n.deferredOperations.pop();if(r)return r.reject(e),r.promise}function E(t,e){return new s(function(n,r){if(h[t.name]=h[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);v(t),t.db.close()}var i=[t.name];e&&i.push(t.version);var s=o.open.apply(o,i);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(l)}catch(e){if("ConstraintError"!==e.name)throw e}}),s.onerror=function(t){t.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),C(t)}})}function S(t){return E(t,!1)}function A(t){return E(t,!0)}function T(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version,t.version=t.db.version),o||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function b(t){var e=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}(atob(t.data));return i([e],{type:t.type})}function O(t){return t&&t.__local_forage_encoded_blob}function I(t){var e=this,n=e._initReady().then(function(){var t=h[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(n,t,t),n}function N(t,e,n,r){void 0===r&&(r=1);try{var o=t.db.transaction(t.storeName,e);n(null,o)}catch(o){if(0<r&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return s.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),A(t)}).then(function(){return function(t){v(t);for(var e=h[t.name],n=e.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return t.db=null,S(t).then(function(e){return t.db=e,T(t)?A(t):e}).then(function(r){t.db=e.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(e){throw y(t,e),e})}(t).then(function(){N(t,e,n,r-1)})}).catch(n);n(o)}}var R={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var o=h[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=I);var i=[];function a(){return s.resolve()}for(var u=0;u<o.forages.length;u++){var c=o.forages[u];c!==e&&i.push(c._initReady().catch(a))}var d=o.forages.slice(0);return s.all(i).then(function(){return n.db=o.db,S(n)}).then(function(t){return n.db=t,T(n,e._defaultConfig.version)?A(n):t}).then(function(t){n.db=o.db=t,e._dbInfo=n;for(var r=0;r<d.length;r++){var i=d[r];i!==e&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){N(n._dbInfo,_,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=s.openCursor(),u=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;O(r)&&(r=b(r));var o=t(r,n.key,u++);void 0!==o?e(o):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){N(n._dbInfo,_,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=s.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),O(t)&&(t=b(t)),e(t)},a.onerror=function(){r(a.error)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var o=new s(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===p.call(e)?m(i.db).then(function(t){return t?e:(n=e,new s(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e}).then(function(e){N(r._dbInfo,g,function(i,s){if(i)return o(i);try{var a=s.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=u.error?u.error:u.transaction.error;o(t)}}catch(i){o(i)}})}).catch(o)});return a(o,n),o},removeItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){N(n._dbInfo,g,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=s.delete(t);i.oncomplete=function(){e()},i.onerror=function(){r(a.error)},i.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},clear:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){N(e._dbInfo,g,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),s=i.clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=s.error?s.error:s.transaction.error;n(t)}}catch(r){n(r)}})}).catch(n)});return a(n,t),n},length:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){N(e._dbInfo,_,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),s=i.count();s.onsuccess=function(){t(s.result)},s.onerror=function(){n(s.error)}}catch(r){n(r)}})}).catch(n)});return a(n,t),n},key:function(t,e){var n=this,r=new s(function(e,r){t<0?e(null):n.ready().then(function(){N(n._dbInfo,_,function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=!1,u=s.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):a?e(n.key):(a=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(o){r(o)}})}).catch(r)});return a(r,e),r},keys:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){N(e._dbInfo,_,function(r,o){if(r)return n(r);try{var i=o.objectStore(e._dbInfo.storeName),s=i.openCursor(),a=[];s.onsuccess=function(){var e=s.result;e?(a.push(e.key),e.continue()):t(a)},s.onerror=function(){n(s.error)}}catch(r){n(r)}})}).catch(n)});return a(n,t),n},dropInstance:function(t,e){e=d.apply(this,arguments);var n,r=this.config();if((t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),t.name){var i=t.name===r.name&&this._dbInfo.db,u=i?s.resolve(this._dbInfo.db):S(t).then(function(e){var n=h[t.name],r=n.forages;n.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e});n=t.storeName?u.then(function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;v(t);var r=h[t.name],i=r.forages;e.close();for(var a=0;a<i.length;a++){var u=i[a];u._dbInfo.db=null,u._dbInfo.version=n}var c=new s(function(e,r){var i=o.open(t.name,n);i.onerror=function(t){var e=i.result;e.close(),r(t)},i.onupgradeneeded=function(){var e=i.result;e.deleteObjectStore(t.storeName)},i.onsuccess=function(){var t=i.result;t.close(),e(t)}});return c.then(function(t){r.db=t;for(var e=0;e<i.length;e++){var n=i[e];n._dbInfo.db=t,C(n._dbInfo)}}).catch(function(e){throw(y(t,e)||s.resolve()).catch(function(){}),e})}}):u.then(function(e){v(t);var n=h[t.name],r=n.forages;e.close();for(var i=0;i<r.length;i++){var a=r[i];a._dbInfo.db=null}var u=new s(function(e,n){var r=o.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}});return u.then(function(t){n.db=t;for(var e=0;e<r.length;e++){var o=r[e];C(o._dbInfo)}}).catch(function(e){throw(y(t,e)||s.resolve()).catch(function(){}),e})})}else n=s.reject("Invalid arguments");return a(n,e),n}},M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=/^~~local_forage_type~([^~]+)~/,L="__lfsc__:",P=L.length,x="arbf",D="blob",U=P+x.length,k=Object.prototype.toString;function j(t){var e,n,r,o,i,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(e=0;e<a;e+=4)n=M.indexOf(t[e]),r=M.indexOf(t[e+1]),o=M.indexOf(t[e+2]),i=M.indexOf(t[e+3]),d[u++]=n<<2|r>>4,d[u++]=(15&r)<<4|o>>2,d[u++]=(3&o)<<6|63&i;return c}function F(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=M[n[e]>>2],r+=M[(3&n[e])<<4|n[e+1]>>4],r+=M[(15&n[e+1])<<2|n[e+2]>>6],r+=M[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Y={serialize:function(t,e){var n="";if(t&&(n=k.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===k.call(t.buffer))){var r,o=L;t instanceof ArrayBuffer?(r=t,o+=x):(r=t.buffer,"[object Int8Array]"===n?o+="si08":"[object Uint8Array]"===n?o+="ui08":"[object Uint8ClampedArray]"===n?o+="uic8":"[object Int16Array]"===n?o+="si16":"[object Uint16Array]"===n?o+="ur16":"[object Int32Array]"===n?o+="si32":"[object Uint32Array]"===n?o+="ui32":"[object Float32Array]"===n?o+="fl32":"[object Float64Array]"===n?o+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(o+F(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+t.type+"~"+F(this.result);e(L+D+n)},i.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){e(null,n)}},deserialize:function(t){if(t.substring(0,P)!==L)return JSON.parse(t);var e,n=t.substring(U),r=t.substring(P,U);if(r===D&&w.test(n)){var o=n.match(w);e=o[1],n=n.substring(o[0].length)}var s=j(n);switch(r){case x:return s;case D:return i([s],{type:e});case"si08":return new Int8Array(s);case"ui08":return new Uint8Array(s);case"uic8":return new Uint8ClampedArray(s);case"si16":return new Int16Array(s);case"ur16":return new Uint16Array(s);case"si32":return new Int32Array(s);case"ui32":return new Uint32Array(s);case"fl32":return new Float32Array(s);case"fl64":return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:j,bufferToString:F};function G(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function B(t,e,n,r,o,i){t.executeSql(n,r,o,function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,a){a.rows.length?i(t,s):G(t,e,function(){t.executeSql(n,r,o,i)},i)},i):i(t,s)},i)}function H(t,e,n,r){var o=this;t=c(t);var i=new s(function(i,s){o.ready().then(function(){void 0===e&&(e=null);var a=e,u=o._dbInfo;u.serializer.serialize(e,function(e,c){c?s(c):u.db.transaction(function(n){B(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){i(a)},function(t,e){s(e)})},function(e){if(e.code===e.QUOTA_ERR){if(0<r)return void i(H.apply(o,[t,a,n,r-1]));s(e)}})})}).catch(s)});return a(i,n),i}var q={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var o=new s(function(r,o){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return o(t)}n.db.transaction(function(t){G(t,n,function(){e._dbInfo=n,r()},function(t,e){o(e)})},o)});return n.serializer=Y,o},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){B(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,s=i.length,a=0;a<s;a++){var u=i.item(a),c=u.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=t(c,u.key,a+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){B(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},setItem:function(t,e,n){return H.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){B(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},clear:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){B(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},length:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){B(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},key:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){B(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},keys:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){B(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);t(r)},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},dropInstance:function(t,e){e=d.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;return a(r=t.name?new s(function(e){var r,i;r=t.name===n.name?o._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:r,storeNames:[t.storeName]}):e((i=r,new s(function(t,e){i.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).name);t({db:i,storeNames:r})},function(t,n){e(n)})},function(t){e(t)})})))}).then(function(t){return new s(function(e,n){t.db.transaction(function(r){function o(t){return new s(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var i=[],a=0,u=t.storeNames.length;a<u;a++)i.push(o(t.storeNames[a]));s.all(i).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):s.reject("Invalid arguments"),e),r}};function K(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function $(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||0<localStorage.length}var X={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=K(t,this._defaultConfig),$()?((this._dbInfo=e).serializer=Y,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,o=r.length,i=localStorage.length,s=1,a=0;a<i;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(o),s++)))return c}}});return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return a(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var o=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new s(function(o,i){var s=r._dbInfo;s.serializer.serialize(e,function(e,r){if(r)i(r);else try{localStorage.setItem(s.keyPrefix+t,e),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return a(o,n),o},removeItem:function(t,e){var n=this;t=c(t);var r=n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return a(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;0<=n;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return a(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return a(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(r){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return a(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(t.keyPrefix)&&r.push(i.substring(t.keyPrefix.length))}return r});return a(n,t),n},dropInstance:function(t,e){if(e=d.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,o=this;return a(r=t.name?new s(function(e){t.storeName?e(K(t,o._defaultConfig)):e(t.name+"/")}).then(function(t){for(var e=localStorage.length-1;0<=e;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):s.reject("Invalid arguments"),e),r}},J=function(t,e){for(var n=t.length,r=0;r<n;){if((o=t[r])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},V=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},W={},z={},Q={INDEXEDDB:R,WEBSQL:q,LOCALSTORAGE:X},Z=[Q.INDEXEDDB._driver,Q.WEBSQL._driver,Q.LOCALSTORAGE._driver],tt=["dropInstance"],et=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),nt={description:"",driver:Z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rt(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function ot(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(V(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var it=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Q)if(Q.hasOwnProperty(n)){var r=Q[n],o=r._driver;this[n]=o,W[o]||this.defineDriver(r)}this._defaultConfig=ot({},nt),this._config=ot({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"!==(void 0===t?"undefined":r(t)))return"string"==typeof t?this._config[t]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)},t.prototype.defineDriver=function(t,e,n){var r=new s(function(e,n){try{var r=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(o);for(var i=et.concat("_initStorage"),u=0,c=i.length;u<c;u++){var d=i[u],l=!J(tt,d);if((l||t[d])&&"function"!=typeof t[d])return void n(o)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var o=tt[n];t[o]||(t[o]=e(o))}}();var f=function(n){W[r],W[r]=t,z[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(f,n):f(!!t._support):f(!0)}catch(o){n(o)}});return u(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=W[t]?s.resolve(W[t]):s.reject(new Error("Driver not found."));return u(r,e,n),r},t.prototype.getSerializer=function(t){var e=s.resolve(Y);return u(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;V(t)||(t=[t]);var o=this._getSupportedDrivers(t);function i(){r._config.driver=r.driver()}function a(t){return r._extend(t),i(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=c.then(function(){var t=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){var e;r._driver=t._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=(e=o,function(){var t=0;function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var u=new Error("No available storage method found.");return r._driverSet=s.reject(u),r._driverSet}return n()})})}).catch(function(){i();var t=new Error("No available storage method found.");return r._driverSet=s.reject(t),r._driverSet}),u(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!z[t]},t.prototype._extend=function(t){ot(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var o=t[n];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=et.length;t<e;t++)rt(this,et[t])},t.prototype.createInstance=function(e){return new t(e)},t}(),st=new it;e.exports=st},{3:3}]},{},[4])(4)}).call(this,n(29))},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(8),a=n(16),u=n(3),c=n(0),d=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.actionFromJSON=function(t){var e=new this(t[c.MessageConstatnts.KEYS.RECEIVER],t[c.MessageConstatnts.KEYS.TYPE],t[c.MessageConstatnts.KEYS.RECEIVER_TYPE],c.MessageCategory.ACTION),n=t[c.MessageConstatnts.KEYS.DATA];if(e.data=n,e.setAction(n[c.MessageConstatnts.KEYS.ACTION]),n[c.MessageConstatnts.KEYS.METADATA]&&e.setMetadata(n[c.MessageConstatnts.KEYS.METADATA]),n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY])if(n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var r=new u.User(n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]);Object.assign(r,n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionBy=r,e.setSender(r)}else{var o=new a.Group("","","");Object.assign(o,n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionBy=o}return n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR]&&(n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER?(r=new u.User(n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(r,n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionFor=r):(o=new a.Group("","",""),Object.assign(o,n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][c.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionFor=o)),n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON]&&(n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER?(r=new u.User(n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(r,n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionOn=r):(o=new a.Group("","",""),Object.assign(o,n[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][c.ActionConstatnts.ACTION_KEYS.ENTITY]),e.actionOn=o)),e.setMessage(e.getActionMessage(e)),e},e.prototype.setRawData=function(t){this.rawData=t},e.prototype.getRawData=function(){return this.rawData},e.prototype.setMessage=function(t){this.message=t},e.prototype.getMessage=function(){return this.message},e.prototype.setAction=function(t){this.action=t},e.prototype.getAction=function(){return this.action},e.prototype.getSender=function(){return this.getSenderFromData()},e.prototype.setActionBy=function(t){this.actionBy=t},e.prototype.getActionBy=function(){return this.actionBy},e.prototype.setActionOn=function(t){this.actionOn=t},e.prototype.getActionOn=function(){return this.actionOn},e.prototype.setActionFor=function(t){this.actionFor=t},e.prototype.getActionFor=function(){return this.actionFor},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getActionMessage=function(t){var e="";switch(t.getType()){case c.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_USER:case c.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP:switch(t.getAction()){case c.ActionConstatnts.ACTION_KEYS.ACTION_CREATED:case c.ActionConstatnts.ACTION_KEYS.ACTION_UPDATED:case c.ActionConstatnts.ACTION_KEYS.ACTION_DELETED:}break;case c.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP_MEMBER:switch(t.getAction()){case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_JOINED:var n=t.getActionBy(),r=t.getActionFor();e=d.format(c.ActionConstatnts.ActionMessages.ACTION_GROUP_JOINED_MESSAGE,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_LEFT:n=t.getActionBy(),r=t.getActionFor(),e=d.format(c.ActionConstatnts.ActionMessages.ACTION_GROUP_LEFT_MESSAGE,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_KICKED:n=t.getActionBy(),r=t.getActionFor();var o=t.getActionOn();e=d.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_KICKED_MESSAGE,n.getName(),o,r.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_BANNED:n=t.getActionBy(),r=t.getActionFor(),o=t.getActionOn(),e=d.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_BANNED_MESSAGE,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_UNBANNED:n=t.getActionBy(),r=t.getActionFor(),o=t.getActionOn(),e=d.format(c.ActionConstatnts.ActionMessages.ACTION_MEMBER_UNBANNED_MESSAGE,n.getName(),r.getName());break;case c.ActionConstatnts.ACTION_KEYS.ACTION_SCOPE_CHANGED:}}return e},e.prototype.getSenderFromData=function(){var t=this.data;if(t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==c.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var e=new u.User(t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]);return Object.assign(e,t[c.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][c.ActionConstatnts.ACTION_KEYS.ENTITY]),e}},e.TYPE=c.MessageConstatnts.TYPE,e.RECEIVER_TYPE=c.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=c.MessageConstatnts.CATEGORY,e.ACTION_TYPE=c.ActionConstatnts.ACTION_TYPE,e}(s.BaseMessage);e.Action=l},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=function(){function t(t,e,n,r,o,i){this.hasJoined=!1,this.guid=t,this.name=e,this.type=n,r&&(this.password=r),o&&(this.icon=o),i&&(this.description=i)}return t.prototype.getGuid=function(){return this.guid},t.prototype.setGuid=function(t){this.guid=t},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){this.name=t},t.prototype.getType=function(){return this.type},t.prototype.setType=function(t){this.type=t},t.prototype.setPassword=function(t){this.password=t},t.prototype.getIcon=function(){return this.icon},t.prototype.setIcon=function(t){this.icon=t},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(t){this.description=t},t.prototype.getOwner=function(){return this.owner},t.prototype.setOwner=function(t){this.owner=t},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.getCreatedAt=function(){return this.createdAt},t.prototype.setCreatedAt=function(t){this.createdAt=t},t.prototype.getUpdatedAt=function(){return this.updatedAt},t.prototype.setUpdatedAt=function(t){this.updatedAt=t},t.prototype.getHasJoined=function(){return this.hasJoined},t.prototype.setHasJoined=function(t){this.hasJoined=t},t.prototype.getWsChannel=function(){return this.wsChannel},t.prototype.setWsChannel=function(t){this.wsChannel=t},t.TYPE=r.GroupType,t.Type=t.TYPE,t}();e.Group=o},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(8),a=n(0),u=n(1),c=n(3),d=function(t){function e(e,n,r,o){return u.isFalsy(o)?t.call(this,e,n,r,a.MessageCategory.CALL)||this:t.call(this,e,n,r,o)||this}return o(e,t),e.prototype.getCallInitiator=function(){return this.getCallInitiatedByFromData()},e.prototype.getCallReceiver=function(){return this.getCallReceivedByFromData()},e.prototype.setCallInitiator=function(t){this.callInitiator=t},e.prototype.setCallReceiver=function(t){this.callReceiver=t},e.prototype.getData=function(){return this.data},e.prototype.setData=function(t){this.data=t},e.prototype.getSessionId=function(){return this.sessionId},e.prototype.setSessionId=function(t){this.sessionId=t},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.getSender=function(){return this.getSenderFromData()},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getAction=function(){return this.action},e.prototype.setAction=function(t){this.action=t},e.prototype.getInitiatedAt=function(){return this.initiatedAt},e.prototype.setInitiatedAt=function(t){this.initiatedAt=t},e.prototype.setRawData=function(t){this.rawData=t},e.prototype.getRawData=function(){return this.rawData},e.callFromJSON=function(t){var e=new this(t[a.MessageConstatnts.KEYS.RECEIVER],t[a.MessageConstatnts.KEYS.TYPE],t[a.MessageConstatnts.KEYS.RECEIVER_TYPE],a.MessageCategory.CALL),n=t[a.MessageConstatnts.KEYS.DATA];if(e.setAction(n[a.MessageConstatnts.KEYS.ACTION]),n[a.MessageConstatnts.KEYS.METADATA]&&e.setMetadata(n[a.MessageConstatnts.KEYS.METADATA]),n[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&n[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY],n[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON]){var r=n[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON];if(r[a.CallConstants.CALL_KEYS.CALL_ENTITY]){var o=r[a.CallConstants.CALL_KEYS.CALL_ENTITY];if(o[a.CallConstants.CALL_KEYS.CALL_SESSION_ID]&&(e.sessionId=o[a.CallConstants.CALL_KEYS.CALL_SESSION_ID]),o[a.CallConstants.CALL_KEYS.CALL_STATUS]&&(e.status=o[a.CallConstants.CALL_KEYS.CALL_STATUS]),o[a.CallConstants.CALL_KEYS.CALL_DATA]){var i=o[a.CallConstants.CALL_KEYS.CALL_DATA];i[a.CallConstants.CALL_KEYS.CALL_METADATA]&&(e.metadata=i[a.CallConstants.CALL_KEYS.CALL_METADATA]),i[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES]&&i[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES]}o[a.CallConstants.CALL_KEYS.CALL_INITIATED_AT]&&(e.initiatedAt=o[a.CallConstants.CALL_KEYS.CALL_INITIATED_AT])}}return e},e.prototype.getSenderFromData=function(){var t=this.getData();if(t[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][a.CallConstants.CALL_KEYS.CALL_ENTITY])return new c.User(t[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][a.CallConstants.CALL_KEYS.CALL_ENTITY])},e.prototype.getCallInitiatedByFromData=function(){var t=this.getData();if(t[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][a.CallConstants.CALL_KEYS.CALL_ENTITY][a.CallConstants.CALL_KEYS.CALL_DATA][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.CallConstants.CALL_KEYS.CALL_SENDER])return new c.User(t[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][a.CallConstants.CALL_KEYS.CALL_ENTITY][a.CallConstants.CALL_KEYS.CALL_DATA][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.CallConstants.CALL_KEYS.CALL_SENDER][a.CallConstants.CALL_KEYS.CALL_ENTITY])},e.prototype.getCallReceivedByFromData=function(){var t=this.getData();if(t[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][a.CallConstants.CALL_KEYS.CALL_ENTITY][a.CallConstants.CALL_KEYS.CALL_DATA][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.CallConstants.CALL_KEYS.CALL_SENDER])return new c.User(t[a.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][a.CallConstants.CALL_KEYS.CALL_ENTITY][a.CallConstants.CALL_KEYS.CALL_DATA][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.CallConstants.CALL_KEYS.CALL_RECEIVER][a.CallConstants.CALL_KEYS.CALL_ENTITY])},e.TYPE=a.MessageConstatnts.TYPE,e.RECEIVER_TYPE=a.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=a.MessageConstatnts.CATEGORY,e.ACTION_TYPE=a.ActionConstatnts.ACTION_TYPE,e}(s.BaseMessage);e.Call=d},function(t,e,n){"use strict";e.__esModule=!0;var r=function(){function t(){this.baseUrl="https://kohoutek.cometchat.com/",this.apiVersion="v1",this.apiBaseUrl=this.baseUrl+this.apiVersion+"/",this.adminApiUrl="https://api.cometchat.com/",this.adminApiVersion="v1",this.uriEndpoints={authToken:{endpoint:"users/{{uid}}/auth_tokens",method:"POST",data:{uid:"string|max:100"},isAdminApi:!0},appSettings:{endpoint:"settings",method:"GET"},login:{endpoint:"admin/users/auth",method:"POST",data:{uid:"string|max:100"}},logout:{endpoint:"admin/users/auth/{{authToken}}",method:"DELETE"},getMyDetails:{endpoint:"me",method:"GET"},updateMyDetails:{endpoint:"/me",method:"PUT"},users:{endpoint:"users",method:"GET"},user:{endpoint:"users/{{uid}}",method:"GET"},userLogout:{endpoint:"me",method:"DELETE"},sendFriendRequests:{endpoint:"user/friends",method:"POST",data:{uids:"array<string|max:100>"}},getFriends:{endpoint:"user/friends",method:"GET"},unfriend:{endpoint:"user/friends/{{uid}}/{{gid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},acceptFriendRequest:{endpoint:"user/friends/{{uid}}/accept",method:"PUT",data:{uids:"array<string|max:100>"}},rejectFriendRequest:{endpoint:"user/friends/{{uid}}/reject",method:"DELETE",data:{uids:"array<string|max:100>"}},createGroup:{endpoint:"groups",method:"POST",data:{guid:"required|string|max:100",name:"required|string|max:100",type:"enum|public,protected,password",password:"filled|string|max:100"}},getGroups:{endpoint:"groups",method:"GET"},getGroup:{endpoint:"groups/{{guid}}",method:"GET"},updateGroup:{endpoint:"groups/{{guid}}",method:"PUT"},deleteGroup:{endpoint:"groups/{{guid}}",method:"DELETE"},addGroupMembers:{endpoint:"groups/{{guid}}/members",method:"POST",data:{uids:"array<string|max:100>"}},getGroupMembers:{endpoint:"groups/{{guid}}/members",method:"GET"},joinGroup:{endpoint:"groups/{{guid}}/members",method:"POST"},leaveGroup:{endpoint:"groups/{{guid}}/members",method:"DELETE"},kickGroupMembers:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},changeScopeOfMember:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"PUT",data:{uids:"array<string|max:100>"}},banGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"POST",data:{uids:"array<string|max:100>"}},unbanGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},getBannedGroupMembers:{endpoint:"groups/{{guid}}/bannedusers",method:"GET"},promotemoteGroupMember:{endpoint:"groups/{{guid}}/promote",method:"PUT",data:{uids:"array<string|max:100>"}},demoteGroupMember:{endpoint:"groups/{{guid}}/demote",method:"DELETE",data:{uids:"array<string|max:100>"}},sendMessage:{endpoint:"messages",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},getMessages:{endpoint:"messages",method:"GET"},getUserMessages:{endpoint:"users/{{listId}}/messages",method:"GET"},getGroupMessages:{endpoint:"groups/{{listId}}/messages",method:"GET"},getMessage:{endpoint:"user/messages/{{muid}}",method:"GET"},updateMessage:{endpoint:"user/messages/{{muid}}",method:"PUT",data:{data:"required|json"}},deleteMessage:{endpoint:"user/messages/{{muid}}",method:"DELETE"},createCallSession:{endpoint:"calls",method:"POST",data:{}},updateCallSession:{endpoint:"calls/{{sessionid}}",method:"put",data:{}}}}return t.prototype.getEndpointData=function(t){var e=!1;return this.uriEndpoints.hasOwnProperty(t)&&((e=this.uriEndpoints[t]).hasOwnProperty(["isAdminApi"])?e.endpoint=this.adminApiUrl+this.adminApiVersion+"/"+e.endpoint:e.endpoint=this.baseUrl+this.apiVersion+"/"+e.endpoint),e},t}();e.EndpointFactory=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(8),a=n(0),u=n(3),c=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o,a.MessageCategory.MESSAGE)||this;switch(r){case"text":i.data={text:n},i.text=n}return i}return o(e,t),e.prototype.getSender=function(){return this.getSenderFromData()},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getData=function(){return this.data},e.prototype.setData=function(t){this.data=t},e.prototype.getText=function(){return this.text},e.prototype.setText=function(t){this.text=t},e.prototype.setProcessedText=function(t){this.processedText=t},e.prototype.getProcessedText=function(){return this.processedText},e.prototype.getSenderFromData=function(){var t=this.getData();if(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new u.User(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])},e.TYPE=a.MessageConstatnts.TYPE.TEXT,e.RECEIVER_TYPE=a.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=a.MessageConstatnts.CATEGORY.MESSAGE,e}(s.BaseMessage);e.TextMessage=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};e.__esModule=!0;var s=n(8),a=n(0),u=n(3),c=function(t){function e(e,n,r,o){var i=t.call(this,e,r,o,a.MessageCategory.MESSAGE)||this;return i.data={url:n instanceof File?void 0:n},(i.file=n)instanceof File||(i.url=n),i}return o(e,t),e.prototype.getSender=function(){return this.getSenderFromData()},e.prototype.getUrl=function(){return this.url},e.prototype.setUrl=function(t){this.url=t},e.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},e.prototype.setMetadata=function(t){this.metadata=t,this.data=i({},this.data,{metadata:t})},e.prototype.getData=function(){return this.data},e.prototype.setData=function(t){this.data=t},e.prototype.getSenderFromData=function(){var t=this.getData();if(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new u.User(t[a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][a.MessageConstatnts.KEYS.SENDER][a.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])},e.TYPE=a.MessageConstatnts.TYPE,e.RECEIVER_TYPE=a.MessageConstatnts.RECEIVER_TYPE,e.CATEGORY=a.MessageConstatnts.CATEGORY,e}(s.BaseMessage);e.MediaMessage=c},function(t,e,n){"use strict";e.__esModule=!0;var r=n(31),o=n(0),i=function(){function t(){}return t.transformPresence=function(t){return t.getAttribute("type")?new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.OFFLINE,(new Date).getTime()):new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.ONLINE,(new Date).getTime())},t.transformPresences=function(t){var e=[];return t.map(function(t){e.push(new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.STATUS),t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.LAST_ACTIVE_AT)))}),e},t.transformMUCUserPresence=function(t){return t.getAttribute("type")?new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.LEFT,(new Date).getTime()):new r.UserPresence(t.getAttribute(o.PresenceConstatnts.XMPP_KEYS.FROM),o.PresenceConstatnts.STATUS.JOINED,(new Date).getTime())},t.trandformMUCPresence=function(t){0<t.getElementsByTagName("x").length&&this.transformMUCUserPresence(t)},t}();e.PresenceController=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=n(11),i=n(1),s=n(2),a=n(21),u=n(4),c=n(12),d=n(6),l=function(){function t(){this.TAG="calling Log",this.callListner=void 0,this.CALL_NO_ANSWER_INTERVAL=45e3,this.view=void 0,this.scrollHight=0,this.scrollHight=0}return t.prototype.getCallListner=function(){return this.callListner},t.prototype.setCallListner=function(t){this.callListner=new c.UserCallListener(t)},t.getInstance=function(){return null!=this.callController&&null!=this.callController||(this.callController=new t),this.callController},t.prototype.getActiveCall=function(){return i.isFalsy(this.call)?null:this.call},t.prototype.initiateCall=function(t){var e=this;return new Promise(function(n,o){i.isFalsy(e.call)?null!=t&&null!=t?(e.call=t,e.joinCallMuc(t.getSessionId()),e.startCallTimer(),n(t)):o(new u.CometChatException(r.CALL_ERROR.ERROR_IN_CALLING)):o(new u.CometChatException(r.CALL_ERROR.CALL_ALREADY_INITIATED))})},t.prototype.onCallInitialized=function(){},t.prototype.joinCall=function(t){i.Logger.log(this.TAG,t)},t.prototype.cancelCall=function(){i.Logger.log(this.TAG,"calceling the call"),this.stopCallTimer()},t.prototype.rejectCall=function(){i.Logger.log(this.TAG,"rejectCall")},t.prototype.sendBusyResponse=function(){i.Logger.log(this.TAG,"sendBusyResponse")},t.prototype.endCall=function(t){var e=this;document.getElementsByName("frame").forEach(function(t){e.view.removeChild(t),e.view=void 0}),this.endCallSession()},t.prototype.onCallEnded=function(){var t=this;i.isFalsy(this.call)||(this.call.getReceiverType()==r.CallConstants.RECEIVER_TYPE_GROUP?i.Logger.info(this.TAG,JSON.stringify(this.call)+"This call ended"):(document.getElementsByName("frame").forEach(function(e){t.view.removeChild(e),t.view=void 0}),this.endCallSession()))},t.prototype.unAnswerCall=function(){i.Logger.log(this.TAG,"unAnswerCall")},t.prototype.onCallStarted=function(t){var e=this;return new Promise(function(n,o){i.isFalsy(e.call)?null!=t&&null!=t?(e.call=t,e.joinCallMuc(t.getSessionId()),n(t)):o(new u.CometChatException(r.CALL_ERROR.ERROR_IN_CALLING)):o(new u.CometChatException(r.CALL_ERROR.CALL_ALREADY_INITIATED))})},t.prototype.endCallSession=function(){try{this.leaveCallMuc(this.call.getSessionId()),this.call=void 0,t.callController=void 0,this.timer&&this.stopCallTimer(),this.view=void 0}catch(t){}},t.prototype.joinCallMuc=function(t){var e=this;o.XMPPConnectionHelper.getInstance().connection.muc.join(i.format(r.XMPP.muc_jid_string,s.CometChat.getAppId(),t,s.CometChat.getAppId(),"call."+r.XMPP.host),o.XMPPConnectionHelper.getInstance().connection.jid,null,function(n){try{a.PresenceController.transformMUCUserPresence(n);var s=a.PresenceController.transformPresence(n);o.XMPPConnectionHelper.getInstance().getUsersVCard(s.getUid(),function(t){if(!i.isFalsy(t.getUid()))switch(t.setLastActiveAt(s.getLastActiveAt()),s.getStatus()){case r.PresenceConstatnts.STATUS.ONLINE:t.setStatus(r.PresenceConstatnts.STATUS.ONLINE);break;default:t.setStatus(r.PresenceConstatnts.STATUS.OFFLINE)}switch(a.PresenceController.transformMUCUserPresence(n).getStatus()){case r.PresenceConstatnts.STATUS.JOINED:e.callListner&&(i.isFalsy(e.callListner._eventListener.onUserJoined)||e.callListner._eventListener.onUserJoined(t));break;case r.PresenceConstatnts.STATUS.LEFT:e.callListner&&(i.isFalsy(e.callListner._eventListener.onUserLeft)||e.callListner._eventListener.onUserLeft(t))}})}catch(t){}return!0})},t.prototype.leaveCallMuc=function(t){o.XMPPConnectionHelper.getInstance().connection.muc.leave(i.format(r.XMPP.muc_jid_string,s.CometChat.getAppId(),t,s.CometChat.getAppId(),"call."+r.XMPP.host),o.XMPPConnectionHelper.getInstance().connection.jid)},t.prototype.startCallTimer=function(){var t=this;this.timer=setTimeout(function(){s.CometChat.sendUnansweredResponse(t.call.getSessionId()).then(function(e){t.endCallSession()})},this.CALL_NO_ANSWER_INTERVAL)},t.prototype.stopCallTimer=function(){clearTimeout(this.timer)},t.prototype.startCall=function(t,e){var n=this;if(null==this.view){this.timer&&this.stopCallTimer(),i.isFalsy(e)||this.setCallListner(e);var o=document.createElement("iframe");this.getCallUrl(this.call.getType()).then(function(e){o.src=e+"",o.name="frame",o.setAttribute("allow","camera,microphone"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),t&&(n.view=t),t.appendChild(o),window.addEventListener("message",function(t){"hangup"==t.data.type&&(i.Logger.info(n.TAG,n.callListner),n.callListner&&n.callListner._eventListener.onCallEnded(),i.Logger.info(n.TAG,"EndCall Clicked"),i.Logger.info(n.TAG,n.call.getSessionId()),s.CometChat.rejectCall(n.call.getSessionId(),r.CallConstants.CALL_STATUS.ENDED).then(function(t){n.callListner&&n.callListner._eventListener.onCallEnded(t),i.Logger.info(n.TAG,{call:t})}).catch(function(t){i.Logger.info(n.TAG,"The Call Was Already Ended")}))})})}},t.prototype.getCallUrl=function(t){var e=this,n=void 0;return new Promise(function(o,a){d.LocalStorage.getInstance().get(r.APP_SETTINGS.APP_SETTINGS).then(function(a){i.isFalsy(a)?s.CometChat.getAppSettings().then(function(i){n="https://"+i[r.APP_SETTINGS.KEYS.WEBRTC_HOST],n=t==r.CallConstants.CALL_TYPE_AUDIO?n+"/"+e.call.getSessionId()+"#config.startWithVideoMuted=true&config.startWithAudioMuted=true":n+"/"+e.call.getSessionId()+"#config.startWithAudioMuted=true&config.startWithAudioMuted=true",o(n)}):(n="https://"+a[r.APP_SETTINGS.KEYS.WEBRTC_HOST],n=t==r.CallConstants.CALL_TYPE_AUDIO?n+"/"+e.call.getSessionId()+"#config.startWithVideoMuted=true&config.startWithAudioMuted=true":n+"/"+e.call.getSessionId()+"#config.startWithAudioMuted=true&config.startWithAudioMuted=true",o(n))})})},t.prototype.destroy=function(){i.isFalsy(this.call)||(this.call=void 0),i.isFalsy(this.timer)||(this.timer=void 0),i.isFalsy(this.view)||(this.view=void 0)},t.callController=void 0,t}();e.CallController=l},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3),o=n(0),i=function(){function t(){}return t.trasformJSONUser=function(t){var e;try{e=new r.User(t[o.UserConstants.UID]),Object.assign(e,t),t=e}catch(t){}return t},t}();e.UsersController=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(16),o=n(0),i=function(){function t(){}return t.trasformJSONGroup=function(t){var e;try{e=new r.Group(t[o.GroupConstants.KEYS.GUID],t[o.GroupConstants.KEYS.NAME],t[o.GroupConstants.KEYS.NAME]),Object.assign(e,t),t=e}catch(t){}return t},t}();e.GroupsController=i},function(t,e,n){"use strict";e.__esModule=!0;var r=n(2),o=n(1),i=n(0),s=n(14),a=function(){function t(t){this.store=i.constants.DEFAULT_STORE,o.isFalsy(t)||(this.store=t),this.userStore=s.createInstance({name:o.format(i.LOCAL_STORE.STORE_STRING,r.CometChat.getAppId(),i.LOCAL_STORE.USERS_STORE)}),this.userStore.setDriver([s.LOCALSTORAGE,s.INDEXEDDB,s.WEBSQL])}return t.getInstance=function(){return null==t.UserStore&&(t.UserStore=new t),t.UserStore},t.prototype.set=function(t,e){return this.userStore.setItem(t,e)},t.prototype.remove=function(t){this.userStore.removeItem(t)},t.prototype.get=function(t){return this.userStore.getItem(t)},t.prototype.clearStore=function(){return this.userStore.clear()},t.prototype.clear=function(t){},t.prototype.selectStore=function(t){this.store=t},t.prototype.storeUsers=function(t){var e=this;return t.map(function(t){e.set(t.getUid(),t)}),!0},t.prototype.storeUser=function(t){return this.set(t.getUid(),t),!0},t}();e.UserStore=a},function(t,e,n){"use strict";e.__esModule=!0;var r=n(2);e.init=function(t){return r.CometChat.getInstance(t)},e.CometChat=r.CometChat},function(t,e,n){"use strict";e.__esModule=!0;var r=n(18);e.getEndPoint=function(t,e){void 0===t&&(t=""),void 0===e&&(e={});var n=new r.EndpointFactory;return new Promise(function(r,o){var i=n.getEndpointData(t);if(i){for(var s in e)i.endpoint=i.endpoint.replace("{{"+s+"}}",e[s]);r(i)}else o({error:"Unknown endPoint name."})})}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(7);e.$iq=r.$iq,e.$build=r.$build,e.$msg=r.$msg,e.$pres=r.$pres,e.Strophe=r.Strophe,e.NS=r.Strophe.NS,e.Status=r.Strophe.Status,window.Strophe=e.Strophe,window.$iq=e.$iq,e.Strophe.addConnectionPlugin("streamManagement",{logging:!0,returnWholeStanza:!1,autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:"urn:xmpp:sm:3",_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalXMLOutput:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,_unacknowledgedStanzas:[],_acknowledgedStanzaListeners:[],addAcknowledgedStanzaListener:function(t){this._acknowledgedStanzaListeners.push(t)},enable:function(){this._c.send(e.$build("enable",{xmlns:this._NS,resume:!1})),this._c.flush(),this._c.pause()},requestAcknowledgement:function(){this._requestResponseIntervalCount=0,this._c.send(e.$build("r",{xmlns:this._NS}))},getOutgoingCounter:function(){return this._clientSentStanzasCounter},getIncomingCounter:function(){return this._clientProcessedStanzasCounter},init:function(t){this._c=t,e.Strophe.addNamespace("SM",this._NS),this._originalXMLOutput=this._c.xmlOutput,this._c.xmlOutput=this.xmlOutput.bind(this)},statusChanged:function(t){t!==e.Strophe.Status.CONNECTED&&t!==e.Strophe.Status.DISCONNECTED||(this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._unacknowledgedStanzas=[],this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,"r"),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)))},xmlOutput:function(t){for(var n,r=0;r<t.children.length;r++)n=t.children[r],(e.Strophe.isTagEqual(n,"iq")||e.Strophe.isTagEqual(n,"presence")||e.Strophe.isTagEqual(n,"message"))&&this._increaseSentStanzasCounter(n);return this._originalXMLOutput.call(this._c,t)},_incomingStanzaHandler:function(t){if(e.Strophe.isTagEqual(t,"enabled")&&t.getAttribute("xmlns")===this._NS&&(this._isStreamManagementEnabled=!0,this._c.resume()),(e.Strophe.isTagEqual(t,"iq")||e.Strophe.isTagEqual(t,"presence")||e.Strophe.isTagEqual(t,"message"))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),e.Strophe.isTagEqual(t,"a")){var n=parseInt(t.getAttribute("h"));this._handleAcknowledgedStanzas(n,this._serverProcesssedStanzasCounter),this._serverProcesssedStanzasCounter=n,0<this.requestResponseInterval&&(this._requestResponseIntervalCount=0)}return!0},_handleAcknowledgedStanzas:function(t,e){var n=t-e;n<0&&this._throwError("New reported stanza count lower than previous. New: "+t+" - Previous: "+e),n>this._unacknowledgedStanzas.length&&this._throwError("Higher reported acknowledge count than unacknowledged stanzas. Reported Acknowledge Count: "+n+" - Unacknowledge Stanza Count: "+this._unacknowledgedStanzas.length+" - New: "+t+" - Previous: "+e);for(var r=0;r<n;r++)for(var o=this._unacknowledgedStanzas.shift(),i=0;i<this._acknowledgedStanzaListeners.length;i++)this._acknowledgedStanzaListeners[i](o);this.logging&&this._unacknowledgedStanzas.length},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send(e.$build("a",{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(t){this._isStreamManagementEnabled&&(this._unacknowledgedStanzas.push(this.returnWholeStanza?t:t.getAttribute("id")),this._clientSentStanzasCounter++,0<this.requestResponseInterval&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&this.requestAcknowledgement()))},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++},_throwError:function(t){throw new Error(t)}})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=function(){var t={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(t){var e="string"==typeof t?parseInt(t,16):t;return e<65536?a(e):a(55296+((e-=65536)>>10),56320+(1023&e))},toCodePoint:p},onerror:function(){this.parentNode&&this.parentNode.replaceChild(u(this.alt,!1),this)},parse:function(e,r){return r&&"function"!=typeof r||(r={callback:r}),("string"==typeof e?function(t,e){return h(t,function(t){var n,r,o=t,s=d(t),a=e.callback(s,e);if(s&&a){for(r in o="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',t,'"',' src="',a,'"'),n=e.attributes(t,s))n.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===o.indexOf(" "+r+"=")&&(o=o.concat(" ",r,'="',n[r].replace(i,l),'"'));o=o.concat("/>")}return o})}:function(t,e){for(var r,o,i,a,c,l,f,h,p,_,g,m,v,C=function t(e,n){for(var r,o,i=e.childNodes,a=i.length;a--;)r=i[a],3===(o=r.nodeType)?n.push(r):1!==o||"ownerSVGElement"in r||s.test(r.nodeName.toLowerCase())||t(r,n);return n}(t,[]),y=C.length;y--;){for(i=!1,a=document.createDocumentFragment(),c=C[y],l=c.nodeValue,h=0;f=n.exec(l);){if((p=f.index)!==h&&a.appendChild(u(l.slice(h,p),!0)),g=f[0],m=d(g),h=p+g.length,v=e.callback(m,e),m&&v){for(o in(_=new Image).onerror=e.onerror,_.setAttribute("draggable","false"),r=e.attributes(g,m))r.hasOwnProperty(o)&&0!==o.indexOf("on")&&!_.hasAttribute(o)&&_.setAttribute(o,r[o]);_.className=e.className,_.alt=g,_.src=v,i=!0,a.appendChild(_)}_||a.appendChild(u(g,!1)),_=null}i&&(h<l.length&&a.appendChild(u(l.slice(h),!0)),c.parentNode.replaceChild(a,c))}return t})(e,{callback:r.callback||c,attributes:"function"==typeof r.attributes?r.attributes:f,base:"string"==typeof r.base?r.base:t.base,ext:r.ext||t.ext,size:r.folder||(o=r.size||t.size,"number"==typeof o?o+"x"+o:o),className:r.className||t.className,onerror:r.onerror||t.onerror});var o},replace:h,test:function(t){n.lastIndex=0;var e=n.test(t);return n.lastIndex=0,e}},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,o=String.fromCharCode(8205),i=/[&<>'"]/g,s=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,a=String.fromCharCode;return t;function u(t,e){return document.createTextNode(e?t.replace(r,""):t)}function c(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function d(t){return p(t.indexOf(o)<0?t.replace(r,""):t)}function l(t){return e[t]}function f(){return null}function h(t,e){return String(t).replace(n,e)}function p(t,e){for(var n=[],r=0,o=0,i=0;i<t.length;)r=t.charCodeAt(i++),o?(n.push((65536+(o-55296<<10)+(r-56320)).toString(16)),o=0):55296<=r&&r<=56319?o=r:n.push(r.toString(16));return n.join(e||"-")}}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o=n(9),i=function(){function t(t,e,n,i){r.isFalsy(t)||(this.jid=t,this.uid=o.getUidFromJid(t),r.isFalsy(i)||(this.priority=i),r.isFalsy(e)||(this.status=e),r.isFalsy(n)||(this.lastActiveAt=n))}return t.prototype.getUid=function(){return this.uid},t.prototype.setUid=function(t){this.uid=t},t.prototype.getJid=function(){return this.jid},t.prototype.setJid=function(t){this.jid=t},t.prototype.getPriority=function(){return this.priority},t.prototype.setPriority=function(t){this.priority=t},t.prototype.getStatus=function(){return this.status},t.prototype.setStatus=function(t){this.status=t},t.prototype.getLastActiveAt=function(){return this.lastActiveAt},t.prototype.setLastActiveAt=function(t){this.lastActiveAt=t},t.prototype.getStatusMessage=function(){return this.statusMessage},t.prototype.setStatusMessage=function(t){this.statusMessage=t},t}();e.UserPresence=i},function(t,e,n){!function(t){"use strict";var e,n,r={}.hasOwnProperty,o=function(t,e){return function(){return t.apply(e,arguments)}};t.Strophe.addConnectionPlugin("muc",{_connection:null,rooms:{},roomNames:[],init:function(e){return this._connection=e,this._muc_handler=null,t.Strophe.addNamespace("MUC_OWNER",t.Strophe.NS.MUC+"#owner"),t.Strophe.addNamespace("MUC_ADMIN",t.Strophe.NS.MUC+"#admin"),t.Strophe.addNamespace("MUC_USER",t.Strophe.NS.MUC+"#user"),t.Strophe.addNamespace("MUC_ROOMCONF",t.Strophe.NS.MUC+"#roomconfig"),t.Strophe.addNamespace("MUC_REGISTER","jabber:iq:register")},join:function(e,r,o,i,s,a,u,c){var d,l,f;return l=this.test_append_nick(e,r),d=t.$pres({from:this._connection.jid,to:l}).c("x",{xmlns:t.Strophe.NS.MUC}),null!=u&&(d=d.c("history",u).up()),null!=a&&d.cnode(t.Strophe.xmlElement("password",[],a)),null!=c&&d.up().cnode(c),null==this._muc_handler&&(this._muc_handler=this._connection.addHandler((f=this,function(n){var r,o,i,s,a,u,c,d,l;if(!(r=n.getAttribute("from")))return!0;if(u=r.split("/")[0],!f.rooms[u])return!0;if(e=f.rooms[u],o={},"message"===n.nodeName)o=e._message_handlers;else if("presence"===n.nodeName&&0<(l=n.getElementsByTagName("x")).length)for(i=0,a=l.length;i<a;i++)if(c=l[i],(d=c.getAttribute("xmlns"))&&d.match(t.Strophe.NS.MUC)){o=e._presence_handlers;break}for(s in o)(0,o[s])(n,e)||delete o[s];return!0}))),this.rooms.hasOwnProperty(e)||(this.rooms[e]=new n(this,e,r,a),i&&this.rooms[e].addHandler("presence",i),o&&this.rooms[e].addHandler("message",o),s&&this.rooms[e].addHandler("roster",s),this.roomNames.push(e)),this._connection.send(d)},leave:function(e,n,r,o){var i,s,a,u;return i=this.roomNames.indexOf(e),delete this.rooms[e],0<=i&&(this.roomNames.splice(i,1),0===this.roomNames.length&&(this._connection.deleteHandler(this._muc_handler),this._muc_handler=null)),u=this.test_append_nick(e,n),a=this._connection.getUniqueId(),s=t.$pres({type:"unavailable",id:a,from:this._connection.jid,to:u}),null!=o&&s.c("status",o),null!=r&&this._connection.addHandler(r,null,"presence",null,a),this._connection.send(s),a},message:function(e,n,r,o,i,s){var a,u,c;return c=this.test_append_nick(e,n),i=i||(null!=n?"chat":"groupchat"),s=s||this._connection.getUniqueId(),(a=t.$msg({to:c,from:this._connection.jid,type:i,id:s}).c("body").t(r)).up(),null!=o&&(a.c("html",{xmlns:t.Strophe.NS.XHTML_IM}).c("body",{xmlns:t.Strophe.NS.XHTML}).h(o),0===a.node.childNodes.length?(u=a.node.parentNode,a.up().up(),a.node.removeChild(u)):a.up().up()),a.c("x",{xmlns:"jabber:x:event"}).c("composing"),this._connection.send(a),s},groupchat:function(t,e,n,r){return this.message(t,null,e,n,void 0,r)},invite:function(e,n,r){var o,i;return i=this._connection.getUniqueId(),o=t.$msg({from:this._connection.jid,to:e,id:i}).c("x",{xmlns:t.Strophe.NS.MUC_USER}).c("invite",{to:n}),null!=r&&o.c("reason",r),this._connection.send(o),i},multipleInvites:function(e,n,r){var o,i,s,a,u;for(a=this._connection.getUniqueId(),i=t.$msg({from:this._connection.jid,to:e,id:a}).c("x",{xmlns:t.Strophe.NS.MUC_USER}),o=0,s=n.length;o<s;o++)u=n[o],i.c("invite",{to:u}),null!=r&&(i.c("reason",r),i.up()),i.up();return this._connection.send(i),a},directInvite:function(e,n,r,o){var i,s,a;return a=this._connection.getUniqueId(),i={xmlns:"jabber:x:conference",jid:e},null!=r&&(i.reason=r),null!=o&&(i.password=o),s=t.$msg({from:this._connection.jid,to:n,id:a}).c("x",i),this._connection.send(s),a},queryOccupants:function(e,n,r){var o,i;return o={xmlns:t.Strophe.NS.DISCO_ITEMS},i=t.$iq({from:this._connection.jid,to:e,type:"get"}).c("query",o),this._connection.sendIQ(i,n,r)},configure:function(e,n,r){var o,i;return o=t.$iq({to:e,type:"get"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}),i=o.tree(),this._connection.sendIQ(i,n,r)},cancelConfigure:function(e){var n,r;return n=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"cancel"}),r=n.tree(),this._connection.sendIQ(r)},saveConfiguration:function(e,n,r,o){var i,s,a,u,c;if(a=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}),void 0!==t.Strophe.x&&void 0!==t.Strophe.x.Form&&n instanceof t.Strophe.x.Form)n.type="submit",a.cnode(n.toXML());else for(a.c("x",{xmlns:"jabber:x:data",type:"submit"}),s=0,u=n.length;s<u;s++)i=n[s],a.cnode(i).up();return c=a.tree(),this._connection.sendIQ(c,r,o)},createInstantRoom:function(e,n,r){var o;return o=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"}),this._connection.sendIQ(o.tree(),n,r)},createConfiguredRoom:function(e,n,o,i){var s,a,u;for(s in(a=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"})).c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),n)r.call(n,s)&&(u=n[s],a.c("field",{var:s}).c("value").t(u).up().up());return this._connection.sendIQ(a.tree(),o,i)},setTopic:function(e,n){var r;return r=t.$msg({to:e,from:this._connection.jid,type:"groupchat"}).c("subject",{xmlns:"jabber:client"}).t(n),this._connection.send(r.tree())},_modifyPrivilege:function(e,n,r,o,i){var s;return s=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_ADMIN}).cnode(n.node),null!=r&&s.c("reason",r),this._connection.sendIQ(s.tree(),o,i)},modifyRole:function(e,n,r,o,i,s){var a;return a=t.$build("item",{nick:n,role:r}),this._modifyPrivilege(e,a,o,i,s)},kick:function(t,e,n,r,o){return this.modifyRole(t,e,"none",n,r,o)},voice:function(t,e,n,r,o){return this.modifyRole(t,e,"participant",n,r,o)},mute:function(t,e,n,r,o){return this.modifyRole(t,e,"visitor",n,r,o)},op:function(t,e,n,r,o){return this.modifyRole(t,e,"moderator",n,r,o)},deop:function(t,e,n,r,o){return this.modifyRole(t,e,"participant",n,r,o)},modifyAffiliation:function(e,n,r,o,i,s){var a;return a=t.$build("item",{jid:n,affiliation:r}),this._modifyPrivilege(e,a,o,i,s)},ban:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"outcast",n,r,o)},member:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"member",n,r,o)},revoke:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"none",n,r,o)},owner:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"owner",n,r,o)},admin:function(t,e,n,r,o){return this.modifyAffiliation(t,e,"admin",n,r,o)},changeNick:function(e,n){var r,o;return o=this.test_append_nick(e,n),r=t.$pres({from:this._connection.jid,to:o,id:this._connection.getUniqueId()}),this._connection.send(r.tree())},setStatus:function(e,n,r,o){var i,s;return s=this.test_append_nick(e,n),i=t.$pres({from:this._connection.jid,to:s}),null!=r&&i.c("show",r).up(),null!=o&&i.c("status",o),this._connection.send(i.tree())},registrationRequest:function(e,n,r){var o;return o=t.$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:t.Strophe.NS.MUC_REGISTER}),this._connection.sendIQ(o,function(t){var e,r,o,i,s,a;for((r=t.getElementsByTagName("field")).length,i={required:[],optional:[]},s=0,a=r.length;s<a;s++)e=r[s],o={var:e.getAttribute("var"),label:e.getAttribute("label"),type:e.getAttribute("type")},0<e.getElementsByTagName("required").length?i.required.push(o):i.optional.push(o);return n(i)},r)},submitRegistrationForm:function(e,n,r,o){var i,s,a;for(s in(i=t.$iq({to:e,type:"set"}).c("query",{xmlns:t.Strophe.NS.MUC_REGISTER})).c("x",{xmlns:"jabber:x:data",type:"submit"}),i.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#register").up().up(),n)a=n[s],i.c("field",{var:s}).c("value").t(a).up().up();return this._connection.sendIQ(i,r,o)},listRooms:function(e,n,r){var o;return o=t.$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:t.Strophe.NS.DISCO_ITEMS}),this._connection.sendIQ(o,n,r)},test_append_nick:function(e,n){var r,o;return o=t.Strophe.escapeNode(t.Strophe.getNodeFromJid(e)),r=t.Strophe.getDomainFromJid(e),o+"@"+r+(null!=n?"/"+n:"")}}),n=function(){function n(e,n,r,i){this.client=e,this.name=n,this.nick=r,this.password=i,this._roomRosterHandler=o(this._roomRosterHandler,this),this._addOccupant=o(this._addOccupant,this),this.roster={},this._message_handlers={},this._presence_handlers={},this._roster_handlers={},this._handler_ids=0,this.client.muc&&(this.client=this.client.muc),this.name=t.Strophe.getBareJidFromJid(this.name),this.addHandler("presence",this._roomRosterHandler)}return n.prototype.join=function(t,e,n){return this.client.join(this.name,this.nick,t,e,n,this.password)},n.prototype.leave=function(t,e){return this.client.leave(this.name,this.nick,t,e),delete this.client.rooms[this.name]},n.prototype.message=function(t,e,n,r){return this.client.message(this.name,t,e,n,r)},n.prototype.groupchat=function(t,e){return this.client.groupchat(this.name,t,e)},n.prototype.invite=function(t,e){return this.client.invite(this.name,t,e)},n.prototype.multipleInvites=function(t,e){return this.client.invite(this.name,t,e)},n.prototype.directInvite=function(t,e){return this.client.directInvite(this.name,t,e,this.password)},n.prototype.configure=function(t){return this.client.configure(this.name,t)},n.prototype.cancelConfigure=function(){return this.client.cancelConfigure(this.name)},n.prototype.saveConfiguration=function(t){return this.client.saveConfiguration(this.name,t)},n.prototype.queryOccupants=function(t,e){return this.client.queryOccupants(this.name,t,e)},n.prototype.setTopic=function(t){return this.client.setTopic(this.name,t)},n.prototype.modifyRole=function(t,e,n,r,o){return this.client.modifyRole(this.name,t,e,n,r,o)},n.prototype.kick=function(t,e,n,r){return this.client.kick(this.name,t,e,n,r)},n.prototype.voice=function(t,e,n,r){return this.client.voice(this.name,t,e,n,r)},n.prototype.mute=function(t,e,n,r){return this.client.mute(this.name,t,e,n,r)},n.prototype.op=function(t,e,n,r){return this.client.op(this.name,t,e,n,r)},n.prototype.deop=function(t,e,n,r){return this.client.deop(this.name,t,e,n,r)},n.prototype.modifyAffiliation=function(t,e,n,r,o){return this.client.modifyAffiliation(this.name,t,e,n,r,o)},n.prototype.ban=function(t,e,n,r){return this.client.ban(this.name,t,e,n,r)},n.prototype.member=function(t,e,n,r){return this.client.member(this.name,t,e,n,r)},n.prototype.revoke=function(t,e,n,r){return this.client.revoke(this.name,t,e,n,r)},n.prototype.owner=function(t,e,n,r){return this.client.owner(this.name,t,e,n,r)},n.prototype.admin=function(t,e,n,r){return this.client.admin(this.name,t,e,n,r)},n.prototype.changeNick=function(t){return this.nick=t,this.client.changeNick(this.name,nick)},n.prototype.setStatus=function(t,e){return this.client.setStatus(this.name,this.nick,t,e)},n.prototype.addHandler=function(t,e){var n;switch(n=this._handler_ids++,t){case"presence":this._presence_handlers[n]=e;break;case"message":this._message_handlers[n]=e;break;case"roster":this._roster_handlers[n]=e;break;default:return this._handler_ids--,null}return n},n.prototype.removeHandler=function(t){return delete this._presence_handlers[t],delete this._message_handlers[t],delete this._roster_handlers[t]},n.prototype._addOccupant=function(t){var n;return n=new e(t,this),this.roster[n.nick]=n},n.prototype._roomRosterHandler=function(t){var e,r,o,i,s;switch(e=n._parsePresence(t),i=e.nick,o=e.newnick||null,e.type){case"error":return!0;case"unavailable":o&&(e.nick=o,this.roster[i]&&this.roster[o]&&(this.roster[i].update(this.roster[o]),this.roster[o]=this.roster[i]),this.roster[i]&&!this.roster[o]&&(this.roster[o]=this.roster[i].update(e))),delete this.roster[i];break;default:this.roster[i]?this.roster[i].update(e):this._addOccupant(e)}for(r in s=this._roster_handlers)(0,s[r])(this.roster,this)||delete this._roster_handlers[r];return!0},n._parsePresence=function(e){var n,r,o,i,s,a,u,c,d,l;for((o={}).nick=t.Strophe.getResourceFromJid(e.getAttribute("from")),o.type=e.getAttribute("type"),o.states=[],c=e.childNodes,i=0,a=c.length;i<a;i++)switch((n=c[i]).nodeName){case"error":o.errorcode=n.getAttribute("code"),o.error=null!=(d=n.childNodes[0])?d.nodeName:void 0;break;case"status":o.status=n.textContent||null;break;case"show":o.show=n.textContent||null;break;case"x":if(n.getAttribute("xmlns")===t.Strophe.NS.MUC_USER)for(l=n.childNodes,s=0,u=l.length;s<u;s++)switch((r=l[s]).nodeName){case"item":o.affiliation=r.getAttribute("affiliation"),o.role=r.getAttribute("role"),o.jid=r.getAttribute("jid"),o.newnick=r.getAttribute("nick");break;case"status":r.getAttribute("code")&&o.states.push(r.getAttribute("code"))}}return o},n}(),function(){function t(t){this.parse=o(this.parse,this),null!=t&&this.parse(t)}t.prototype.parse=function(t){var e,n,r,o,i,s,a,u,c,d,l,f,h;for(f=t.getElementsByTagName("query")[0].childNodes,this.identities=[],this.features=[],this.x=[],i=0,c=f.length;i<c;i++)switch(r=f[i],n=r.attributes,r.nodeName){case"identity":for(s={},a=0,d=n.length;a<d;a++)e=n[a],s[e.name]=e.textContent;this.identities.push(s);break;case"feature":this.features.push(r.getAttribute("var"));break;case"x":if("FORM_TYPE"===!r.childNodes[0].getAttribute("var")||"hidden"===!r.childNodes[0].getAttribute("type"))break;for(h=r.childNodes,u=0,l=h.length;u<l;u++)(o=h[u]).attributes.type||this.x.push({var:o.getAttribute("var"),label:o.getAttribute("label")||"",value:o.firstChild.textContent||""})}return{identities:this.identities,features:this.features,x:this.x}}}(),e=function(){function t(t,e){this.room=e,this.update=o(this.update,this),this.admin=o(this.admin,this),this.owner=o(this.owner,this),this.revoke=o(this.revoke,this),this.member=o(this.member,this),this.ban=o(this.ban,this),this.modifyAffiliation=o(this.modifyAffiliation,this),this.deop=o(this.deop,this),this.op=o(this.op,this),this.mute=o(this.mute,this),this.voice=o(this.voice,this),this.kick=o(this.kick,this),this.modifyRole=o(this.modifyRole,this),this.update(t)}return t.prototype.modifyRole=function(t,e,n,r){return this.room.modifyRole(this.nick,t,e,n,r)},t.prototype.kick=function(t,e,n){return this.room.kick(this.nick,t,e,n)},t.prototype.voice=function(t,e,n){return this.room.voice(this.nick,t,e,n)},t.prototype.mute=function(t,e,n){return this.room.mute(this.nick,t,e,n)},t.prototype.op=function(t,e,n){return this.room.op(this.nick,t,e,n)},t.prototype.deop=function(t,e,n){return this.room.deop(this.nick,t,e,n)},t.prototype.modifyAffiliation=function(t,e,n,r){return this.room.modifyAffiliation(this.jid,t,e,n,r)},t.prototype.ban=function(t,e,n){return this.room.ban(this.jid,t,e,n)},t.prototype.member=function(t,e,n){return this.room.member(this.jid,t,e,n)},t.prototype.revoke=function(t,e,n){return this.room.revoke(this.jid,t,e,n)},t.prototype.owner=function(t,e,n){return this.room.owner(this.jid,t,e,n)},t.prototype.admin=function(t,e,n){return this.room.admin(this.jid,t,e,n)},t.prototype.update=function(t){return this.nick=t.nick||null,this.affiliation=t.affiliation||null,this.role=t.role||null,this.jid=t.jid||null,this.status=t.status||null,this.show=t.show||null,this},t}()}(n(7))},function(t,e,n){var r,o;r=[n(7)],void 0===(o=function(t){var e,n,r;return e=t.Strophe,t.$build,n=t.$iq,t.$msg,t.$pres,r=function(t,r,o){var i=n(r?{type:t,to:r}:{type:t});return i.c("vCard",{xmlns:e.NS.VCARD}),o&&i.cnode(o),i},e.addConnectionPlugin("vcard",{_connection:null,init:function(t){return this._connection=t,e.addNamespace("VCARD","vcard-temp")},get:function(t,e,n){var o=r("get",e);return this._connection.sendIQ(o,t,n)},set:function(t,e,n,o){var i=r("set",n,e);return this._connection.sendIQ(i,t,o)}}),t}.apply(e,r))||(t.exports=o)},function(t,e){Strophe.addConnectionPlugin("receipts",{_conn:null,_msgQueue:{},_retries:{},_resendCount:10,_resendTime:9e3,init:function(t){this._conn=t,Strophe.addNamespace("RECEIPTS","urn:xmpp:receipts")},statusChanged:function(t){if(t===Strophe.Status.CONNECTED||t===Strophe.Status.ATTACHED){var e=this;setTimeout(function(){e.resendQueue()},5e3)}},sendMessage:function(t){var e=this._conn.getUniqueId();t.tree().setAttribute("id",e);var n=Strophe.xmlElement("request",{xmlns:Strophe.NS.RECEIPTS});return t.tree().appendChild(n),this._msgQueue[e]=t,this._retries[e]=0,this._conn.send(t),this.resendMessage(e),e},resendMessage:function(t){var e=this;setTimeout(function(){if(e._msgQueue[t]){if(!e._conn.connected)return void e.resendMessage(t);if(e._retries[t]++,e._retries[t]>e._resendCount)return;e._msgQueue[t].tree().setAttribute("from",e._conn.jid),e._conn.send(e._msgQueue[t]),e.resendMessage(t)}},this._resendTime)},addReceiptHandler:function(t,e,n,r){var o=this;this._conn.addHandler(function(e){return o._processReceipt(e),t(e)},Strophe.NS.RECEIPTS,"message",e,null,n,r)},_processReceipt:function(t){var e=t.getAttribute("id"),n=t.getAttribute("from"),r=t.getElementsByTagName("request"),o=t.getElementsByTagName("received");if(0<r.length){var i=$msg({to:n,from:this._conn.jid,id:this._conn.getUniqueId()}),s=Strophe.xmlElement("received",{xmlns:Strophe.NS.RECEIPTS,id:e});i.tree().appendChild(s),this._conn.send(i)}if(0<o.length){var a=o[0].getAttribute("id");a&&(delete this._msgQueue[a],delete this._retries[a])}},resendQueue:function(){if(this._conn.connected)for(var t in this._msgQueue)this._msgQueue.hasOwnProperty(t)&&this._conn.send(this._msgQueue[t]);else{var e=this;setTimeout(function(){e.resendQueue()},5e3)}},getUnreceivedMsgs:function(){var t=[];for(var e in this._msgQueue)this._msgQueue.hasOwnProperty(e)&&t.push(this._msgQueue[e]);return t},clearMessages:function(){this._msgQueue={}}})},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3),o=n(0),i=n(9),s=function(){function t(){}return t.transformVCard=function(t){var e={};return e[o.UserConstants.NAME]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.NAME)[0])),e[o.UserConstants.UID]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.UID)[0])),e[o.UserConstants.AVATAR]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.AVATAR)[0])),e[o.UserConstants.LINK]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.LINK)[0])),e[o.UserConstants.STATUS]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.STATUS)[0])),e[o.UserConstants.LAST_ACTIVE_AT]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.LAST_ACTIVE_AT)[0])),e[o.UserConstants.ROLE]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.ROLE)[0])),e[o.UserConstants.USER_NAME]=unescape(i.parseHTML(t.getElementsByTagName(o.UserConstants.USER_NAME)[0])),new r.User(e)},t}();e.VCardController=s},function(t,e,n){"use strict";e.__esModule=!0,e.ERRORS={PARAMETER_MISSING:{code:404,name:"MISSING/ INVALID PARAMETER"},NOT_INITIALIZED:{code:-1,name:"INITIALIZATION NOT DONE"}},e.INIT_ERROR={NO_APP_ID:{code:e.ERRORS.PARAMETER_MISSING.code,name:e.ERRORS.PARAMETER_MISSING.name,message:"mandatory parameter appId missing",details:{}}},e.LOGIN_ERROR={NOT_INITIALIZED:{code:"-1",name:"COMETCHAT_INITIALIZATION_NOT_DONE",message:"please initialize the cometchat before using login method",details:{}},UNAUTHORISED:{code:401,name:"USER_NOT_AUTHORISED",message:"provided user is not authorised",details:{}},XMPP_CONNECTION_FAIL:{code:-1,name:"XMPP_CONNECTION_FAIL",message:"XMPP username/password not correct",details:{}}}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var i=n(5),s=n(13),a=n(1),u=n(10),c=n(0),d=function(){function t(e){this.fetchingInProgress=!1,this.limit=t.DEFAULT_LIMIT,this.cursorValue=0,this.cursorAffix=c.MessageConstatnts.PAGINATION.CURSOR_AFFIX_DEFAULT,this.cursorField=c.MessageConstatnts.PAGINATION.CURSOR_FIELD_DEFAULT,this.isGroupRequest=!1,this.messageStore=u.MessagesStore.getInstance(),a.isFalsy(e)||(this.limit=e.limit,this.listId=e.listId,this.cursorField=e.cursorField,this.cursorValue=e.cursorValue,this.isGroupRequest=e.isGroupRequest)}return t.prototype.fetchPrevious=function(){var t=this;return new Promise(function(e,n){t.fetchingInProgress?(t.fetchingInProgress=!0,n([])):t.messageStore.get(t.listId).then(function(r){t.fetchingInProgress=!0;var o=[];if(0==t.cursorValue)try{t.cursorValue=Math.max.apply(Math,Object.keys(r))+1}catch(o){t.cursorValue=1}r&&(o=Object.keys(r).filter(function(e){if(parseInt(r[e][t.cursorField])<t.cursorValue)return e}));var a=0,u=[];if(o.reverse().map(function(e){a++,parseInt(t.cursorValue.toString())>=parseInt(r[e][t.cursorField])&&a<=t.limit&&(t.cursorValue=r[e][t.cursorField],t.updateCursor(t.cursorValue),u=u.concat([s.MessageController.trasformJSONMessge(r[e])]))}).length<=t.limit){var c=[],d="getUserMessages",l={listId:t.listId};return t.isGroupRequest&&(d="getGroupMessages"),i.makeApiCall(d,l,t.createData()).then(function(n){0<n.data.length?(n.data.map(function(e){t.updateCursor(e[t.cursorField]),c.push(s.MessageController.trasformJSONMessge(e))}),t.messageStore.storeMessages(c),e(u.concat(c).reverse())):0<u.length?e(u.slice().reverse()):e([]),t.fetchingInProgress=!1},function(e){n(e),t.fetchingInProgress=!1})}e(u.slice().reverse()),t.fetchingInProgress=!1})})},t.prototype.createData=function(){var t={};return t[c.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,t[c.MessageConstatnts.PAGINATION.KEYS.CURSOR_AFFIX]=this.cursorAffix,t[c.MessageConstatnts.PAGINATION.KEYS.CURSOR_FIELD]=this.cursorField,t[c.MessageConstatnts.PAGINATION.KEYS.CURSOR_VALUE]=this.cursorValue,t},t.prototype.updateCursor=function(t){(this.cursorValue>t||0==this.cursorValue)&&(this.cursorValue=t)},t.MAX_LIMIT=1,t.DEFAULT_LIMIT=1,t}();e.MessagesRequest=d;var l=function(){function t(t,e,n){this.isGroupRequest=!1,this.cursorField=n,this.cursorValue=e,this.listId=t}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyWord=t,this},t.prototype.build=function(){return new d(this)},t}(),f=function(t){function e(){var e=t.call(this)||this;return e.isGroupRequest=!1,e.limit=30,e.cursorField=c.MessageConstatnts.PAGINATION.CURSOR_FILEDS.ID,e.cursorValue=0,e}return o(e,t),e.prototype.setLimit=function(t){return this.limit=t,this},e.prototype.setGUID=function(t){return this.isGroupRequest=!0,this.listId=t,this},e.prototype.setUID=function(t){return this.isGroupRequest=!1,this.listId=t,this},e.prototype.setSearchKeyWord=function(t){return this.searchKeyWord=t,this},e.prototype.build=function(){return new d(this)},e}(e.MessagesRequestBuilder=l);e.DefaultMessagesRequestBuilder=f;var h=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.isGroupRequest=!0,o.isGroupRequest=!0,o}return o(e,t),e.prototype.setLimit=function(t){return this.limit=t,this},e.prototype.build=function(){return new d(this)},e}(l);e.GroupMessagesRequestBuilder=h;var p=function(t){function e(e){var n=t.call(this)||this;return n.isGroupRequest=!0,n.isGroupRequest=!0,n}return o(e,t),e.prototype.setLimit=function(t){return this.limit=t,this},e.prototype.build=function(){return new d(this)},e}(f);e.DefaultGroupMessagesRequestBuilder=p},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5),o=n(1),i=n(4),s=n(24),a=function(){function t(e){this.limit=t.DEFAULT_LIMIT,this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},o.isFalsy(e)||(this.limit=e.limit,this.search_keyword=e.searchKeyWord)}return t.prototype.fetchPrevious=function(){var t=this;return new Promise(function(e,n){if(0!=t.next_page)return r.makeApiCall("groups",{},t.getPreData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t,e){r.push(s.GroupsController.trasformJSONGroup(t))}),e(r)}e([])});e([])})},t.prototype.fetchNext=function(){var t=this;return new Promise(function(e,n){r.makeApiCall("getGroups",{},t.getNextData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t,e){r.push(s.GroupsController.trasformJSONGroup(t))}),e(r)}e([])},function(t){n(new i.CometChatException(t.error))})})},t.prototype.getNextData=function(){var t={};if(t.per_page=this.limit,1==this.current_page)t.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return t.page=this.next_page,t;t.page=this.next_page++}return t},t.prototype.getPreData=function(){var t={};return t.per_page=this.limit,0<=this.next_page&&0<this.next_page&&(t.page=--this.next_page),t},t.MAX_LIMIT=2,t.DEFAULT_LIMIT=1,t}();e.GroupsRequest=a;var u=function(){function t(){}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyWord=t,this},t.prototype.build=function(){return new a(this)},t}();e.GroupsRequestBuilder=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0;var i=n(5),s=n(1),a=n(6),u=n(4),c=n(40),d=function(){function t(e){this.limit=t.DEFAULT_LIMIT,this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.isOutCastReq=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=a.LocalStorage.getInstance(),s.isFalsy(e)||(this.limit=e.limit,this.guid=e.guid,this.search_keyword=e.searchKeyWord,e instanceof f&&(this.isOutCastReq=e.isOutCastReq))}return t.prototype.fetchPrevious=function(){var t=this;return new Promise(function(e,n){if(0!=t.next_page)return i.makeApiCall(t.isOutCastReq?"getBannedGroupMembers":"getGroupMembers",{guid:t.guid},t.getPreData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t){r.push(c.GroupMembersController.trasformJSONGroupMember(t))}),e(r)}e([])},function(t){n(new u.CometChatException(t.error))});e([])})},t.prototype.fetchNext=function(){var t=this;return new Promise(function(e,n){i.makeApiCall(t.isOutCastReq?"getBannedGroupMembers":"getGroupMembers",{guid:t.guid},t.getNextData()).then(function(n){if(n.meta&&(t.total_pages=n.meta.pagination.total_pages),0<n.data.length){t.pagination=n.meta.pagination;var r=[];n.data.map(function(t){r.push(c.GroupMembersController.trasformJSONGroupMember(t))}),e(r)}e([])},function(t){n(new u.CometChatException(t.error))})})},t.prototype.getNextData=function(){var t={};if(t.per_page=this.limit,1==this.current_page)t.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return t.page=this.next_page,t;t.page=++this.next_page}return t},t.prototype.getPreData=function(){var t={};return t.per_page=this.limit,0<=this.next_page&&0<this.next_page&&(t.page=--this.next_page),t},t.MAX_LIMIT=2,t.DEFAULT_LIMIT=1,t}();e.GroupMembersRequest=d;var l=function(){function t(t){this.guid=t}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyWord=t,this},t.prototype.build=function(){return new d(this)},t}(),f=function(t){function e(e){var n=t.call(this,e)||this;return n.isOutCastReq=!0,n}return o(e,t),e.prototype.build=function(){return new d(this)},e}(e.GroupMembersRequestBuilder=l);e.GroupOutCastMembersRequestBuilder=f},function(t,e,n){"use strict";e.__esModule=!0;var r=n(41),o=n(3),i=n(0),s=function(){function t(){}return t.trasformJSONGroupMember=function(t){var e,n;try{e=new r.GroupMember(t[i.GroupMemersConstans.GUID],t[i.GroupMemersConstans.UID]),n=new o.User({uid:t[i.GroupMemersConstans.UID]}),Object.assign(e,t),Object.assign(n,t[i.GroupMemersConstans.USER]),e.setUser(n),t=e}catch(t){}return t},t}();e.GroupMembersController=s},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=function(){function t(t,e){this.joinedAt=0,this.isBanned=0,this.guid=t,this.uid=e}return t.prototype.setGuid=function(t){this.guid=t},t.prototype.setUid=function(t){this.uid=t},t.prototype.setScope=function(t){this.scope=t},t.prototype.setJoinedAt=function(t){this.joinedAt=t},t.prototype.setIsBanned=function(t){this.isBanned=t},t.prototype.setUser=function(t){this.user=t},t.prototype.getGuid=function(){return this.guid},t.prototype.getUid=function(){return this.uid},t.prototype.getuser=function(){return this.user},t.prototype.getScope=function(){return this.scope},t.prototype.getJoinedAt=function(){return this.joinedAt},t.prototype.getIsBanned=function(){return this.isBanned},t.GroupMemberScope=r.GroupMemberScope,t}();e.GroupMember=o},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5),o=n(1),i=n(6),s=n(23),a=n(4),u=n(25),c=n(11),d=n(0),l=n(2),f=function(){function t(e){this.limit=t.DEFAULT_LIMIT,this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=i.LocalStorage.getInstance(),t.userStore=u.UserStore.getInstance(),o.isFalsy(e)||(this.limit=e.limit,this.search_keyword=e.searchKeyWord)}return t.prototype.fetchPrevious=function(){var e=this;return new Promise(function(n,o){if(0!=e.next_page)return r.makeApiCall("users",{},e.getPreData()).then(function(r){if(r.meta&&(e.total_pages=r.meta.pagination.total_pages),0<r.data.length){e.pagination=r.meta.pagination;var o=[];r.data.map(function(t,e){o.push(s.UsersController.trasformJSONUser(t))}),t.userStore.storeUsers(o),n(o)}n([])},function(t){o(new a.CometChatException(t.error))});n([])})},t.prototype.fetchNext=function(){var e=this;return new Promise(function(n,i){r.makeApiCall("users",{},e.getNextData()).then(function(r){if(r.meta&&(e.total_pages=r.meta.pagination.total_pages),0<r.data.length){e.pagination=r.meta.pagination;var i=[],a=[];r.data.map(function(t){i.push(s.UsersController.trasformJSONUser(t)),a.push(o.format(d.XMPP.username_string,l.CometChat.getAppId(),t[d.UserConstants.UID]))}),c.XMPPConnectionHelper.getInstance().getPresenceInfo(a,function(e){i.map(function(t,n){e[n]&&(t.setLastActiveAt(e[n].getLastActiveAt()),t.setStatus(e[n].getStatus()))}),t.userStore.storeUsers(i),n(i)})}else n([])},function(t){i(new a.CometChatException(t.error))})})},t.prototype.getNextData=function(){var t={};if(t.per_page=this.limit,0==this.current_page)t.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return t.page=this.next_page,t;t.page=++this.next_page}return t},t.prototype.getPreData=function(){var t={};return t.per_page=this.limit,0<=this.next_page&&0<this.next_page&&(t.page=--this.next_page),t},t.MAX_LIMIT=2,t.DEFAULT_LIMIT=1,t}();e.UsersRequest=f;var h=function(){function t(){}return t.prototype.setLimit=function(t){return this.limit=t,this},t.prototype.setSearchKeyWord=function(t){return this.searchKeyWord=t,this},t.prototype.build=function(){return new f(this)},t}();e.UsersRequestBuilder=h}])})},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),o=Array.prototype;void 0==o[r]&&n("32e9")(o,r,{}),t.exports=function(t){o[r][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9def":function(t,e,n){var r=n("4588"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a25f:function(t,e,n){var r=n("7726"),o=r.navigator;t.exports=o&&o.userAgent||""},a5b8:function(t,e,n){"use strict";var r=n("d8e8");function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},bcaa:function(t,e,n){var r=n("cb7c"),o=n("d3f4"),i=n("a5b8");t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t),s=n.resolve;return s(e),n.promise}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),o=n("9def"),i=n("77f1");t.exports=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),d=i(s,c);if(t&&n!=n){while(c>d)if(a=u[d++],a!=a)return!0}else for(;c>d;d++)if((t||d in u)&&u[d]===n)return t||d||0;return!t&&-1}}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),o=n("d53b"),i=n("84f2"),s=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var r=n("69a8"),o=n("6821"),i=n("c366")(!1),s=n("613b")("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);while(e.length>u)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},dcbc:function(t,e,n){var r=n("2aba");t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},ebd6:function(t,e,n){var r=n("cb7c"),o=n("d8e8"),i=n("2b4c")("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[i])?e:o(n)}},f605:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement}}]);
//# sourceMappingURL=chunk-vendors.8cd0fb45.js.map